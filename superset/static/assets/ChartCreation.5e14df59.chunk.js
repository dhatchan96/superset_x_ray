"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(globalThis["webpackChunksuperset"] = globalThis["webpackChunksuperset"] || []).push([["ChartCreation"],{

/***/ "./src/dashboard/components/nativeFilters/utils.ts":
/*!*********************************************************!*\
  !*** ./src/dashboard/components/nativeFilters/utils.ts ***!
  \*********************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   findTabsWithChartsInScope: () => (/* binding */ findTabsWithChartsInScope),\n/* harmony export */   getExtraFormData: () => (/* binding */ getExtraFormData),\n/* harmony export */   getFilterValueForDisplay: () => (/* binding */ getFilterValueForDisplay),\n/* harmony export */   getFormData: () => (/* binding */ getFormData),\n/* harmony export */   mergeExtraFormData: () => (/* binding */ mergeExtraFormData),\n/* harmony export */   nativeFilterGate: () => (/* binding */ nativeFilterGate)\n/* harmony export */ });\n/* unused harmony export isCrossFilter */\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/query/constants.ts\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/chart/registries/ChartMetadataRegistrySingleton.ts\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/chart/types/Base.ts\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/utils/featureFlags.ts\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/translation/TranslatorSingleton.ts\");\n/* harmony import */ var src_dashboard_util_extractUrlParams__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/dashboard/util/extractUrlParams */ \"./src/dashboard/util/extractUrlParams.ts\");\n/* harmony import */ var _util_componentTypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/componentTypes */ \"./src/dashboard/util/componentTypes.ts\");\n/* harmony import */ var _util_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/constants */ \"./src/dashboard/util/constants.ts\");\n/* harmony import */ var _utils_getBootstrapData__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../utils/getBootstrapData */ \"./src/utils/getBootstrapData.ts\");\n/* module decorator */ module = __webpack_require__.hmd(module);\n(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\n\n\n\n\n\nconst getDefaultRowLimit = () => {var _bootstrapData$common, _bootstrapData$common2;\n  const bootstrapData = (0,_utils_getBootstrapData__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\n  const nativeFilterDefaultRowLimit = bootstrapData == null ? void 0 : (_bootstrapData$common = bootstrapData.common) == null ? void 0 : (_bootstrapData$common2 = _bootstrapData$common.conf) == null ? void 0 : _bootstrapData$common2.NATIVE_FILTER_DEFAULT_ROW_LIMIT;\n  return nativeFilterDefaultRowLimit || 1000;\n};\nconst getFormData = ({ datasetId, dependencies = {}, groupby, defaultDataMask, controlValues, filterType, sortMetric, adhoc_filters, time_range, granularity_sqla, type, dashboardId, id }) => {var _defaultDataMask$filt;\n  const otherProps = {};\n  if (datasetId) {\n    otherProps.datasource = `${datasetId}__table`;\n  }\n  if (groupby) {\n    otherProps.groupby = [groupby];\n  }\n  if (sortMetric) {\n    otherProps.sortMetric = sortMetric;\n  }\n  return {\n    ...controlValues,\n    ...otherProps,\n    adhoc_filters: adhoc_filters != null ? adhoc_filters : [],\n    extra_filters: [],\n    extra_form_data: dependencies,\n    granularity_sqla,\n    metrics: ['count'],\n    row_limit: getDefaultRowLimit(),\n    showSearch: true,\n    defaultValue: defaultDataMask == null ? void 0 : (_defaultDataMask$filt = defaultDataMask.filterState) == null ? void 0 : _defaultDataMask$filt.value,\n    time_range,\n    url_params: (0,src_dashboard_util_extractUrlParams__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('regular'),\n    inView: true,\n    viz_type: filterType,\n    type,\n    dashboardId,\n    native_filter_id: id\n  };\n};\nfunction mergeExtraFormData(originalExtra = {}, newExtra = {}) {\n  const mergedExtra = {};\n  _superset_ui_core__WEBPACK_IMPORTED_MODULE_4__.EXTRA_FORM_DATA_APPEND_KEYS.forEach((key) => {\n    const mergedValues = [\n    ...(originalExtra[key] || []),\n    ...(newExtra[key] || [])];\n\n    if (mergedValues.length) {\n      mergedExtra[key] = mergedValues;\n    }\n  });\n  _superset_ui_core__WEBPACK_IMPORTED_MODULE_4__.EXTRA_FORM_DATA_OVERRIDE_KEYS.forEach((key) => {\n    const originalValue = originalExtra[key];\n    if (originalValue !== undefined) {\n      mergedExtra[key] = originalValue;\n    }\n    const newValue = newExtra[key];\n    if (newValue !== undefined) {\n      mergedExtra[key] = newValue;\n    }\n  });\n  return mergedExtra;\n}\nfunction isCrossFilter(vizType) {var _getChartMetadataRegi, _getChartMetadataRegi2;\n  // @ts-ignore need export from superset-ui `ItemWithValue`\n  return (_getChartMetadataRegi = (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_5__[\"default\"])().items[vizType]) == null ? void 0 : (_getChartMetadataRegi2 = _getChartMetadataRegi.value.behaviors) == null ? void 0 : _getChartMetadataRegi2.includes(_superset_ui_core__WEBPACK_IMPORTED_MODULE_6__.Behavior.InteractiveChart);\n}\nfunction getExtraFormData(dataMask, filterIdsAppliedOnChart) {\n  let extraFormData = {};\n  filterIdsAppliedOnChart.forEach((key) => {var _dataMask$key$extraFo, _dataMask$key;\n    extraFormData = mergeExtraFormData(extraFormData, (_dataMask$key$extraFo = (_dataMask$key = dataMask[key]) == null ? void 0 : _dataMask$key.extraFormData) != null ? _dataMask$key$extraFo : {});\n  });\n  return extraFormData;\n}\nfunction nativeFilterGate(behaviors) {\n  return !behaviors.includes(_superset_ui_core__WEBPACK_IMPORTED_MODULE_6__.Behavior.NativeFilter) ||\n  (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_7__.isFeatureEnabled)(_superset_ui_core__WEBPACK_IMPORTED_MODULE_7__.FeatureFlag.DashboardCrossFilters) &&\n  behaviors.includes(_superset_ui_core__WEBPACK_IMPORTED_MODULE_6__.Behavior.InteractiveChart);\n}\nconst isComponentATab = (dashboardLayout, componentId) => {var _dashboardLayout$comp;return (dashboardLayout == null ? void 0 : (_dashboardLayout$comp = dashboardLayout[componentId]) == null ? void 0 : _dashboardLayout$comp.type) === _util_componentTypes__WEBPACK_IMPORTED_MODULE_1__.TAB_TYPE;};\nconst findTabsWithChartsInScopeHelper = (dashboardLayout, chartsInScope, componentId, tabIds, tabsToHighlight, visited) => {var _dashboardLayout$comp2, _dashboardLayout$comp3, _dashboardLayout$comp4, _dashboardLayout$comp5, _dashboardLayout$comp6, _dashboardLayout$comp7;\n  if (visited.has(componentId)) {\n    return;\n  }\n  visited.add(componentId);\n  if ((dashboardLayout == null ? void 0 : (_dashboardLayout$comp2 = dashboardLayout[componentId]) == null ? void 0 : _dashboardLayout$comp2.type) === _util_componentTypes__WEBPACK_IMPORTED_MODULE_1__.CHART_TYPE &&\n  chartsInScope.includes((_dashboardLayout$comp3 = dashboardLayout[componentId]) == null ? void 0 : (_dashboardLayout$comp4 = _dashboardLayout$comp3.meta) == null ? void 0 : _dashboardLayout$comp4.chartId)) {\n    tabIds.forEach(tabsToHighlight.add, tabsToHighlight);\n  }\n  if ((dashboardLayout == null ? void 0 : (_dashboardLayout$comp5 = dashboardLayout[componentId]) == null ? void 0 : (_dashboardLayout$comp6 = _dashboardLayout$comp5.children) == null ? void 0 : _dashboardLayout$comp6.length) === 0 ||\n  isComponentATab(dashboardLayout, componentId) &&\n  tabsToHighlight.has(componentId)) {\n    return;\n  }\n  (_dashboardLayout$comp7 = dashboardLayout[componentId]) == null ? void 0 : _dashboardLayout$comp7.children.forEach((childId) => findTabsWithChartsInScopeHelper(dashboardLayout, chartsInScope, childId, isComponentATab(dashboardLayout, childId) ? [...tabIds, childId] : tabIds, tabsToHighlight, visited));\n};\nconst findTabsWithChartsInScope = (dashboardLayout, chartsInScope) => {\n  const dashboardRoot = dashboardLayout[_util_constants__WEBPACK_IMPORTED_MODULE_2__.DASHBOARD_ROOT_ID];\n  const rootChildId = dashboardRoot.children[0];\n  const hasTopLevelTabs = rootChildId !== _util_constants__WEBPACK_IMPORTED_MODULE_2__.DASHBOARD_GRID_ID;\n  const tabsInScope = new Set();\n  const visited = new Set();\n  if (hasTopLevelTabs) {var _dashboardLayout$root, _dashboardLayout$root2;\n    (_dashboardLayout$root = dashboardLayout[rootChildId]) == null ? void 0 : (_dashboardLayout$root2 = _dashboardLayout$root.children) == null ? void 0 : _dashboardLayout$root2.forEach((tabId) => findTabsWithChartsInScopeHelper(dashboardLayout, chartsInScope, tabId, [tabId], tabsInScope, visited));\n  } else\n  {\n    Object.values(dashboardLayout).\n    filter((element) => (element == null ? void 0 : element.type) === _util_componentTypes__WEBPACK_IMPORTED_MODULE_1__.TAB_TYPE).\n    forEach((element) => findTabsWithChartsInScopeHelper(dashboardLayout, chartsInScope, element.id, [element.id], tabsInScope, visited));\n  }\n  return tabsInScope;\n};\nconst getFilterValueForDisplay = (value) => {\n  if (value === null || value === undefined) {\n    return '';\n  }\n  if (typeof value === 'string' || typeof value === 'number') {\n    return `${value}`;\n  }\n  if (Array.isArray(value)) {\n    return value.join(', ');\n  }\n  if (typeof value === 'object') {\n    return JSON.stringify(value);\n  }\n  return (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_8__.t)('Unknown value');\n};;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(getDefaultRowLimit, \"getDefaultRowLimit\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\dashboard\\\\components\\\\nativeFilters\\\\utils.ts\");reactHotLoader.register(getFormData, \"getFormData\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\dashboard\\\\components\\\\nativeFilters\\\\utils.ts\");reactHotLoader.register(mergeExtraFormData, \"mergeExtraFormData\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\dashboard\\\\components\\\\nativeFilters\\\\utils.ts\");reactHotLoader.register(isCrossFilter, \"isCrossFilter\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\dashboard\\\\components\\\\nativeFilters\\\\utils.ts\");reactHotLoader.register(getExtraFormData, \"getExtraFormData\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\dashboard\\\\components\\\\nativeFilters\\\\utils.ts\");reactHotLoader.register(nativeFilterGate, \"nativeFilterGate\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\dashboard\\\\components\\\\nativeFilters\\\\utils.ts\");reactHotLoader.register(isComponentATab, \"isComponentATab\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\dashboard\\\\components\\\\nativeFilters\\\\utils.ts\");reactHotLoader.register(findTabsWithChartsInScopeHelper, \"findTabsWithChartsInScopeHelper\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\dashboard\\\\components\\\\nativeFilters\\\\utils.ts\");reactHotLoader.register(findTabsWithChartsInScope, \"findTabsWithChartsInScope\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\dashboard\\\\components\\\\nativeFilters\\\\utils.ts\");reactHotLoader.register(getFilterValueForDisplay, \"getFilterValueForDisplay\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\dashboard\\\\components\\\\nativeFilters\\\\utils.ts\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGFzaGJvYXJkL2NvbXBvbmVudHMvbmF0aXZlRmlsdGVycy91dGlscy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWtCQTtBQWVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBc0JBO0FBS0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFLQTtBQVFBO0FBQ0E7O0FBRUE7QUFDQTtBQUVBO0FBRUE7O0FBRUE7QUFFQTtBQUNBO0FBRUE7O0FBRUE7QUFVQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFVQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQVdBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vc3JjL2Rhc2hib2FyZC9jb21wb25lbnRzL25hdGl2ZUZpbHRlcnMvdXRpbHMudHM/MDAxMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxyXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcclxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cclxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxyXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXHJcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxyXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcclxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cclxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXHJcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcclxuICogdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5pbXBvcnQge1xyXG4gIEFkaG9jRmlsdGVyLFxyXG4gIEJlaGF2aW9yLFxyXG4gIERhdGFNYXNrU3RhdGVXaXRoSWQsXHJcbiAgRVhUUkFfRk9STV9EQVRBX0FQUEVORF9LRVlTLFxyXG4gIEVYVFJBX0ZPUk1fREFUQV9PVkVSUklERV9LRVlTLFxyXG4gIEV4dHJhRm9ybURhdGEsXHJcbiAgaXNGZWF0dXJlRW5hYmxlZCxcclxuICBGZWF0dXJlRmxhZyxcclxuICBGaWx0ZXIsXHJcbiAgZ2V0Q2hhcnRNZXRhZGF0YVJlZ2lzdHJ5LFxyXG4gIFF1ZXJ5Rm9ybURhdGEsXHJcbiAgdCxcclxufSBmcm9tICdAc3VwZXJzZXQtdWkvY29yZSc7XHJcbmltcG9ydCB7IERhc2hib2FyZExheW91dCB9IGZyb20gJ3NyYy9kYXNoYm9hcmQvdHlwZXMnO1xyXG5pbXBvcnQgZXh0cmFjdFVybFBhcmFtcyBmcm9tICdzcmMvZGFzaGJvYXJkL3V0aWwvZXh0cmFjdFVybFBhcmFtcyc7XHJcbmltcG9ydCB7IENIQVJUX1RZUEUsIFRBQl9UWVBFIH0gZnJvbSAnLi4vLi4vdXRpbC9jb21wb25lbnRUeXBlcyc7XHJcbmltcG9ydCB7IERBU0hCT0FSRF9HUklEX0lELCBEQVNIQk9BUkRfUk9PVF9JRCB9IGZyb20gJy4uLy4uL3V0aWwvY29uc3RhbnRzJztcclxuaW1wb3J0IGdldEJvb3RzdHJhcERhdGEgZnJvbSAnLi4vLi4vLi4vdXRpbHMvZ2V0Qm9vdHN0cmFwRGF0YSc7XHJcblxyXG5jb25zdCBnZXREZWZhdWx0Um93TGltaXQgPSAoKTogbnVtYmVyID0+IHtcclxuICBjb25zdCBib290c3RyYXBEYXRhID0gZ2V0Qm9vdHN0cmFwRGF0YSgpO1xyXG4gIGNvbnN0IG5hdGl2ZUZpbHRlckRlZmF1bHRSb3dMaW1pdCA9XHJcbiAgICBib290c3RyYXBEYXRhPy5jb21tb24/LmNvbmY/Lk5BVElWRV9GSUxURVJfREVGQVVMVF9ST1dfTElNSVQ7XHJcbiAgcmV0dXJuIG5hdGl2ZUZpbHRlckRlZmF1bHRSb3dMaW1pdCB8fCAxMDAwO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldEZvcm1EYXRhID0gKHtcclxuICBkYXRhc2V0SWQsXHJcbiAgZGVwZW5kZW5jaWVzID0ge30sXHJcbiAgZ3JvdXBieSxcclxuICBkZWZhdWx0RGF0YU1hc2ssXHJcbiAgY29udHJvbFZhbHVlcyxcclxuICBmaWx0ZXJUeXBlLFxyXG4gIHNvcnRNZXRyaWMsXHJcbiAgYWRob2NfZmlsdGVycyxcclxuICB0aW1lX3JhbmdlLFxyXG4gIGdyYW51bGFyaXR5X3NxbGEsXHJcbiAgdHlwZSxcclxuICBkYXNoYm9hcmRJZCxcclxuICBpZCxcclxufTogUGFydGlhbDxGaWx0ZXI+ICYge1xyXG4gIGRhc2hib2FyZElkOiBudW1iZXI7XHJcbiAgZGF0YXNldElkPzogbnVtYmVyO1xyXG4gIGRlcGVuZGVuY2llcz86IG9iamVjdDtcclxuICBncm91cGJ5Pzogc3RyaW5nO1xyXG4gIGFkaG9jX2ZpbHRlcnM/OiBBZGhvY0ZpbHRlcltdO1xyXG4gIHRpbWVfcmFuZ2U/OiBzdHJpbmc7XHJcbn0pOiBQYXJ0aWFsPFF1ZXJ5Rm9ybURhdGE+ID0+IHtcclxuICBjb25zdCBvdGhlclByb3BzOiB7XHJcbiAgICBkYXRhc291cmNlPzogc3RyaW5nO1xyXG4gICAgZ3JvdXBieT86IHN0cmluZ1tdO1xyXG4gICAgc29ydE1ldHJpYz86IHN0cmluZztcclxuICB9ID0ge307XHJcbiAgaWYgKGRhdGFzZXRJZCkge1xyXG4gICAgb3RoZXJQcm9wcy5kYXRhc291cmNlID0gYCR7ZGF0YXNldElkfV9fdGFibGVgO1xyXG4gIH1cclxuICBpZiAoZ3JvdXBieSkge1xyXG4gICAgb3RoZXJQcm9wcy5ncm91cGJ5ID0gW2dyb3VwYnldO1xyXG4gIH1cclxuICBpZiAoc29ydE1ldHJpYykge1xyXG4gICAgb3RoZXJQcm9wcy5zb3J0TWV0cmljID0gc29ydE1ldHJpYztcclxuICB9XHJcbiAgcmV0dXJuIHtcclxuICAgIC4uLmNvbnRyb2xWYWx1ZXMsXHJcbiAgICAuLi5vdGhlclByb3BzLFxyXG4gICAgYWRob2NfZmlsdGVyczogYWRob2NfZmlsdGVycyA/PyBbXSxcclxuICAgIGV4dHJhX2ZpbHRlcnM6IFtdLFxyXG4gICAgZXh0cmFfZm9ybV9kYXRhOiBkZXBlbmRlbmNpZXMsXHJcbiAgICBncmFudWxhcml0eV9zcWxhLFxyXG4gICAgbWV0cmljczogWydjb3VudCddLFxyXG4gICAgcm93X2xpbWl0OiBnZXREZWZhdWx0Um93TGltaXQoKSxcclxuICAgIHNob3dTZWFyY2g6IHRydWUsXHJcbiAgICBkZWZhdWx0VmFsdWU6IGRlZmF1bHREYXRhTWFzaz8uZmlsdGVyU3RhdGU/LnZhbHVlLFxyXG4gICAgdGltZV9yYW5nZSxcclxuICAgIHVybF9wYXJhbXM6IGV4dHJhY3RVcmxQYXJhbXMoJ3JlZ3VsYXInKSxcclxuICAgIGluVmlldzogdHJ1ZSxcclxuICAgIHZpel90eXBlOiBmaWx0ZXJUeXBlLFxyXG4gICAgdHlwZSxcclxuICAgIGRhc2hib2FyZElkLFxyXG4gICAgbmF0aXZlX2ZpbHRlcl9pZDogaWQsXHJcbiAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtZXJnZUV4dHJhRm9ybURhdGEoXHJcbiAgb3JpZ2luYWxFeHRyYTogRXh0cmFGb3JtRGF0YSA9IHt9LFxyXG4gIG5ld0V4dHJhOiBFeHRyYUZvcm1EYXRhID0ge30sXHJcbik6IEV4dHJhRm9ybURhdGEge1xyXG4gIGNvbnN0IG1lcmdlZEV4dHJhOiBFeHRyYUZvcm1EYXRhID0ge307XHJcbiAgRVhUUkFfRk9STV9EQVRBX0FQUEVORF9LRVlTLmZvckVhY2goKGtleTogc3RyaW5nKSA9PiB7XHJcbiAgICBjb25zdCBtZXJnZWRWYWx1ZXMgPSBbXHJcbiAgICAgIC4uLihvcmlnaW5hbEV4dHJhW2tleV0gfHwgW10pLFxyXG4gICAgICAuLi4obmV3RXh0cmFba2V5XSB8fCBbXSksXHJcbiAgICBdO1xyXG4gICAgaWYgKG1lcmdlZFZhbHVlcy5sZW5ndGgpIHtcclxuICAgICAgbWVyZ2VkRXh0cmFba2V5XSA9IG1lcmdlZFZhbHVlcztcclxuICAgIH1cclxuICB9KTtcclxuICBFWFRSQV9GT1JNX0RBVEFfT1ZFUlJJREVfS0VZUy5mb3JFYWNoKChrZXk6IHN0cmluZykgPT4ge1xyXG4gICAgY29uc3Qgb3JpZ2luYWxWYWx1ZSA9IG9yaWdpbmFsRXh0cmFba2V5XTtcclxuICAgIGlmIChvcmlnaW5hbFZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgbWVyZ2VkRXh0cmFba2V5XSA9IG9yaWdpbmFsVmFsdWU7XHJcbiAgICB9XHJcbiAgICBjb25zdCBuZXdWYWx1ZSA9IG5ld0V4dHJhW2tleV07XHJcbiAgICBpZiAobmV3VmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBtZXJnZWRFeHRyYVtrZXldID0gbmV3VmFsdWU7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgcmV0dXJuIG1lcmdlZEV4dHJhO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNDcm9zc0ZpbHRlcih2aXpUeXBlOiBzdHJpbmcpIHtcclxuICAvLyBAdHMtaWdub3JlIG5lZWQgZXhwb3J0IGZyb20gc3VwZXJzZXQtdWkgYEl0ZW1XaXRoVmFsdWVgXHJcbiAgcmV0dXJuIGdldENoYXJ0TWV0YWRhdGFSZWdpc3RyeSgpLml0ZW1zW3ZpelR5cGVdPy52YWx1ZS5iZWhhdmlvcnM/LmluY2x1ZGVzKFxyXG4gICAgQmVoYXZpb3IuSW50ZXJhY3RpdmVDaGFydCxcclxuICApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXh0cmFGb3JtRGF0YShcclxuICBkYXRhTWFzazogRGF0YU1hc2tTdGF0ZVdpdGhJZCxcclxuICBmaWx0ZXJJZHNBcHBsaWVkT25DaGFydDogc3RyaW5nW10sXHJcbik6IEV4dHJhRm9ybURhdGEge1xyXG4gIGxldCBleHRyYUZvcm1EYXRhOiBFeHRyYUZvcm1EYXRhID0ge307XHJcbiAgZmlsdGVySWRzQXBwbGllZE9uQ2hhcnQuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgZXh0cmFGb3JtRGF0YSA9IG1lcmdlRXh0cmFGb3JtRGF0YShcclxuICAgICAgZXh0cmFGb3JtRGF0YSxcclxuICAgICAgZGF0YU1hc2tba2V5XT8uZXh0cmFGb3JtRGF0YSA/PyB7fSxcclxuICAgICk7XHJcbiAgfSk7XHJcbiAgcmV0dXJuIGV4dHJhRm9ybURhdGE7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBuYXRpdmVGaWx0ZXJHYXRlKGJlaGF2aW9yczogQmVoYXZpb3JbXSk6IGJvb2xlYW4ge1xyXG4gIHJldHVybiAoXHJcbiAgICAhYmVoYXZpb3JzLmluY2x1ZGVzKEJlaGF2aW9yLk5hdGl2ZUZpbHRlcikgfHxcclxuICAgIChpc0ZlYXR1cmVFbmFibGVkKEZlYXR1cmVGbGFnLkRhc2hib2FyZENyb3NzRmlsdGVycykgJiZcclxuICAgICAgYmVoYXZpb3JzLmluY2x1ZGVzKEJlaGF2aW9yLkludGVyYWN0aXZlQ2hhcnQpKVxyXG4gICk7XHJcbn1cclxuXHJcbmNvbnN0IGlzQ29tcG9uZW50QVRhYiA9IChcclxuICBkYXNoYm9hcmRMYXlvdXQ6IERhc2hib2FyZExheW91dCxcclxuICBjb21wb25lbnRJZDogc3RyaW5nLFxyXG4pID0+IGRhc2hib2FyZExheW91dD8uW2NvbXBvbmVudElkXT8udHlwZSA9PT0gVEFCX1RZUEU7XHJcblxyXG5jb25zdCBmaW5kVGFic1dpdGhDaGFydHNJblNjb3BlSGVscGVyID0gKFxyXG4gIGRhc2hib2FyZExheW91dDogRGFzaGJvYXJkTGF5b3V0LFxyXG4gIGNoYXJ0c0luU2NvcGU6IG51bWJlcltdLFxyXG4gIGNvbXBvbmVudElkOiBzdHJpbmcsXHJcbiAgdGFiSWRzOiBzdHJpbmdbXSxcclxuICB0YWJzVG9IaWdobGlnaHQ6IFNldDxzdHJpbmc+LFxyXG4gIHZpc2l0ZWQ6IFNldDxzdHJpbmc+LFxyXG4pID0+IHtcclxuICBpZiAodmlzaXRlZC5oYXMoY29tcG9uZW50SWQpKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG4gIHZpc2l0ZWQuYWRkKGNvbXBvbmVudElkKTtcclxuICBpZiAoXHJcbiAgICBkYXNoYm9hcmRMYXlvdXQ/Lltjb21wb25lbnRJZF0/LnR5cGUgPT09IENIQVJUX1RZUEUgJiZcclxuICAgIGNoYXJ0c0luU2NvcGUuaW5jbHVkZXMoZGFzaGJvYXJkTGF5b3V0W2NvbXBvbmVudElkXT8ubWV0YT8uY2hhcnRJZClcclxuICApIHtcclxuICAgIHRhYklkcy5mb3JFYWNoKHRhYnNUb0hpZ2hsaWdodC5hZGQsIHRhYnNUb0hpZ2hsaWdodCk7XHJcbiAgfVxyXG4gIGlmIChcclxuICAgIGRhc2hib2FyZExheW91dD8uW2NvbXBvbmVudElkXT8uY2hpbGRyZW4/Lmxlbmd0aCA9PT0gMCB8fFxyXG4gICAgKGlzQ29tcG9uZW50QVRhYihkYXNoYm9hcmRMYXlvdXQsIGNvbXBvbmVudElkKSAmJlxyXG4gICAgICB0YWJzVG9IaWdobGlnaHQuaGFzKGNvbXBvbmVudElkKSlcclxuICApIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcbiAgZGFzaGJvYXJkTGF5b3V0W2NvbXBvbmVudElkXT8uY2hpbGRyZW4uZm9yRWFjaChjaGlsZElkID0+XHJcbiAgICBmaW5kVGFic1dpdGhDaGFydHNJblNjb3BlSGVscGVyKFxyXG4gICAgICBkYXNoYm9hcmRMYXlvdXQsXHJcbiAgICAgIGNoYXJ0c0luU2NvcGUsXHJcbiAgICAgIGNoaWxkSWQsXHJcbiAgICAgIGlzQ29tcG9uZW50QVRhYihkYXNoYm9hcmRMYXlvdXQsIGNoaWxkSWQpID8gWy4uLnRhYklkcywgY2hpbGRJZF0gOiB0YWJJZHMsXHJcbiAgICAgIHRhYnNUb0hpZ2hsaWdodCxcclxuICAgICAgdmlzaXRlZCxcclxuICAgICksXHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBmaW5kVGFic1dpdGhDaGFydHNJblNjb3BlID0gKFxyXG4gIGRhc2hib2FyZExheW91dDogRGFzaGJvYXJkTGF5b3V0LFxyXG4gIGNoYXJ0c0luU2NvcGU6IG51bWJlcltdLFxyXG4pID0+IHtcclxuICBjb25zdCBkYXNoYm9hcmRSb290ID0gZGFzaGJvYXJkTGF5b3V0W0RBU0hCT0FSRF9ST09UX0lEXTtcclxuICBjb25zdCByb290Q2hpbGRJZCA9IGRhc2hib2FyZFJvb3QuY2hpbGRyZW5bMF07XHJcbiAgY29uc3QgaGFzVG9wTGV2ZWxUYWJzID0gcm9vdENoaWxkSWQgIT09IERBU0hCT0FSRF9HUklEX0lEO1xyXG4gIGNvbnN0IHRhYnNJblNjb3BlID0gbmV3IFNldDxzdHJpbmc+KCk7XHJcbiAgY29uc3QgdmlzaXRlZCA9IG5ldyBTZXQ8c3RyaW5nPigpO1xyXG4gIGlmIChoYXNUb3BMZXZlbFRhYnMpIHtcclxuICAgIGRhc2hib2FyZExheW91dFtyb290Q2hpbGRJZF0/LmNoaWxkcmVuPy5mb3JFYWNoKHRhYklkID0+XHJcbiAgICAgIGZpbmRUYWJzV2l0aENoYXJ0c0luU2NvcGVIZWxwZXIoXHJcbiAgICAgICAgZGFzaGJvYXJkTGF5b3V0LFxyXG4gICAgICAgIGNoYXJ0c0luU2NvcGUsXHJcbiAgICAgICAgdGFiSWQsXHJcbiAgICAgICAgW3RhYklkXSxcclxuICAgICAgICB0YWJzSW5TY29wZSxcclxuICAgICAgICB2aXNpdGVkLFxyXG4gICAgICApLFxyXG4gICAgKTtcclxuICB9IGVsc2Uge1xyXG4gICAgT2JqZWN0LnZhbHVlcyhkYXNoYm9hcmRMYXlvdXQpXHJcbiAgICAgIC5maWx0ZXIoZWxlbWVudCA9PiBlbGVtZW50Py50eXBlID09PSBUQUJfVFlQRSlcclxuICAgICAgLmZvckVhY2goZWxlbWVudCA9PlxyXG4gICAgICAgIGZpbmRUYWJzV2l0aENoYXJ0c0luU2NvcGVIZWxwZXIoXHJcbiAgICAgICAgICBkYXNoYm9hcmRMYXlvdXQsXHJcbiAgICAgICAgICBjaGFydHNJblNjb3BlLFxyXG4gICAgICAgICAgZWxlbWVudC5pZCxcclxuICAgICAgICAgIFtlbGVtZW50LmlkXSxcclxuICAgICAgICAgIHRhYnNJblNjb3BlLFxyXG4gICAgICAgICAgdmlzaXRlZCxcclxuICAgICAgICApLFxyXG4gICAgICApO1xyXG4gIH1cclxuICByZXR1cm4gdGFic0luU2NvcGU7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0RmlsdGVyVmFsdWVGb3JEaXNwbGF5ID0gKFxyXG4gIHZhbHVlPzogc3RyaW5nW10gfCBudWxsIHwgc3RyaW5nIHwgbnVtYmVyIHwgb2JqZWN0LFxyXG4pOiBzdHJpbmcgPT4ge1xyXG4gIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICByZXR1cm4gJyc7XHJcbiAgfVxyXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcclxuICAgIHJldHVybiBgJHt2YWx1ZX1gO1xyXG4gIH1cclxuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgIHJldHVybiB2YWx1ZS5qb2luKCcsICcpO1xyXG4gIH1cclxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xyXG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcclxuICB9XHJcbiAgcmV0dXJuIHQoJ1Vua25vd24gdmFsdWUnKTtcclxufTtcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/dashboard/components/nativeFilters/utils.ts\n");

/***/ }),

/***/ "./src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx":
/*!***************************************************************************!*\
  !*** ./src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx ***!
  \***************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MAX_ADVISABLE_VIZ_GALLERY_WIDTH: () => (/* binding */ MAX_ADVISABLE_VIZ_GALLERY_WIDTH),\n/* harmony export */   \"default\": () => (/* binding */ VizTypeGallery)\n/* harmony export */ });\n/* unused harmony export VIZ_TYPE_CONTROL_TEST_ID */\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var fuse_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! fuse.js */ \"./node_modules/fuse.js/dist/fuse.mjs\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/translation/TranslatorSingleton.ts\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/style/index.tsx\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @superset-ui/core */ \"./node_modules/@emotion/react/dist/emotion-react.browser.development.esm.js\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/chart/types/Base.ts\");\n/* harmony import */ var src_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/components */ \"./src/components/index.ts\");\n/* harmony import */ var src_components_Tooltip__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/components/Tooltip */ \"./src/components/Tooltip/index.tsx\");\n/* harmony import */ var src_components_Input__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/components/Input */ \"./src/components/Input/index.tsx\");\n/* harmony import */ var src_components_Label__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/components/Label */ \"./src/components/Label/index.tsx\");\n/* harmony import */ var src_components_DynamicPlugins__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/components/DynamicPlugins */ \"./src/components/DynamicPlugins/index.tsx\");\n/* harmony import */ var src_components_Icons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/components/Icons */ \"./src/components/Icons/index.tsx\");\n/* harmony import */ var src_dashboard_components_nativeFilters_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/dashboard/components/nativeFilters/utils */ \"./src/dashboard/components/nativeFilters/utils.ts\");\n/* harmony import */ var scroll_into_view_if_needed__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! scroll-into-view-if-needed */ \"./node_modules/scroll-into-view-if-needed/dist/index.js\");\n/* harmony import */ var _emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @emotion/react/jsx-runtime */ \"./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.development.esm.js\");\n/* module decorator */ module = __webpack_require__.hmd(module);\n(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\n\n\n\n\n\n\n\n\n\n\n\n\nvar Sections;\n(function (Sections) {\n  Sections[\"AllCharts\"] = \"ALL_CHARTS\";\n  Sections[\"Featured\"] = \"FEATURED\";\n  Sections[\"Category\"] = \"CATEGORY\";\n  Sections[\"Tags\"] = \"TAGS\";\n})(Sections || (Sections = {}));\nconst THUMBNAIL_GRID_UNITS = 24;\nconst MAX_ADVISABLE_VIZ_GALLERY_WIDTH = 1090;\nconst OTHER_CATEGORY = (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_9__.t)('Other');\nconst ALL_CHARTS = (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_9__.t)('All charts');\nconst FEATURED = (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_9__.t)('Featured');\nconst RECOMMENDED_TAGS = [FEATURED, (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_9__.t)('ECharts'), (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_9__.t)('Advanced-Analytics')];\nconst VIZ_TYPE_CONTROL_TEST_ID = 'viz-type-control';\nconst VizPickerLayout = _superset_ui_core__WEBPACK_IMPORTED_MODULE_10__.styled.div`\n  ${({ isSelectedVizMetadata }) => `\n    display: grid;\n    grid-template-rows: ${isSelectedVizMetadata ?\n`auto minmax(100px, 1fr) minmax(200px, 35%)` :\n'auto minmax(100px, 1fr)'};\n    // em is used here because the sidebar should be sized to fit the longest standard tag\n    grid-template-columns: minmax(14em, auto) 5fr;\n    grid-template-areas:\n      'sidebar search'\n      'sidebar main'\n      'details details';\n    height: 70vh;\n    overflow: auto;\n  `}\n`;\nconst SectionTitle = _superset_ui_core__WEBPACK_IMPORTED_MODULE_10__.styled.h3`\n  margin-top: 0;\n  margin-bottom: ${({ theme }) => theme.gridUnit * 2}px;\n  font-size: ${({ theme }) => theme.typography.sizes.l}px;\n  font-weight: ${({ theme }) => theme.typography.weights.bold};\n  line-height: ${({ theme }) => theme.gridUnit * 6}px;\n`;\nconst LeftPane = _superset_ui_core__WEBPACK_IMPORTED_MODULE_10__.styled.div`\n  grid-area: sidebar;\n  display: flex;\n  flex-direction: column;\n  border-right: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\n  overflow: auto;\n\n  .ant-collapse .ant-collapse-item {\n    .ant-collapse-header {\n      font-size: ${({ theme }) => theme.typography.sizes.s}px;\n      color: ${({ theme }) => theme.colors.grayscale.base};\n      padding-left: ${({ theme }) => theme.gridUnit * 2}px;\n      padding-bottom: ${({ theme }) => theme.gridUnit}px;\n    }\n    .ant-collapse-content .ant-collapse-content-box {\n      display: flex;\n      flex-direction: column;\n      padding: 0 ${({ theme }) => theme.gridUnit * 2}px;\n    }\n  }\n`;\nconst RightPane = _superset_ui_core__WEBPACK_IMPORTED_MODULE_10__.styled.div`\n  grid-area: main;\n  overflow-y: auto;\n`;\nconst SearchWrapper = _superset_ui_core__WEBPACK_IMPORTED_MODULE_10__.styled.div`\n  ${({ theme }) => `\n    grid-area: search;\n    margin-top: ${theme.gridUnit * 3}px;\n    margin-bottom: ${theme.gridUnit}px;\n    margin-left: ${theme.gridUnit * 3}px;\n    margin-right: ${theme.gridUnit * 3}px;\n    .ant-input-affix-wrapper {\n      padding-left: ${theme.gridUnit * 2}px;\n    }\n  `}\n`;\n/** Styles to line up prefix/suffix icons in the search input */\nconst InputIconAlignment = _superset_ui_core__WEBPACK_IMPORTED_MODULE_10__.styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: ${({ theme }) => theme.colors.grayscale.base};\n`;\nconst SelectorLabel = _superset_ui_core__WEBPACK_IMPORTED_MODULE_10__.styled.button`\n  ${({ theme }) => `\n    all: unset; // remove default button styles\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    cursor: pointer;\n    margin: ${theme.gridUnit}px 0;\n    padding: 0 ${theme.gridUnit}px;\n    border-radius: ${theme.borderRadius}px;\n    line-height: 2em;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    position: relative;\n\n    &:focus {\n      outline: initial;\n    }\n\n    &.selected {\n      background-color: ${theme.colors.primary.base};\n      color: ${theme.colors.primary.light5};\n\n      svg {\n        color: ${theme.colors.primary.light5};\n      }\n\n      &:hover {\n        .cancel {\n          visibility: visible;\n        }\n      }\n    }\n\n    & > span[role=\"img\"] {\n      margin-right: ${theme.gridUnit * 2}px;\n    }\n\n    .cancel {\n      visibility: hidden;\n    }\n  `}\n`;\nconst IconsPane = _superset_ui_core__WEBPACK_IMPORTED_MODULE_10__.styled.div`\n  overflow: auto;\n  display: grid;\n  grid-template-columns: repeat(\n    auto-fill,\n    ${({ theme }) => theme.gridUnit * THUMBNAIL_GRID_UNITS}px\n  );\n  grid-auto-rows: max-content;\n  justify-content: space-evenly;\n  grid-gap: ${({ theme }) => theme.gridUnit * 2}px;\n  justify-items: center;\n  // for some reason this padding doesn't seem to apply at the bottom of the container. Why is a mystery.\n  padding: ${({ theme }) => theme.gridUnit * 2}px;\n`;\nconst DetailsPane = (theme) => (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_11__.css)`\n  grid-area: details;\n  border-top: 1px solid ${theme.colors.grayscale.light2};\n`;\nconst DetailsPopulated = (theme) => (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_11__.css)`\n  padding: ${theme.gridUnit * 4}px;\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: auto auto 1fr;\n  grid-template-areas:\n    'viz-name examples-header'\n    'viz-tags examples'\n    'description examples';\n`;\n// overflow hidden on the details pane and overflow auto on the description\n// (plus grid layout) enables the description to scroll while the header stays in place.\nconst TagsWrapper = _superset_ui_core__WEBPACK_IMPORTED_MODULE_10__.styled.div`\n  grid-area: viz-tags;\n  width: ${({ theme }) => theme.gridUnit * 120}px;\n  padding-right: ${({ theme }) => theme.gridUnit * 14}px;\n  padding-bottom: ${({ theme }) => theme.gridUnit * 2}px;\n`;\nconst Description = _superset_ui_core__WEBPACK_IMPORTED_MODULE_10__.styled.p`\n  grid-area: description;\n  overflow: auto;\n  padding-right: ${({ theme }) => theme.gridUnit * 14}px;\n  margin: 0;\n`;\nconst Examples = _superset_ui_core__WEBPACK_IMPORTED_MODULE_10__.styled.div`\n  grid-area: examples;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  overflow: auto;\n  gap: ${({ theme }) => theme.gridUnit * 4}px;\n\n  img {\n    height: 100%;\n    border-radius: ${({ theme }) => theme.gridUnit}px;\n    border: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\n  }\n`;\nconst thumbnailContainerCss = (theme) => (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_11__.css)`\n  cursor: pointer;\n  width: ${theme.gridUnit * THUMBNAIL_GRID_UNITS}px;\n  position: relative;\n\n  img {\n    min-width: ${theme.gridUnit * THUMBNAIL_GRID_UNITS}px;\n    min-height: ${theme.gridUnit * THUMBNAIL_GRID_UNITS}px;\n    border: 1px solid ${theme.colors.grayscale.light2};\n    border-radius: ${theme.gridUnit}px;\n    transition: border-color ${theme.transitionTiming};\n  }\n\n  &.selected img {\n    border: 2px solid ${theme.colors.primary.light2};\n  }\n\n  &:hover:not(.selected) img {\n    border: 1px solid ${theme.colors.grayscale.light1};\n  }\n\n  .viztype-label {\n    margin-top: ${theme.gridUnit * 2}px;\n    text-align: center;\n  }\n`;\nconst HighlightLabel = _superset_ui_core__WEBPACK_IMPORTED_MODULE_10__.styled.div`\n  ${({ theme }) => `\n    border: 1px solid ${theme.colors.primary.dark1};\n    box-sizing: border-box;\n    border-radius: ${theme.gridUnit}px;\n    background: ${theme.colors.grayscale.light5};\n    line-height: ${theme.gridUnit * 2.5}px;\n    color: ${theme.colors.primary.dark1};\n    font-size: ${theme.typography.sizes.s}px;\n    font-weight: ${theme.typography.weights.bold};\n    text-align: center;\n    padding: ${theme.gridUnit * 0.5}px ${theme.gridUnit}px;\n    cursor: pointer;\n\n    div {\n      transform: scale(0.83,0.83);\n    }\n  `}\n`;\nconst ThumbnailLabelWrapper = _superset_ui_core__WEBPACK_IMPORTED_MODULE_10__.styled.div`\n  position: absolute;\n  right: ${({ theme }) => theme.gridUnit}px;\n  top: ${({ theme }) => theme.gridUnit * 19}px;\n`;\nconst TitleLabelWrapper = _superset_ui_core__WEBPACK_IMPORTED_MODULE_10__.styled.div`\n  display: inline-block !important;\n  margin-left: ${({ theme }) => theme.gridUnit * 2}px;\n`;\nconst Thumbnail = ({ entry, selectedViz, setSelectedViz, onDoubleClick }) => {\n  const theme = (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_10__.useTheme)();\n  const { key, value: type } = entry;\n  const isSelected = selectedViz === entry.key;\n  return (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(\"div\", { role: \"button\"\n    // using css instead of a styled component to preserve\n    // the data-test attribute\n    , css: thumbnailContainerCss(theme), tabIndex: 0, className: isSelected ? 'selected' : '', onClick: () => setSelectedViz(key), onDoubleClick: onDoubleClick, \"data-test\": \"viztype-selector-container\", children: [\n    (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(\"img\", { alt: type.name, width: \"100%\", className: `viztype-selector ${isSelected ? 'selected' : ''}`, src: type.thumbnail }),\n    (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(\"div\", { className: \"viztype-label\", \"data-test\": `${VIZ_TYPE_CONTROL_TEST_ID}__viztype-label`, children:\n      type.name }\n    ),\n    type.label && (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(ThumbnailLabelWrapper, { children:\n      (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(HighlightLabel, { children:\n        (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(\"div\", { children: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_9__.t)(type.label) }) }\n      ) }\n    )] }\n  );\n};\n/** A list of viz thumbnails, used within the viz picker modal */__signature__(Thumbnail, \"useTheme{theme}\", () => [_superset_ui_core__WEBPACK_IMPORTED_MODULE_10__.useTheme]);\nconst ThumbnailGallery = ({ vizEntries, ...props }) => (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(IconsPane, { \"data-test\": `${VIZ_TYPE_CONTROL_TEST_ID}__viz-row`, children:\n  vizEntries.map((entry) => (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(Thumbnail, { ...props, entry: entry }, entry.key)) }\n);\nconst Selector = ({ selector, sectionId, icon, isSelected, onClick, className }) => {\n  const btnRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  // see Element.scrollIntoViewIfNeeded()\n  // see: https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoViewIfNeeded\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (isSelected) {\n      // We need to wait for the modal to open and then scroll, so we put it in the microtask queue\n      queueMicrotask(() => (0,scroll_into_view_if_needed__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(btnRef.current, {\n        behavior: 'smooth',\n        scrollMode: 'if-needed'\n      }));\n    }\n  }, []);\n  return (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(SelectorLabel, { ref: btnRef, name: selector, className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(className, isSelected && 'selected'), onClick: () => onClick(selector, sectionId), children: [\n    icon,\n    selector] }, selector\n  );\n};__signature__(Selector, \"useRef{btnRef}\\nuseEffect{}\");\nconst doesVizMatchSelector = (viz, selector) => selector === viz.category ||\nselector === OTHER_CATEGORY && viz.category == null ||\n(viz.tags || []).indexOf(selector) > -1;\nfunction VizTypeGallery(props) {var _selectedVizMetadata$, _selectedVizMetadata$2;\n  const { selectedViz, onChange, onDoubleClick, className, denyList } = props;\n  const { mountedPluginMetadata } = (0,src_components_DynamicPlugins__WEBPACK_IMPORTED_MODULE_6__.usePluginContext)();\n  const searchInputRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  const [searchInputValue, setSearchInputValue] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');\n  const [isSearchFocused, setIsSearchFocused] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n  const isActivelySearching = isSearchFocused && !!searchInputValue;\n  const selectedVizMetadata = selectedViz ?\n  mountedPluginMetadata[selectedViz] :\n  null;\n  const chartMetadata = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    const result = Object.entries(mountedPluginMetadata).\n    map(([key, value]) => ({ key, value })).\n    filter(({ key }) => !denyList.includes(key)).\n    filter(({ value }) => (0,src_dashboard_components_nativeFilters_utils__WEBPACK_IMPORTED_MODULE_8__.nativeFilterGate)(value.behaviors || []) && !value.deprecated).\n    sort((a, b) => a.value.name.localeCompare(b.value.name));\n    return result;\n  }, [mountedPluginMetadata, denyList]);\n  const chartsByCategory = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    const result = {};\n    chartMetadata.forEach((entry) => {\n      const category = entry.value.category || OTHER_CATEGORY;\n      if (!result[category]) {\n        result[category] = [];\n      }\n      result[category].push(entry);\n    });\n    return result;\n  }, [chartMetadata]);\n  const categories = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => Object.keys(chartsByCategory).sort((a, b) => {\n    // make sure Other goes at the end\n    if (a === OTHER_CATEGORY)\n    return 1;\n    if (b === OTHER_CATEGORY)\n    return -1;\n    // sort alphabetically\n    return a.localeCompare(b);\n  }), [chartsByCategory]);\n  const chartsByTags = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    const result = {};\n    chartMetadata.forEach((entry) => {\n      const tags = entry.value.tags || [];\n      tags.forEach((tag) => {\n        if (!result[tag]) {\n          result[tag] = [];\n        }\n        result[tag].push(entry);\n      });\n    });\n    return result;\n  }, [chartMetadata]);\n  const tags = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => Object.keys(chartsByTags).\n  sort((a, b) =>\n  // sort alphabetically\n  a.localeCompare(b)).\n  filter((tag) => RECOMMENDED_TAGS.indexOf(tag) === -1), [chartsByTags]);\n  const sortedMetadata = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => chartMetadata.sort((a, b) => a.value.name.localeCompare(b.value.name)), [chartMetadata]);\n  const [activeSelector, setActiveSelector] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => (selectedVizMetadata == null ? void 0 : selectedVizMetadata.category) || FEATURED);\n  const [activeSection, setActiveSection] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => selectedVizMetadata != null && selectedVizMetadata.category ? Sections.Category : Sections.Featured);\n  // get a fuse instance for fuzzy search\n  const fuse = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => new fuse_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"](chartMetadata, {\n    ignoreLocation: true,\n    threshold: 0.3,\n    keys: [\n    {\n      name: 'value.name',\n      weight: 4\n    },\n    {\n      name: 'value.tags',\n      weight: 2\n    },\n    'value.description']\n\n  }), [chartMetadata]);\n  const searchResults = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    if (searchInputValue.trim() === '') {\n      return [];\n    }\n    return fuse.\n    search(searchInputValue).\n    map((result) => result.item).\n    sort((a, b) => {var _a$value, _b$value;\n      const aLabel = (_a$value = a.value) == null ? void 0 : _a$value.label;\n      const bLabel = (_b$value = b.value) == null ? void 0 : _b$value.label;\n      const aOrder = aLabel && _superset_ui_core__WEBPACK_IMPORTED_MODULE_15__.chartLabelWeight[aLabel] ?\n      _superset_ui_core__WEBPACK_IMPORTED_MODULE_15__.chartLabelWeight[aLabel].weight :\n      0;\n      const bOrder = bLabel && _superset_ui_core__WEBPACK_IMPORTED_MODULE_15__.chartLabelWeight[bLabel] ?\n      _superset_ui_core__WEBPACK_IMPORTED_MODULE_15__.chartLabelWeight[bLabel].weight :\n      0;\n      return bOrder - aOrder;\n    });\n  }, [searchInputValue, fuse]);\n  const focusSearch = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    // \"start searching\" is actually a two-stage process.\n    // When you first click on the search bar, the input is focused and nothing else happens.\n    // Once you begin typing, the selected category is cleared and the displayed viz entries change.\n    setIsSearchFocused(true);\n  }, []);\n  const changeSearch = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event) => setSearchInputValue(event.target.value), []);\n  const stopSearching = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    // stopping a search takes you back to the category you were looking at before.\n    // Unlike focusSearch, this is a simple one-step process.\n    setIsSearchFocused(false);\n    setSearchInputValue('');\n    searchInputRef.current.blur();\n  }, []);\n  const clickSelector = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((selector, sectionId) => {\n    if (isSearchFocused) {\n      stopSearching();\n    }\n    setActiveSelector(selector);\n    setActiveSection(sectionId);\n    // clear the selected viz if it is not present in the new category or tags\n    const isSelectedVizCompatible = selectedVizMetadata &&\n    doesVizMatchSelector(selectedVizMetadata, selector);\n    if (selector !== activeSelector && !isSelectedVizCompatible) {\n      onChange(null);\n    }\n  }, [\n  stopSearching,\n  isSearchFocused,\n  activeSelector,\n  selectedVizMetadata,\n  onChange]\n  );\n  const sectionMap = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => ({\n    [Sections.Category]: {\n      title: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_9__.t)('Category'),\n      icon: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(src_components_Icons__WEBPACK_IMPORTED_MODULE_7__[\"default\"].Category, { iconSize: \"m\" }),\n      selectors: categories\n    },\n    [Sections.Tags]: {\n      title: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_9__.t)('Tags'),\n      icon: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(src_components_Icons__WEBPACK_IMPORTED_MODULE_7__[\"default\"].Tags, { iconSize: \"m\" }),\n      selectors: tags\n    }\n  }), [categories, tags]);\n  const getVizEntriesToDisplay = () => {\n    if (isActivelySearching) {\n      return searchResults;\n    }\n    if (activeSelector === ALL_CHARTS && activeSection === Sections.AllCharts) {\n      return sortedMetadata;\n    }\n    if (activeSelector === FEATURED &&\n    activeSection === Sections.Featured &&\n    chartsByTags[FEATURED]) {\n      return chartsByTags[FEATURED];\n    }\n    if (activeSection === Sections.Category &&\n    chartsByCategory[activeSelector]) {\n      return chartsByCategory[activeSelector];\n    }\n    if (activeSection === Sections.Tags && chartsByTags[activeSelector]) {\n      return chartsByTags[activeSelector];\n    }\n    return [];\n  };\n  return (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(VizPickerLayout, { className: className, isSelectedVizMetadata: Boolean(selectedVizMetadata), children: [\n    (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(LeftPane, { children: [\n      (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(Selector, { css: ({ gridUnit }) =>\n        // adjust style for not being inside a collapse\n        (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_11__.css)`\n              margin: ${gridUnit * 2}px;\n              margin-bottom: 0;\n            `, sectionId: Sections.AllCharts, selector: ALL_CHARTS, icon: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(src_components_Icons__WEBPACK_IMPORTED_MODULE_7__[\"default\"].Ballot, { iconSize: \"m\" }), isSelected: !isActivelySearching &&\n        ALL_CHARTS === activeSelector &&\n        Sections.AllCharts === activeSection, onClick: clickSelector }),\n      (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(Selector, { css: ({ gridUnit }) =>\n        // adjust style for not being inside a collapse\n        (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_11__.css)`\n              margin: ${gridUnit * 2}px;\n              margin-bottom: 0;\n            `, sectionId: Sections.Featured, selector: FEATURED, icon: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(src_components_Icons__WEBPACK_IMPORTED_MODULE_7__[\"default\"].FireOutlined, { iconSize: \"m\" }), isSelected: !isActivelySearching &&\n        FEATURED === activeSelector &&\n        Sections.Featured === activeSection, onClick: clickSelector }),\n      (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(src_components__WEBPACK_IMPORTED_MODULE_2__.AntdCollapse, { expandIconPosition: \"right\", ghost: true, defaultActiveKey: Sections.Category, children:\n        Object.keys(sectionMap).map((sectionId) => {\n          const section = sectionMap[sectionId];\n          return (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(src_components__WEBPACK_IMPORTED_MODULE_2__.AntdCollapse.Panel, { header: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(\"span\", { className: \"header\", children: section.title }), children:\n            section.selectors.map((selector) => (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(Selector, { selector: selector, sectionId: sectionId, icon: section.icon, isSelected: !isActivelySearching &&\n              selector === activeSelector &&\n              sectionId === activeSection, onClick: clickSelector }, selector)) }, sectionId\n          );\n        }) }\n      )] }\n    ),\n\n    (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(SearchWrapper, { children:\n      (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(src_components_Input__WEBPACK_IMPORTED_MODULE_4__.Input, { type: \"text\", ref: searchInputRef /* cast required because emotion */, value: searchInputValue, placeholder: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_9__.t)('Search all charts'), onChange: changeSearch, onFocus: focusSearch, \"data-test\": `${VIZ_TYPE_CONTROL_TEST_ID}__search-input`, prefix: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(InputIconAlignment, { children:\n          (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(src_components_Icons__WEBPACK_IMPORTED_MODULE_7__[\"default\"].Search, { iconSize: \"m\" }) }\n        ), suffix: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(InputIconAlignment, { children:\n          searchInputValue && (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(src_components_Icons__WEBPACK_IMPORTED_MODULE_7__[\"default\"].XLarge, { iconSize: \"m\", onClick: stopSearching }) }\n        ) }) }\n    ),\n\n    (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(RightPane, { children:\n      (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(ThumbnailGallery, { vizEntries: getVizEntriesToDisplay(), selectedViz: selectedViz, setSelectedViz: onChange, onDoubleClick: onDoubleClick }) }\n    ),\n\n    selectedVizMetadata ? (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(\"div\", { css: (theme) => [\n      DetailsPane(theme),\n      DetailsPopulated(theme)], children:\n\n      (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.Fragment, { children: [\n        (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(SectionTitle, { css: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_11__.css)`\n                grid-area: viz-name;\n                position: relative;\n              `, children: [\n          selectedVizMetadata == null ? void 0 : selectedVizMetadata.name,\n          (selectedVizMetadata == null ? void 0 : selectedVizMetadata.label) && (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(src_components_Tooltip__WEBPACK_IMPORTED_MODULE_3__.Tooltip, { id: \"viz-badge-tooltip\", placement: \"top\", title: (_selectedVizMetadata$ = selectedVizMetadata.labelExplanation) != null ? _selectedVizMetadata$ :\n            _superset_ui_core__WEBPACK_IMPORTED_MODULE_15__.chartLabelExplanations[selectedVizMetadata.label], children:\n            (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(TitleLabelWrapper, { children:\n              (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(HighlightLabel, { children:\n                (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(\"div\", { children: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_9__.t)(selectedVizMetadata.label) }) }\n              ) }\n            ) }\n          )] }\n        ),\n        (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(TagsWrapper, { children:\n          selectedVizMetadata == null ? void 0 : selectedVizMetadata.tags.map((tag) => (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(src_components_Label__WEBPACK_IMPORTED_MODULE_5__[\"default\"], { children: tag }, tag)) }\n        ),\n        (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(Description, { children:\n          (selectedVizMetadata == null ? void 0 : selectedVizMetadata.description) ||\n          (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_9__.t)('No description available.') }\n        ),\n        (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(SectionTitle, { css: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_11__.css)`\n                grid-area: examples-header;\n              `, children:\n          (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_9__.t)('Examples') }\n        ),\n        (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(Examples, { children:\n          (selectedVizMetadata != null && (_selectedVizMetadata$2 = selectedVizMetadata.exampleGallery) != null && _selectedVizMetadata$2.length ?\n          selectedVizMetadata.exampleGallery :\n          [\n          {\n            url: selectedVizMetadata == null ? void 0 : selectedVizMetadata.thumbnail,\n            caption: selectedVizMetadata == null ? void 0 : selectedVizMetadata.name\n          }]).\n          map((example) => (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(\"img\", { src: example.url, alt: example.caption, title: example.caption }, example.url)) }\n        )] }\n      ) }\n    ) : null] }\n  );\n}__signature__(VizTypeGallery, \"usePluginContext{{ mountedPluginMetadata }}\\nuseRef{searchInputRef}\\nuseState{[searchInputValue, setSearchInputValue]('')}\\nuseState{[isSearchFocused, setIsSearchFocused](true)}\\nuseMemo{chartMetadata}\\nuseMemo{chartsByCategory}\\nuseMemo{categories}\\nuseMemo{chartsByTags}\\nuseMemo{tags}\\nuseMemo{sortedMetadata}\\nuseState{[activeSelector, setActiveSelector](() => selectedVizMetadata?.category || FEATURED)}\\nuseState{[activeSection, setActiveSection](() => selectedVizMetadata?.category ? Sections.Category : Sections.Featured)}\\nuseMemo{fuse}\\nuseMemo{searchResults}\\nuseCallback{focusSearch}\\nuseCallback{changeSearch}\\nuseCallback{stopSearching}\\nuseCallback{clickSelector}\\nuseMemo{sectionMap}\", () => [src_components_DynamicPlugins__WEBPACK_IMPORTED_MODULE_6__.usePluginContext]);;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(Sections, \"Sections\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\explore\\\\components\\\\controls\\\\VizTypeControl\\\\VizTypeGallery.tsx\");reactHotLoader.register(THUMBNAIL_GRID_UNITS, \"THUMBNAIL_GRID_UNITS\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\explore\\\\components\\\\controls\\\\VizTypeControl\\\\VizTypeGallery.tsx\");reactHotLoader.register(MAX_ADVISABLE_VIZ_GALLERY_WIDTH, \"MAX_ADVISABLE_VIZ_GALLERY_WIDTH\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\explore\\\\components\\\\controls\\\\VizTypeControl\\\\VizTypeGallery.tsx\");reactHotLoader.register(OTHER_CATEGORY, \"OTHER_CATEGORY\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\explore\\\\components\\\\controls\\\\VizTypeControl\\\\VizTypeGallery.tsx\");reactHotLoader.register(ALL_CHARTS, \"ALL_CHARTS\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\explore\\\\components\\\\controls\\\\VizTypeControl\\\\VizTypeGallery.tsx\");reactHotLoader.register(FEATURED, \"FEATURED\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\explore\\\\components\\\\controls\\\\VizTypeControl\\\\VizTypeGallery.tsx\");reactHotLoader.register(RECOMMENDED_TAGS, \"RECOMMENDED_TAGS\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\explore\\\\components\\\\controls\\\\VizTypeControl\\\\VizTypeGallery.tsx\");reactHotLoader.register(VIZ_TYPE_CONTROL_TEST_ID, \"VIZ_TYPE_CONTROL_TEST_ID\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\explore\\\\components\\\\controls\\\\VizTypeControl\\\\VizTypeGallery.tsx\");reactHotLoader.register(VizPickerLayout, \"VizPickerLayout\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\explore\\\\components\\\\controls\\\\VizTypeControl\\\\VizTypeGallery.tsx\");reactHotLoader.register(SectionTitle, \"SectionTitle\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\explore\\\\components\\\\controls\\\\VizTypeControl\\\\VizTypeGallery.tsx\");reactHotLoader.register(LeftPane, \"LeftPane\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\explore\\\\components\\\\controls\\\\VizTypeControl\\\\VizTypeGallery.tsx\");reactHotLoader.register(RightPane, \"RightPane\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\explore\\\\components\\\\controls\\\\VizTypeControl\\\\VizTypeGallery.tsx\");reactHotLoader.register(SearchWrapper, \"SearchWrapper\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\explore\\\\components\\\\controls\\\\VizTypeControl\\\\VizTypeGallery.tsx\");reactHotLoader.register(InputIconAlignment, \"InputIconAlignment\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\explore\\\\components\\\\controls\\\\VizTypeControl\\\\VizTypeGallery.tsx\");reactHotLoader.register(SelectorLabel, \"SelectorLabel\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\explore\\\\components\\\\controls\\\\VizTypeControl\\\\VizTypeGallery.tsx\");reactHotLoader.register(IconsPane, \"IconsPane\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\explore\\\\components\\\\controls\\\\VizTypeControl\\\\VizTypeGallery.tsx\");reactHotLoader.register(DetailsPane, \"DetailsPane\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\explore\\\\components\\\\controls\\\\VizTypeControl\\\\VizTypeGallery.tsx\");reactHotLoader.register(DetailsPopulated, \"DetailsPopulated\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\explore\\\\components\\\\controls\\\\VizTypeControl\\\\VizTypeGallery.tsx\");reactHotLoader.register(TagsWrapper, \"TagsWrapper\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\explore\\\\components\\\\controls\\\\VizTypeControl\\\\VizTypeGallery.tsx\");reactHotLoader.register(Description, \"Description\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\explore\\\\components\\\\controls\\\\VizTypeControl\\\\VizTypeGallery.tsx\");reactHotLoader.register(Examples, \"Examples\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\explore\\\\components\\\\controls\\\\VizTypeControl\\\\VizTypeGallery.tsx\");reactHotLoader.register(thumbnailContainerCss, \"thumbnailContainerCss\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\explore\\\\components\\\\controls\\\\VizTypeControl\\\\VizTypeGallery.tsx\");reactHotLoader.register(HighlightLabel, \"HighlightLabel\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\explore\\\\components\\\\controls\\\\VizTypeControl\\\\VizTypeGallery.tsx\");reactHotLoader.register(ThumbnailLabelWrapper, \"ThumbnailLabelWrapper\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\explore\\\\components\\\\controls\\\\VizTypeControl\\\\VizTypeGallery.tsx\");reactHotLoader.register(TitleLabelWrapper, \"TitleLabelWrapper\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\explore\\\\components\\\\controls\\\\VizTypeControl\\\\VizTypeGallery.tsx\");reactHotLoader.register(Thumbnail, \"Thumbnail\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\explore\\\\components\\\\controls\\\\VizTypeControl\\\\VizTypeGallery.tsx\");reactHotLoader.register(ThumbnailGallery, \"ThumbnailGallery\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\explore\\\\components\\\\controls\\\\VizTypeControl\\\\VizTypeGallery.tsx\");reactHotLoader.register(Selector, \"Selector\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\explore\\\\components\\\\controls\\\\VizTypeControl\\\\VizTypeGallery.tsx\");reactHotLoader.register(doesVizMatchSelector, \"doesVizMatchSelector\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\explore\\\\components\\\\controls\\\\VizTypeControl\\\\VizTypeGallery.tsx\");reactHotLoader.register(VizTypeGallery, \"VizTypeGallery\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\explore\\\\components\\\\controls\\\\VizTypeControl\\\\VizTypeGallery.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZXhwbG9yZS9jb21wb25lbnRzL2NvbnRyb2xzL1ZpelR5cGVDb250cm9sL1ZpelR5cGVHYWxsZXJ5LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFrQkE7QUFXQTtBQUNBO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBOzs7Ozs7Ozs7QUFVQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7OztBQUdBO0FBRUE7OztBQUdBO0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTs7OztBQUlBO0FBQ0E7QUFFQTtBQUNBOzs7Ozs7QUFNQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FBV0E7QUFDQTs7O0FBR0E7Ozs7Ozs7Ozs7O0FBV0E7Ozs7OztBQU1BO0FBQ0E7QUFFQTs7Ozs7QUFLQTs7OztBQUlBOzs7QUFHQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7O0FBRUE7QUFFQTs7Ozs7O0FBTUE7Ozs7QUFJQTtBQUNBOztBQUVBO0FBRUE7O0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7Ozs7QUFJQTs7OztBQUlBOzs7QUFHQTtBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7Ozs7OztBQU1BO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBU0E7QUFNQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFBQTtBQVFBO0FBTUE7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFTQTtBQUNBO0FBS0E7QUFHQTtBQUdBO0FBUUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBR0E7QUFFQTtBQVFBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQU1BO0FBSUE7QUFJQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBSUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUlBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBRUE7QUFDQTtBQUVBOztBQUVBO0FBRUE7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBR0E7QUFNQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7O0FBR0E7QUFNQTtBQUNBO0FBSUE7QUFLQTtBQUNBO0FBRUE7QUFLQTtBQVFBO0FBQ0E7QUFLQTtBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBVUE7QUFDQTtBQUlBO0FBR0E7QUFHQTs7QUFFQTtBQUNBO0FBTUE7O0FBRUE7QUFHQTtBQUNBOztBQUdBO0FBQ0E7OztBQUlBO0FBRUE7QUFDQTtBQU1BO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVFBO0FBQ0E7QUFDQTtBQUVBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL3NyYy9leHBsb3JlL2NvbXBvbmVudHMvY29udHJvbHMvVml6VHlwZUNvbnRyb2wvVml6VHlwZUdhbGxlcnkudHN4PzhkOTAiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcclxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXHJcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXHJcbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcclxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxyXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcclxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXHJcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXHJcbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxyXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXHJcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuaW1wb3J0IHtcclxuICBDaGFuZ2VFdmVudEhhbmRsZXIsXHJcbiAgRkMsXHJcbiAgUmVhY3RFbGVtZW50LFxyXG4gIHVzZUNhbGxiYWNrLFxyXG4gIHVzZUVmZmVjdCxcclxuICB1c2VNZW1vLFxyXG4gIHVzZVJlZixcclxuICB1c2VTdGF0ZSxcclxufSBmcm9tICdyZWFjdCc7XHJcblxyXG5pbXBvcnQgRnVzZSBmcm9tICdmdXNlLmpzJztcclxuaW1wb3J0IGN4IGZyb20gJ2NsYXNzbmFtZXMnO1xyXG5pbXBvcnQge1xyXG4gIHQsXHJcbiAgc3R5bGVkLFxyXG4gIGNzcyxcclxuICBDaGFydE1ldGFkYXRhLFxyXG4gIFN1cGVyc2V0VGhlbWUsXHJcbiAgdXNlVGhlbWUsXHJcbiAgY2hhcnRMYWJlbFdlaWdodCxcclxuICBjaGFydExhYmVsRXhwbGFuYXRpb25zLFxyXG59IGZyb20gJ0BzdXBlcnNldC11aS9jb3JlJztcclxuaW1wb3J0IHsgQW50ZENvbGxhcHNlIH0gZnJvbSAnc3JjL2NvbXBvbmVudHMnO1xyXG5pbXBvcnQgeyBUb29sdGlwIH0gZnJvbSAnc3JjL2NvbXBvbmVudHMvVG9vbHRpcCc7XHJcbmltcG9ydCB7IElucHV0IH0gZnJvbSAnc3JjL2NvbXBvbmVudHMvSW5wdXQnO1xyXG5pbXBvcnQgTGFiZWwgZnJvbSAnc3JjL2NvbXBvbmVudHMvTGFiZWwnO1xyXG5pbXBvcnQgeyB1c2VQbHVnaW5Db250ZXh0IH0gZnJvbSAnc3JjL2NvbXBvbmVudHMvRHluYW1pY1BsdWdpbnMnO1xyXG5pbXBvcnQgSWNvbnMgZnJvbSAnc3JjL2NvbXBvbmVudHMvSWNvbnMnO1xyXG5pbXBvcnQgeyBuYXRpdmVGaWx0ZXJHYXRlIH0gZnJvbSAnc3JjL2Rhc2hib2FyZC9jb21wb25lbnRzL25hdGl2ZUZpbHRlcnMvdXRpbHMnO1xyXG5pbXBvcnQgc2Nyb2xsSW50b1ZpZXcgZnJvbSAnc2Nyb2xsLWludG8tdmlldy1pZi1uZWVkZWQnO1xyXG5cclxuaW50ZXJmYWNlIFZpelR5cGVHYWxsZXJ5UHJvcHMge1xyXG4gIG9uQ2hhbmdlOiAodml6VHlwZTogc3RyaW5nIHwgbnVsbCkgPT4gdm9pZDtcclxuICBvbkRvdWJsZUNsaWNrOiAoKSA9PiB2b2lkO1xyXG4gIHNlbGVjdGVkVml6OiBzdHJpbmcgfCBudWxsO1xyXG4gIGNsYXNzTmFtZT86IHN0cmluZztcclxuICBkZW55TGlzdDogc3RyaW5nW107XHJcbn1cclxuXHJcbnR5cGUgVml6RW50cnkgPSB7XHJcbiAga2V5OiBzdHJpbmc7XHJcbiAgdmFsdWU6IENoYXJ0TWV0YWRhdGE7XHJcbn07XHJcblxyXG5lbnVtIFNlY3Rpb25zIHtcclxuICBBbGxDaGFydHMgPSAnQUxMX0NIQVJUUycsXHJcbiAgRmVhdHVyZWQgPSAnRkVBVFVSRUQnLFxyXG4gIENhdGVnb3J5ID0gJ0NBVEVHT1JZJyxcclxuICBUYWdzID0gJ1RBR1MnLFxyXG59XHJcblxyXG5jb25zdCBUSFVNQk5BSUxfR1JJRF9VTklUUyA9IDI0O1xyXG5cclxuZXhwb3J0IGNvbnN0IE1BWF9BRFZJU0FCTEVfVklaX0dBTExFUllfV0lEVEggPSAxMDkwO1xyXG5cclxuY29uc3QgT1RIRVJfQ0FURUdPUlkgPSB0KCdPdGhlcicpO1xyXG5cclxuY29uc3QgQUxMX0NIQVJUUyA9IHQoJ0FsbCBjaGFydHMnKTtcclxuXHJcbmNvbnN0IEZFQVRVUkVEID0gdCgnRmVhdHVyZWQnKTtcclxuXHJcbmNvbnN0IFJFQ09NTUVOREVEX1RBR1MgPSBbRkVBVFVSRUQsIHQoJ0VDaGFydHMnKSwgdCgnQWR2YW5jZWQtQW5hbHl0aWNzJyldO1xyXG5cclxuZXhwb3J0IGNvbnN0IFZJWl9UWVBFX0NPTlRST0xfVEVTVF9JRCA9ICd2aXotdHlwZS1jb250cm9sJztcclxuXHJcbmNvbnN0IFZpelBpY2tlckxheW91dCA9IHN0eWxlZC5kaXY8eyBpc1NlbGVjdGVkVml6TWV0YWRhdGE6IGJvb2xlYW4gfT5gXHJcbiAgJHsoeyBpc1NlbGVjdGVkVml6TWV0YWRhdGEgfSkgPT4gYFxyXG4gICAgZGlzcGxheTogZ3JpZDtcclxuICAgIGdyaWQtdGVtcGxhdGUtcm93czogJHtcclxuICAgICAgaXNTZWxlY3RlZFZpek1ldGFkYXRhXHJcbiAgICAgICAgPyBgYXV0byBtaW5tYXgoMTAwcHgsIDFmcikgbWlubWF4KDIwMHB4LCAzNSUpYFxyXG4gICAgICAgIDogJ2F1dG8gbWlubWF4KDEwMHB4LCAxZnIpJ1xyXG4gICAgfTtcclxuICAgIC8vIGVtIGlzIHVzZWQgaGVyZSBiZWNhdXNlIHRoZSBzaWRlYmFyIHNob3VsZCBiZSBzaXplZCB0byBmaXQgdGhlIGxvbmdlc3Qgc3RhbmRhcmQgdGFnXHJcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IG1pbm1heCgxNGVtLCBhdXRvKSA1ZnI7XHJcbiAgICBncmlkLXRlbXBsYXRlLWFyZWFzOlxyXG4gICAgICAnc2lkZWJhciBzZWFyY2gnXHJcbiAgICAgICdzaWRlYmFyIG1haW4nXHJcbiAgICAgICdkZXRhaWxzIGRldGFpbHMnO1xyXG4gICAgaGVpZ2h0OiA3MHZoO1xyXG4gICAgb3ZlcmZsb3c6IGF1dG87XHJcbiAgYH1cclxuYDtcclxuXHJcbmNvbnN0IFNlY3Rpb25UaXRsZSA9IHN0eWxlZC5oM2BcclxuICBtYXJnaW4tdG9wOiAwO1xyXG4gIG1hcmdpbi1ib3R0b206ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUuZ3JpZFVuaXQgKiAyfXB4O1xyXG4gIGZvbnQtc2l6ZTogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS50eXBvZ3JhcGh5LnNpemVzLmx9cHg7XHJcbiAgZm9udC13ZWlnaHQ6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUudHlwb2dyYXBoeS53ZWlnaHRzLmJvbGR9O1xyXG4gIGxpbmUtaGVpZ2h0OiAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmdyaWRVbml0ICogNn1weDtcclxuYDtcclxuXHJcbmNvbnN0IExlZnRQYW5lID0gc3R5bGVkLmRpdmBcclxuICBncmlkLWFyZWE6IHNpZGViYXI7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUuY29sb3JzLmdyYXlzY2FsZS5saWdodDJ9O1xyXG4gIG92ZXJmbG93OiBhdXRvO1xyXG5cclxuICAuYW50LWNvbGxhcHNlIC5hbnQtY29sbGFwc2UtaXRlbSB7XHJcbiAgICAuYW50LWNvbGxhcHNlLWhlYWRlciB7XHJcbiAgICAgIGZvbnQtc2l6ZTogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS50eXBvZ3JhcGh5LnNpemVzLnN9cHg7XHJcbiAgICAgIGNvbG9yOiAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmNvbG9ycy5ncmF5c2NhbGUuYmFzZX07XHJcbiAgICAgIHBhZGRpbmctbGVmdDogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS5ncmlkVW5pdCAqIDJ9cHg7XHJcbiAgICAgIHBhZGRpbmctYm90dG9tOiAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmdyaWRVbml0fXB4O1xyXG4gICAgfVxyXG4gICAgLmFudC1jb2xsYXBzZS1jb250ZW50IC5hbnQtY29sbGFwc2UtY29udGVudC1ib3gge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICBwYWRkaW5nOiAwICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUuZ3JpZFVuaXQgKiAyfXB4O1xyXG4gICAgfVxyXG4gIH1cclxuYDtcclxuXHJcbmNvbnN0IFJpZ2h0UGFuZSA9IHN0eWxlZC5kaXZgXHJcbiAgZ3JpZC1hcmVhOiBtYWluO1xyXG4gIG92ZXJmbG93LXk6IGF1dG87XHJcbmA7XHJcblxyXG5jb25zdCBTZWFyY2hXcmFwcGVyID0gc3R5bGVkLmRpdmBcclxuICAkeyh7IHRoZW1lIH0pID0+IGBcclxuICAgIGdyaWQtYXJlYTogc2VhcmNoO1xyXG4gICAgbWFyZ2luLXRvcDogJHt0aGVtZS5ncmlkVW5pdCAqIDN9cHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAke3RoZW1lLmdyaWRVbml0fXB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6ICR7dGhlbWUuZ3JpZFVuaXQgKiAzfXB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAke3RoZW1lLmdyaWRVbml0ICogM31weDtcclxuICAgIC5hbnQtaW5wdXQtYWZmaXgtd3JhcHBlciB7XHJcbiAgICAgIHBhZGRpbmctbGVmdDogJHt0aGVtZS5ncmlkVW5pdCAqIDJ9cHg7XHJcbiAgICB9XHJcbiAgYH1cclxuYDtcclxuXHJcbi8qKiBTdHlsZXMgdG8gbGluZSB1cCBwcmVmaXgvc3VmZml4IGljb25zIGluIHRoZSBzZWFyY2ggaW5wdXQgKi9cclxuY29uc3QgSW5wdXRJY29uQWxpZ25tZW50ID0gc3R5bGVkLmRpdmBcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgY29sb3I6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUuY29sb3JzLmdyYXlzY2FsZS5iYXNlfTtcclxuYDtcclxuXHJcbmNvbnN0IFNlbGVjdG9yTGFiZWwgPSBzdHlsZWQuYnV0dG9uYFxyXG4gICR7KHsgdGhlbWUgfSkgPT4gYFxyXG4gICAgYWxsOiB1bnNldDsgLy8gcmVtb3ZlIGRlZmF1bHQgYnV0dG9uIHN0eWxlc1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgbWFyZ2luOiAke3RoZW1lLmdyaWRVbml0fXB4IDA7XHJcbiAgICBwYWRkaW5nOiAwICR7dGhlbWUuZ3JpZFVuaXR9cHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiAke3RoZW1lLmJvcmRlclJhZGl1c31weDtcclxuICAgIGxpbmUtaGVpZ2h0OiAyZW07XHJcbiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcclxuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcblxyXG4gICAgJjpmb2N1cyB7XHJcbiAgICAgIG91dGxpbmU6IGluaXRpYWw7XHJcbiAgICB9XHJcblxyXG4gICAgJi5zZWxlY3RlZCB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhlbWUuY29sb3JzLnByaW1hcnkuYmFzZX07XHJcbiAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5wcmltYXJ5LmxpZ2h0NX07XHJcblxyXG4gICAgICBzdmcge1xyXG4gICAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5wcmltYXJ5LmxpZ2h0NX07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICY6aG92ZXIge1xyXG4gICAgICAgIC5jYW5jZWwge1xyXG4gICAgICAgICAgdmlzaWJpbGl0eTogdmlzaWJsZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAmID4gc3Bhbltyb2xlPVwiaW1nXCJdIHtcclxuICAgICAgbWFyZ2luLXJpZ2h0OiAke3RoZW1lLmdyaWRVbml0ICogMn1weDtcclxuICAgIH1cclxuXHJcbiAgICAuY2FuY2VsIHtcclxuICAgICAgdmlzaWJpbGl0eTogaGlkZGVuO1xyXG4gICAgfVxyXG4gIGB9XHJcbmA7XHJcblxyXG5jb25zdCBJY29uc1BhbmUgPSBzdHlsZWQuZGl2YFxyXG4gIG92ZXJmbG93OiBhdXRvO1xyXG4gIGRpc3BsYXk6IGdyaWQ7XHJcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoXHJcbiAgICBhdXRvLWZpbGwsXHJcbiAgICAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmdyaWRVbml0ICogVEhVTUJOQUlMX0dSSURfVU5JVFN9cHhcclxuICApO1xyXG4gIGdyaWQtYXV0by1yb3dzOiBtYXgtY29udGVudDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWV2ZW5seTtcclxuICBncmlkLWdhcDogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS5ncmlkVW5pdCAqIDJ9cHg7XHJcbiAganVzdGlmeS1pdGVtczogY2VudGVyO1xyXG4gIC8vIGZvciBzb21lIHJlYXNvbiB0aGlzIHBhZGRpbmcgZG9lc24ndCBzZWVtIHRvIGFwcGx5IGF0IHRoZSBib3R0b20gb2YgdGhlIGNvbnRhaW5lci4gV2h5IGlzIGEgbXlzdGVyeS5cclxuICBwYWRkaW5nOiAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmdyaWRVbml0ICogMn1weDtcclxuYDtcclxuXHJcbmNvbnN0IERldGFpbHNQYW5lID0gKHRoZW1lOiBTdXBlcnNldFRoZW1lKSA9PiBjc3NgXHJcbiAgZ3JpZC1hcmVhOiBkZXRhaWxzO1xyXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAke3RoZW1lLmNvbG9ycy5ncmF5c2NhbGUubGlnaHQyfTtcclxuYDtcclxuXHJcbmNvbnN0IERldGFpbHNQb3B1bGF0ZWQgPSAodGhlbWU6IFN1cGVyc2V0VGhlbWUpID0+IGNzc2BcclxuICBwYWRkaW5nOiAke3RoZW1lLmdyaWRVbml0ICogNH1weDtcclxuICBkaXNwbGF5OiBncmlkO1xyXG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDFmcjtcclxuICBncmlkLXRlbXBsYXRlLXJvd3M6IGF1dG8gYXV0byAxZnI7XHJcbiAgZ3JpZC10ZW1wbGF0ZS1hcmVhczpcclxuICAgICd2aXotbmFtZSBleGFtcGxlcy1oZWFkZXInXHJcbiAgICAndml6LXRhZ3MgZXhhbXBsZXMnXHJcbiAgICAnZGVzY3JpcHRpb24gZXhhbXBsZXMnO1xyXG5gO1xyXG5cclxuLy8gb3ZlcmZsb3cgaGlkZGVuIG9uIHRoZSBkZXRhaWxzIHBhbmUgYW5kIG92ZXJmbG93IGF1dG8gb24gdGhlIGRlc2NyaXB0aW9uXHJcbi8vIChwbHVzIGdyaWQgbGF5b3V0KSBlbmFibGVzIHRoZSBkZXNjcmlwdGlvbiB0byBzY3JvbGwgd2hpbGUgdGhlIGhlYWRlciBzdGF5cyBpbiBwbGFjZS5cclxuY29uc3QgVGFnc1dyYXBwZXIgPSBzdHlsZWQuZGl2YFxyXG4gIGdyaWQtYXJlYTogdml6LXRhZ3M7XHJcbiAgd2lkdGg6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUuZ3JpZFVuaXQgKiAxMjB9cHg7XHJcbiAgcGFkZGluZy1yaWdodDogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS5ncmlkVW5pdCAqIDE0fXB4O1xyXG4gIHBhZGRpbmctYm90dG9tOiAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmdyaWRVbml0ICogMn1weDtcclxuYDtcclxuXHJcbmNvbnN0IERlc2NyaXB0aW9uID0gc3R5bGVkLnBgXHJcbiAgZ3JpZC1hcmVhOiBkZXNjcmlwdGlvbjtcclxuICBvdmVyZmxvdzogYXV0bztcclxuICBwYWRkaW5nLXJpZ2h0OiAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmdyaWRVbml0ICogMTR9cHg7XHJcbiAgbWFyZ2luOiAwO1xyXG5gO1xyXG5cclxuY29uc3QgRXhhbXBsZXMgPSBzdHlsZWQuZGl2YFxyXG4gIGdyaWQtYXJlYTogZXhhbXBsZXM7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gIGZsZXgtd3JhcDogbm93cmFwO1xyXG4gIG92ZXJmbG93OiBhdXRvO1xyXG4gIGdhcDogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS5ncmlkVW5pdCAqIDR9cHg7XHJcblxyXG4gIGltZyB7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBib3JkZXItcmFkaXVzOiAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmdyaWRVbml0fXB4O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS5jb2xvcnMuZ3JheXNjYWxlLmxpZ2h0Mn07XHJcbiAgfVxyXG5gO1xyXG5cclxuY29uc3QgdGh1bWJuYWlsQ29udGFpbmVyQ3NzID0gKHRoZW1lOiBTdXBlcnNldFRoZW1lKSA9PiBjc3NgXHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIHdpZHRoOiAke3RoZW1lLmdyaWRVbml0ICogVEhVTUJOQUlMX0dSSURfVU5JVFN9cHg7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG5cclxuICBpbWcge1xyXG4gICAgbWluLXdpZHRoOiAke3RoZW1lLmdyaWRVbml0ICogVEhVTUJOQUlMX0dSSURfVU5JVFN9cHg7XHJcbiAgICBtaW4taGVpZ2h0OiAke3RoZW1lLmdyaWRVbml0ICogVEhVTUJOQUlMX0dSSURfVU5JVFN9cHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAke3RoZW1lLmNvbG9ycy5ncmF5c2NhbGUubGlnaHQyfTtcclxuICAgIGJvcmRlci1yYWRpdXM6ICR7dGhlbWUuZ3JpZFVuaXR9cHg7XHJcbiAgICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgJHt0aGVtZS50cmFuc2l0aW9uVGltaW5nfTtcclxuICB9XHJcblxyXG4gICYuc2VsZWN0ZWQgaW1nIHtcclxuICAgIGJvcmRlcjogMnB4IHNvbGlkICR7dGhlbWUuY29sb3JzLnByaW1hcnkubGlnaHQyfTtcclxuICB9XHJcblxyXG4gICY6aG92ZXI6bm90KC5zZWxlY3RlZCkgaW1nIHtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICR7dGhlbWUuY29sb3JzLmdyYXlzY2FsZS5saWdodDF9O1xyXG4gIH1cclxuXHJcbiAgLnZpenR5cGUtbGFiZWwge1xyXG4gICAgbWFyZ2luLXRvcDogJHt0aGVtZS5ncmlkVW5pdCAqIDJ9cHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgfVxyXG5gO1xyXG5cclxuY29uc3QgSGlnaGxpZ2h0TGFiZWwgPSBzdHlsZWQuZGl2YFxyXG4gICR7KHsgdGhlbWUgfSkgPT4gYFxyXG4gICAgYm9yZGVyOiAxcHggc29saWQgJHt0aGVtZS5jb2xvcnMucHJpbWFyeS5kYXJrMX07XHJcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgYm9yZGVyLXJhZGl1czogJHt0aGVtZS5ncmlkVW5pdH1weDtcclxuICAgIGJhY2tncm91bmQ6ICR7dGhlbWUuY29sb3JzLmdyYXlzY2FsZS5saWdodDV9O1xyXG4gICAgbGluZS1oZWlnaHQ6ICR7dGhlbWUuZ3JpZFVuaXQgKiAyLjV9cHg7XHJcbiAgICBjb2xvcjogJHt0aGVtZS5jb2xvcnMucHJpbWFyeS5kYXJrMX07XHJcbiAgICBmb250LXNpemU6ICR7dGhlbWUudHlwb2dyYXBoeS5zaXplcy5zfXB4O1xyXG4gICAgZm9udC13ZWlnaHQ6ICR7dGhlbWUudHlwb2dyYXBoeS53ZWlnaHRzLmJvbGR9O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgcGFkZGluZzogJHt0aGVtZS5ncmlkVW5pdCAqIDAuNX1weCAke3RoZW1lLmdyaWRVbml0fXB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG5cclxuICAgIGRpdiB7XHJcbiAgICAgIHRyYW5zZm9ybTogc2NhbGUoMC44MywwLjgzKTtcclxuICAgIH1cclxuICBgfVxyXG5gO1xyXG5cclxuY29uc3QgVGh1bWJuYWlsTGFiZWxXcmFwcGVyID0gc3R5bGVkLmRpdmBcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgcmlnaHQ6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUuZ3JpZFVuaXR9cHg7XHJcbiAgdG9wOiAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmdyaWRVbml0ICogMTl9cHg7XHJcbmA7XHJcblxyXG5jb25zdCBUaXRsZUxhYmVsV3JhcHBlciA9IHN0eWxlZC5kaXZgXHJcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrICFpbXBvcnRhbnQ7XHJcbiAgbWFyZ2luLWxlZnQ6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUuZ3JpZFVuaXQgKiAyfXB4O1xyXG5gO1xyXG5cclxuaW50ZXJmYWNlIFRodW1ibmFpbFByb3BzIHtcclxuICBlbnRyeTogVml6RW50cnk7XHJcbiAgc2VsZWN0ZWRWaXo6IHN0cmluZyB8IG51bGw7XHJcbiAgc2V0U2VsZWN0ZWRWaXo6ICh2aXo6IHN0cmluZykgPT4gdm9pZDtcclxuICBvbkRvdWJsZUNsaWNrOiAoKSA9PiB2b2lkO1xyXG59XHJcblxyXG5jb25zdCBUaHVtYm5haWw6IEZDPFRodW1ibmFpbFByb3BzPiA9ICh7XHJcbiAgZW50cnksXHJcbiAgc2VsZWN0ZWRWaXosXHJcbiAgc2V0U2VsZWN0ZWRWaXosXHJcbiAgb25Eb3VibGVDbGljayxcclxufSkgPT4ge1xyXG4gIGNvbnN0IHRoZW1lID0gdXNlVGhlbWUoKTtcclxuICBjb25zdCB7IGtleSwgdmFsdWU6IHR5cGUgfSA9IGVudHJ5O1xyXG4gIGNvbnN0IGlzU2VsZWN0ZWQgPSBzZWxlY3RlZFZpeiA9PT0gZW50cnkua2V5O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdlxyXG4gICAgICByb2xlPVwiYnV0dG9uXCJcclxuICAgICAgLy8gdXNpbmcgY3NzIGluc3RlYWQgb2YgYSBzdHlsZWQgY29tcG9uZW50IHRvIHByZXNlcnZlXHJcbiAgICAgIC8vIHRoZSBkYXRhLXRlc3QgYXR0cmlidXRlXHJcbiAgICAgIGNzcz17dGh1bWJuYWlsQ29udGFpbmVyQ3NzKHRoZW1lKX1cclxuICAgICAgdGFiSW5kZXg9ezB9XHJcbiAgICAgIGNsYXNzTmFtZT17aXNTZWxlY3RlZCA/ICdzZWxlY3RlZCcgOiAnJ31cclxuICAgICAgb25DbGljaz17KCkgPT4gc2V0U2VsZWN0ZWRWaXooa2V5KX1cclxuICAgICAgb25Eb3VibGVDbGljaz17b25Eb3VibGVDbGlja31cclxuICAgICAgZGF0YS10ZXN0PVwidml6dHlwZS1zZWxlY3Rvci1jb250YWluZXJcIlxyXG4gICAgPlxyXG4gICAgICA8aW1nXHJcbiAgICAgICAgYWx0PXt0eXBlLm5hbWV9XHJcbiAgICAgICAgd2lkdGg9XCIxMDAlXCJcclxuICAgICAgICBjbGFzc05hbWU9e2B2aXp0eXBlLXNlbGVjdG9yICR7aXNTZWxlY3RlZCA/ICdzZWxlY3RlZCcgOiAnJ31gfVxyXG4gICAgICAgIHNyYz17dHlwZS50aHVtYm5haWx9XHJcbiAgICAgIC8+XHJcbiAgICAgIDxkaXZcclxuICAgICAgICBjbGFzc05hbWU9XCJ2aXp0eXBlLWxhYmVsXCJcclxuICAgICAgICBkYXRhLXRlc3Q9e2Ake1ZJWl9UWVBFX0NPTlRST0xfVEVTVF9JRH1fX3ZpenR5cGUtbGFiZWxgfVxyXG4gICAgICA+XHJcbiAgICAgICAge3R5cGUubmFtZX1cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIHt0eXBlLmxhYmVsICYmIChcclxuICAgICAgICA8VGh1bWJuYWlsTGFiZWxXcmFwcGVyPlxyXG4gICAgICAgICAgPEhpZ2hsaWdodExhYmVsPlxyXG4gICAgICAgICAgICA8ZGl2Pnt0KHR5cGUubGFiZWwpfTwvZGl2PlxyXG4gICAgICAgICAgPC9IaWdobGlnaHRMYWJlbD5cclxuICAgICAgICA8L1RodW1ibmFpbExhYmVsV3JhcHBlcj5cclxuICAgICAgKX1cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn07XHJcblxyXG5pbnRlcmZhY2UgVGh1bWJuYWlsR2FsbGVyeVByb3BzIHtcclxuICB2aXpFbnRyaWVzOiBWaXpFbnRyeVtdO1xyXG4gIHNlbGVjdGVkVml6OiBzdHJpbmcgfCBudWxsO1xyXG4gIHNldFNlbGVjdGVkVml6OiAodml6OiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgb25Eb3VibGVDbGljazogKCkgPT4gdm9pZDtcclxufVxyXG5cclxuLyoqIEEgbGlzdCBvZiB2aXogdGh1bWJuYWlscywgdXNlZCB3aXRoaW4gdGhlIHZpeiBwaWNrZXIgbW9kYWwgKi9cclxuY29uc3QgVGh1bWJuYWlsR2FsbGVyeTogRkM8VGh1bWJuYWlsR2FsbGVyeVByb3BzPiA9ICh7XHJcbiAgdml6RW50cmllcyxcclxuICAuLi5wcm9wc1xyXG59KSA9PiAoXHJcbiAgPEljb25zUGFuZSBkYXRhLXRlc3Q9e2Ake1ZJWl9UWVBFX0NPTlRST0xfVEVTVF9JRH1fX3Zpei1yb3dgfT5cclxuICAgIHt2aXpFbnRyaWVzLm1hcChlbnRyeSA9PiAoXHJcbiAgICAgIDxUaHVtYm5haWwga2V5PXtlbnRyeS5rZXl9IHsuLi5wcm9wc30gZW50cnk9e2VudHJ5fSAvPlxyXG4gICAgKSl9XHJcbiAgPC9JY29uc1BhbmU+XHJcbik7XHJcblxyXG5jb25zdCBTZWxlY3RvcjogRkM8e1xyXG4gIHNlbGVjdG9yOiBzdHJpbmc7XHJcbiAgc2VjdGlvbklkOiBzdHJpbmc7XHJcbiAgaWNvbjogUmVhY3RFbGVtZW50O1xyXG4gIGlzU2VsZWN0ZWQ6IGJvb2xlYW47XHJcbiAgb25DbGljazogKHNlbGVjdG9yOiBzdHJpbmcsIHNlY3Rpb25JZDogc3RyaW5nKSA9PiB2b2lkO1xyXG4gIGNsYXNzTmFtZT86IHN0cmluZztcclxufT4gPSAoeyBzZWxlY3Rvciwgc2VjdGlvbklkLCBpY29uLCBpc1NlbGVjdGVkLCBvbkNsaWNrLCBjbGFzc05hbWUgfSkgPT4ge1xyXG4gIGNvbnN0IGJ0blJlZiA9IHVzZVJlZjxIVE1MQnV0dG9uRWxlbWVudD4obnVsbCk7XHJcblxyXG4gIC8vIHNlZSBFbGVtZW50LnNjcm9sbEludG9WaWV3SWZOZWVkZWQoKVxyXG4gIC8vIHNlZTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0VsZW1lbnQvc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoaXNTZWxlY3RlZCkge1xyXG4gICAgICAvLyBXZSBuZWVkIHRvIHdhaXQgZm9yIHRoZSBtb2RhbCB0byBvcGVuIGFuZCB0aGVuIHNjcm9sbCwgc28gd2UgcHV0IGl0IGluIHRoZSBtaWNyb3Rhc2sgcXVldWVcclxuICAgICAgcXVldWVNaWNyb3Rhc2soKCkgPT5cclxuICAgICAgICBzY3JvbGxJbnRvVmlldyhidG5SZWYuY3VycmVudCBhcyBIVE1MQnV0dG9uRWxlbWVudCwge1xyXG4gICAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnLFxyXG4gICAgICAgICAgc2Nyb2xsTW9kZTogJ2lmLW5lZWRlZCcsXHJcbiAgICAgICAgfSksXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfSwgW10pO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPFNlbGVjdG9yTGFiZWxcclxuICAgICAgcmVmPXtidG5SZWZ9XHJcbiAgICAgIGtleT17c2VsZWN0b3J9XHJcbiAgICAgIG5hbWU9e3NlbGVjdG9yfVxyXG4gICAgICBjbGFzc05hbWU9e2N4KGNsYXNzTmFtZSwgaXNTZWxlY3RlZCAmJiAnc2VsZWN0ZWQnKX1cclxuICAgICAgb25DbGljaz17KCkgPT4gb25DbGljayhzZWxlY3Rvciwgc2VjdGlvbklkKX1cclxuICAgID5cclxuICAgICAge2ljb259XHJcbiAgICAgIHtzZWxlY3Rvcn1cclxuICAgIDwvU2VsZWN0b3JMYWJlbD5cclxuICApO1xyXG59O1xyXG5cclxuY29uc3QgZG9lc1Zpek1hdGNoU2VsZWN0b3IgPSAodml6OiBDaGFydE1ldGFkYXRhLCBzZWxlY3Rvcjogc3RyaW5nKSA9PlxyXG4gIHNlbGVjdG9yID09PSB2aXouY2F0ZWdvcnkgfHxcclxuICAoc2VsZWN0b3IgPT09IE9USEVSX0NBVEVHT1JZICYmIHZpei5jYXRlZ29yeSA9PSBudWxsKSB8fFxyXG4gICh2aXoudGFncyB8fCBbXSkuaW5kZXhPZihzZWxlY3RvcikgPiAtMTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFZpelR5cGVHYWxsZXJ5KHByb3BzOiBWaXpUeXBlR2FsbGVyeVByb3BzKSB7XHJcbiAgY29uc3QgeyBzZWxlY3RlZFZpeiwgb25DaGFuZ2UsIG9uRG91YmxlQ2xpY2ssIGNsYXNzTmFtZSwgZGVueUxpc3QgfSA9IHByb3BzO1xyXG4gIGNvbnN0IHsgbW91bnRlZFBsdWdpbk1ldGFkYXRhIH0gPSB1c2VQbHVnaW5Db250ZXh0KCk7XHJcbiAgY29uc3Qgc2VhcmNoSW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4oKTtcclxuICBjb25zdCBbc2VhcmNoSW5wdXRWYWx1ZSwgc2V0U2VhcmNoSW5wdXRWYWx1ZV0gPSB1c2VTdGF0ZSgnJyk7XHJcbiAgY29uc3QgW2lzU2VhcmNoRm9jdXNlZCwgc2V0SXNTZWFyY2hGb2N1c2VkXSA9IHVzZVN0YXRlKHRydWUpO1xyXG4gIGNvbnN0IGlzQWN0aXZlbHlTZWFyY2hpbmcgPSBpc1NlYXJjaEZvY3VzZWQgJiYgISFzZWFyY2hJbnB1dFZhbHVlO1xyXG5cclxuICBjb25zdCBzZWxlY3RlZFZpek1ldGFkYXRhOiBDaGFydE1ldGFkYXRhIHwgbnVsbCA9IHNlbGVjdGVkVml6XHJcbiAgICA/IG1vdW50ZWRQbHVnaW5NZXRhZGF0YVtzZWxlY3RlZFZpel1cclxuICAgIDogbnVsbDtcclxuXHJcbiAgY29uc3QgY2hhcnRNZXRhZGF0YTogVml6RW50cnlbXSA9IHVzZU1lbW8oKCkgPT4ge1xyXG4gICAgY29uc3QgcmVzdWx0ID0gT2JqZWN0LmVudHJpZXMobW91bnRlZFBsdWdpbk1ldGFkYXRhKVxyXG4gICAgICAubWFwKChba2V5LCB2YWx1ZV0pID0+ICh7IGtleSwgdmFsdWUgfSkpXHJcbiAgICAgIC5maWx0ZXIoKHsga2V5IH0pID0+ICFkZW55TGlzdC5pbmNsdWRlcyhrZXkpKVxyXG4gICAgICAuZmlsdGVyKFxyXG4gICAgICAgICh7IHZhbHVlIH0pID0+XHJcbiAgICAgICAgICBuYXRpdmVGaWx0ZXJHYXRlKHZhbHVlLmJlaGF2aW9ycyB8fCBbXSkgJiYgIXZhbHVlLmRlcHJlY2F0ZWQsXHJcbiAgICAgIClcclxuICAgICAgLnNvcnQoKGEsIGIpID0+IGEudmFsdWUubmFtZS5sb2NhbGVDb21wYXJlKGIudmFsdWUubmFtZSkpO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9LCBbbW91bnRlZFBsdWdpbk1ldGFkYXRhLCBkZW55TGlzdF0pO1xyXG5cclxuICBjb25zdCBjaGFydHNCeUNhdGVnb3J5ID0gdXNlTWVtbygoKSA9PiB7XHJcbiAgICBjb25zdCByZXN1bHQ6IFJlY29yZDxzdHJpbmcsIFZpekVudHJ5W10+ID0ge307XHJcbiAgICBjaGFydE1ldGFkYXRhLmZvckVhY2goZW50cnkgPT4ge1xyXG4gICAgICBjb25zdCBjYXRlZ29yeSA9IGVudHJ5LnZhbHVlLmNhdGVnb3J5IHx8IE9USEVSX0NBVEVHT1JZO1xyXG4gICAgICBpZiAoIXJlc3VsdFtjYXRlZ29yeV0pIHtcclxuICAgICAgICByZXN1bHRbY2F0ZWdvcnldID0gW107XHJcbiAgICAgIH1cclxuICAgICAgcmVzdWx0W2NhdGVnb3J5XS5wdXNoKGVudHJ5KTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9LCBbY2hhcnRNZXRhZGF0YV0pO1xyXG5cclxuICBjb25zdCBjYXRlZ29yaWVzID0gdXNlTWVtbyhcclxuICAgICgpID0+XHJcbiAgICAgIE9iamVjdC5rZXlzKGNoYXJ0c0J5Q2F0ZWdvcnkpLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICAvLyBtYWtlIHN1cmUgT3RoZXIgZ29lcyBhdCB0aGUgZW5kXHJcbiAgICAgICAgaWYgKGEgPT09IE9USEVSX0NBVEVHT1JZKSByZXR1cm4gMTtcclxuICAgICAgICBpZiAoYiA9PT0gT1RIRVJfQ0FURUdPUlkpIHJldHVybiAtMTtcclxuICAgICAgICAvLyBzb3J0IGFscGhhYmV0aWNhbGx5XHJcbiAgICAgICAgcmV0dXJuIGEubG9jYWxlQ29tcGFyZShiKTtcclxuICAgICAgfSksXHJcbiAgICBbY2hhcnRzQnlDYXRlZ29yeV0sXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgY2hhcnRzQnlUYWdzID0gdXNlTWVtbygoKSA9PiB7XHJcbiAgICBjb25zdCByZXN1bHQ6IFJlY29yZDxzdHJpbmcsIFZpekVudHJ5W10+ID0ge307XHJcbiAgICBjaGFydE1ldGFkYXRhLmZvckVhY2goZW50cnkgPT4ge1xyXG4gICAgICBjb25zdCB0YWdzID0gZW50cnkudmFsdWUudGFncyB8fCBbXTtcclxuICAgICAgdGFncy5mb3JFYWNoKHRhZyA9PiB7XHJcbiAgICAgICAgaWYgKCFyZXN1bHRbdGFnXSkge1xyXG4gICAgICAgICAgcmVzdWx0W3RhZ10gPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzdWx0W3RhZ10ucHVzaChlbnRyeSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH0sIFtjaGFydE1ldGFkYXRhXSk7XHJcblxyXG4gIGNvbnN0IHRhZ3MgPSB1c2VNZW1vKFxyXG4gICAgKCkgPT5cclxuICAgICAgT2JqZWN0LmtleXMoY2hhcnRzQnlUYWdzKVxyXG4gICAgICAgIC5zb3J0KChhLCBiKSA9PlxyXG4gICAgICAgICAgLy8gc29ydCBhbHBoYWJldGljYWxseVxyXG4gICAgICAgICAgYS5sb2NhbGVDb21wYXJlKGIpLFxyXG4gICAgICAgIClcclxuICAgICAgICAuZmlsdGVyKHRhZyA9PiBSRUNPTU1FTkRFRF9UQUdTLmluZGV4T2YodGFnKSA9PT0gLTEpLFxyXG4gICAgW2NoYXJ0c0J5VGFnc10sXHJcbiAgKTtcclxuXHJcbiAgY29uc3Qgc29ydGVkTWV0YWRhdGEgPSB1c2VNZW1vKFxyXG4gICAgKCkgPT5cclxuICAgICAgY2hhcnRNZXRhZGF0YS5zb3J0KChhLCBiKSA9PiBhLnZhbHVlLm5hbWUubG9jYWxlQ29tcGFyZShiLnZhbHVlLm5hbWUpKSxcclxuICAgIFtjaGFydE1ldGFkYXRhXSxcclxuICApO1xyXG5cclxuICBjb25zdCBbYWN0aXZlU2VsZWN0b3IsIHNldEFjdGl2ZVNlbGVjdG9yXSA9IHVzZVN0YXRlPHN0cmluZz4oXHJcbiAgICAoKSA9PiBzZWxlY3RlZFZpek1ldGFkYXRhPy5jYXRlZ29yeSB8fCBGRUFUVVJFRCxcclxuICApO1xyXG5cclxuICBjb25zdCBbYWN0aXZlU2VjdGlvbiwgc2V0QWN0aXZlU2VjdGlvbl0gPSB1c2VTdGF0ZTxzdHJpbmc+KCgpID0+XHJcbiAgICBzZWxlY3RlZFZpek1ldGFkYXRhPy5jYXRlZ29yeSA/IFNlY3Rpb25zLkNhdGVnb3J5IDogU2VjdGlvbnMuRmVhdHVyZWQsXHJcbiAgKTtcclxuXHJcbiAgLy8gZ2V0IGEgZnVzZSBpbnN0YW5jZSBmb3IgZnV6enkgc2VhcmNoXHJcbiAgY29uc3QgZnVzZSA9IHVzZU1lbW8oXHJcbiAgICAoKSA9PlxyXG4gICAgICBuZXcgRnVzZShjaGFydE1ldGFkYXRhLCB7XHJcbiAgICAgICAgaWdub3JlTG9jYXRpb246IHRydWUsXHJcbiAgICAgICAgdGhyZXNob2xkOiAwLjMsXHJcbiAgICAgICAga2V5czogW1xyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAndmFsdWUubmFtZScsXHJcbiAgICAgICAgICAgIHdlaWdodDogNCxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICd2YWx1ZS50YWdzJyxcclxuICAgICAgICAgICAgd2VpZ2h0OiAyLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgICd2YWx1ZS5kZXNjcmlwdGlvbicsXHJcbiAgICAgICAgXSxcclxuICAgICAgfSksXHJcbiAgICBbY2hhcnRNZXRhZGF0YV0sXHJcbiAgKTtcclxuXHJcbiAgY29uc3Qgc2VhcmNoUmVzdWx0cyA9IHVzZU1lbW8oKCkgPT4ge1xyXG4gICAgaWYgKHNlYXJjaElucHV0VmFsdWUudHJpbSgpID09PSAnJykge1xyXG4gICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVzZVxyXG4gICAgICAuc2VhcmNoKHNlYXJjaElucHV0VmFsdWUpXHJcbiAgICAgIC5tYXAocmVzdWx0ID0+IHJlc3VsdC5pdGVtKVxyXG4gICAgICAuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGFMYWJlbCA9IGEudmFsdWU/LmxhYmVsO1xyXG4gICAgICAgIGNvbnN0IGJMYWJlbCA9IGIudmFsdWU/LmxhYmVsO1xyXG4gICAgICAgIGNvbnN0IGFPcmRlciA9XHJcbiAgICAgICAgICBhTGFiZWwgJiYgY2hhcnRMYWJlbFdlaWdodFthTGFiZWxdXHJcbiAgICAgICAgICAgID8gY2hhcnRMYWJlbFdlaWdodFthTGFiZWxdLndlaWdodFxyXG4gICAgICAgICAgICA6IDA7XHJcbiAgICAgICAgY29uc3QgYk9yZGVyID1cclxuICAgICAgICAgIGJMYWJlbCAmJiBjaGFydExhYmVsV2VpZ2h0W2JMYWJlbF1cclxuICAgICAgICAgICAgPyBjaGFydExhYmVsV2VpZ2h0W2JMYWJlbF0ud2VpZ2h0XHJcbiAgICAgICAgICAgIDogMDtcclxuICAgICAgICByZXR1cm4gYk9yZGVyIC0gYU9yZGVyO1xyXG4gICAgICB9KTtcclxuICB9LCBbc2VhcmNoSW5wdXRWYWx1ZSwgZnVzZV0pO1xyXG5cclxuICBjb25zdCBmb2N1c1NlYXJjaCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIC8vIFwic3RhcnQgc2VhcmNoaW5nXCIgaXMgYWN0dWFsbHkgYSB0d28tc3RhZ2UgcHJvY2Vzcy5cclxuICAgIC8vIFdoZW4geW91IGZpcnN0IGNsaWNrIG9uIHRoZSBzZWFyY2ggYmFyLCB0aGUgaW5wdXQgaXMgZm9jdXNlZCBhbmQgbm90aGluZyBlbHNlIGhhcHBlbnMuXHJcbiAgICAvLyBPbmNlIHlvdSBiZWdpbiB0eXBpbmcsIHRoZSBzZWxlY3RlZCBjYXRlZ29yeSBpcyBjbGVhcmVkIGFuZCB0aGUgZGlzcGxheWVkIHZpeiBlbnRyaWVzIGNoYW5nZS5cclxuICAgIHNldElzU2VhcmNoRm9jdXNlZCh0cnVlKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIGNvbnN0IGNoYW5nZVNlYXJjaDogQ2hhbmdlRXZlbnRIYW5kbGVyPEhUTUxJbnB1dEVsZW1lbnQ+ID0gdXNlQ2FsbGJhY2soXHJcbiAgICBldmVudCA9PiBzZXRTZWFyY2hJbnB1dFZhbHVlKGV2ZW50LnRhcmdldC52YWx1ZSksXHJcbiAgICBbXSxcclxuICApO1xyXG5cclxuICBjb25zdCBzdG9wU2VhcmNoaW5nID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgLy8gc3RvcHBpbmcgYSBzZWFyY2ggdGFrZXMgeW91IGJhY2sgdG8gdGhlIGNhdGVnb3J5IHlvdSB3ZXJlIGxvb2tpbmcgYXQgYmVmb3JlLlxyXG4gICAgLy8gVW5saWtlIGZvY3VzU2VhcmNoLCB0aGlzIGlzIGEgc2ltcGxlIG9uZS1zdGVwIHByb2Nlc3MuXHJcbiAgICBzZXRJc1NlYXJjaEZvY3VzZWQoZmFsc2UpO1xyXG4gICAgc2V0U2VhcmNoSW5wdXRWYWx1ZSgnJyk7XHJcbiAgICBzZWFyY2hJbnB1dFJlZi5jdXJyZW50IS5ibHVyKCk7XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCBjbGlja1NlbGVjdG9yID0gdXNlQ2FsbGJhY2soXHJcbiAgICAoc2VsZWN0b3I6IHN0cmluZywgc2VjdGlvbklkOiBzdHJpbmcpID0+IHtcclxuICAgICAgaWYgKGlzU2VhcmNoRm9jdXNlZCkge1xyXG4gICAgICAgIHN0b3BTZWFyY2hpbmcoKTtcclxuICAgICAgfVxyXG4gICAgICBzZXRBY3RpdmVTZWxlY3RvcihzZWxlY3Rvcik7XHJcbiAgICAgIHNldEFjdGl2ZVNlY3Rpb24oc2VjdGlvbklkKTtcclxuICAgICAgLy8gY2xlYXIgdGhlIHNlbGVjdGVkIHZpeiBpZiBpdCBpcyBub3QgcHJlc2VudCBpbiB0aGUgbmV3IGNhdGVnb3J5IG9yIHRhZ3NcclxuICAgICAgY29uc3QgaXNTZWxlY3RlZFZpekNvbXBhdGlibGUgPVxyXG4gICAgICAgIHNlbGVjdGVkVml6TWV0YWRhdGEgJiZcclxuICAgICAgICBkb2VzVml6TWF0Y2hTZWxlY3RvcihzZWxlY3RlZFZpek1ldGFkYXRhLCBzZWxlY3Rvcik7XHJcbiAgICAgIGlmIChzZWxlY3RvciAhPT0gYWN0aXZlU2VsZWN0b3IgJiYgIWlzU2VsZWN0ZWRWaXpDb21wYXRpYmxlKSB7XHJcbiAgICAgICAgb25DaGFuZ2UobnVsbCk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBbXHJcbiAgICAgIHN0b3BTZWFyY2hpbmcsXHJcbiAgICAgIGlzU2VhcmNoRm9jdXNlZCxcclxuICAgICAgYWN0aXZlU2VsZWN0b3IsXHJcbiAgICAgIHNlbGVjdGVkVml6TWV0YWRhdGEsXHJcbiAgICAgIG9uQ2hhbmdlLFxyXG4gICAgXSxcclxuICApO1xyXG5cclxuICBjb25zdCBzZWN0aW9uTWFwID0gdXNlTWVtbyhcclxuICAgICgpID0+ICh7XHJcbiAgICAgIFtTZWN0aW9ucy5DYXRlZ29yeV06IHtcclxuICAgICAgICB0aXRsZTogdCgnQ2F0ZWdvcnknKSxcclxuICAgICAgICBpY29uOiA8SWNvbnMuQ2F0ZWdvcnkgaWNvblNpemU9XCJtXCIgLz4sXHJcbiAgICAgICAgc2VsZWN0b3JzOiBjYXRlZ29yaWVzLFxyXG4gICAgICB9LFxyXG4gICAgICBbU2VjdGlvbnMuVGFnc106IHtcclxuICAgICAgICB0aXRsZTogdCgnVGFncycpLFxyXG4gICAgICAgIGljb246IDxJY29ucy5UYWdzIGljb25TaXplPVwibVwiIC8+LFxyXG4gICAgICAgIHNlbGVjdG9yczogdGFncyxcclxuICAgICAgfSxcclxuICAgIH0pLFxyXG4gICAgW2NhdGVnb3JpZXMsIHRhZ3NdLFxyXG4gICk7XHJcblxyXG4gIGNvbnN0IGdldFZpekVudHJpZXNUb0Rpc3BsYXkgPSAoKSA9PiB7XHJcbiAgICBpZiAoaXNBY3RpdmVseVNlYXJjaGluZykge1xyXG4gICAgICByZXR1cm4gc2VhcmNoUmVzdWx0cztcclxuICAgIH1cclxuICAgIGlmIChhY3RpdmVTZWxlY3RvciA9PT0gQUxMX0NIQVJUUyAmJiBhY3RpdmVTZWN0aW9uID09PSBTZWN0aW9ucy5BbGxDaGFydHMpIHtcclxuICAgICAgcmV0dXJuIHNvcnRlZE1ldGFkYXRhO1xyXG4gICAgfVxyXG4gICAgaWYgKFxyXG4gICAgICBhY3RpdmVTZWxlY3RvciA9PT0gRkVBVFVSRUQgJiZcclxuICAgICAgYWN0aXZlU2VjdGlvbiA9PT0gU2VjdGlvbnMuRmVhdHVyZWQgJiZcclxuICAgICAgY2hhcnRzQnlUYWdzW0ZFQVRVUkVEXVxyXG4gICAgKSB7XHJcbiAgICAgIHJldHVybiBjaGFydHNCeVRhZ3NbRkVBVFVSRURdO1xyXG4gICAgfVxyXG4gICAgaWYgKFxyXG4gICAgICBhY3RpdmVTZWN0aW9uID09PSBTZWN0aW9ucy5DYXRlZ29yeSAmJlxyXG4gICAgICBjaGFydHNCeUNhdGVnb3J5W2FjdGl2ZVNlbGVjdG9yXVxyXG4gICAgKSB7XHJcbiAgICAgIHJldHVybiBjaGFydHNCeUNhdGVnb3J5W2FjdGl2ZVNlbGVjdG9yXTtcclxuICAgIH1cclxuICAgIGlmIChhY3RpdmVTZWN0aW9uID09PSBTZWN0aW9ucy5UYWdzICYmIGNoYXJ0c0J5VGFnc1thY3RpdmVTZWxlY3Rvcl0pIHtcclxuICAgICAgcmV0dXJuIGNoYXJ0c0J5VGFnc1thY3RpdmVTZWxlY3Rvcl07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gW107XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxWaXpQaWNrZXJMYXlvdXRcclxuICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWV9XHJcbiAgICAgIGlzU2VsZWN0ZWRWaXpNZXRhZGF0YT17Qm9vbGVhbihzZWxlY3RlZFZpek1ldGFkYXRhKX1cclxuICAgID5cclxuICAgICAgPExlZnRQYW5lPlxyXG4gICAgICAgIDxTZWxlY3RvclxyXG4gICAgICAgICAgY3NzPXsoeyBncmlkVW5pdCB9KSA9PlxyXG4gICAgICAgICAgICAvLyBhZGp1c3Qgc3R5bGUgZm9yIG5vdCBiZWluZyBpbnNpZGUgYSBjb2xsYXBzZVxyXG4gICAgICAgICAgICBjc3NgXHJcbiAgICAgICAgICAgICAgbWFyZ2luOiAke2dyaWRVbml0ICogMn1weDtcclxuICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xyXG4gICAgICAgICAgICBgXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBzZWN0aW9uSWQ9e1NlY3Rpb25zLkFsbENoYXJ0c31cclxuICAgICAgICAgIHNlbGVjdG9yPXtBTExfQ0hBUlRTfVxyXG4gICAgICAgICAgaWNvbj17PEljb25zLkJhbGxvdCBpY29uU2l6ZT1cIm1cIiAvPn1cclxuICAgICAgICAgIGlzU2VsZWN0ZWQ9e1xyXG4gICAgICAgICAgICAhaXNBY3RpdmVseVNlYXJjaGluZyAmJlxyXG4gICAgICAgICAgICBBTExfQ0hBUlRTID09PSBhY3RpdmVTZWxlY3RvciAmJlxyXG4gICAgICAgICAgICBTZWN0aW9ucy5BbGxDaGFydHMgPT09IGFjdGl2ZVNlY3Rpb25cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIG9uQ2xpY2s9e2NsaWNrU2VsZWN0b3J9XHJcbiAgICAgICAgLz5cclxuICAgICAgICA8U2VsZWN0b3JcclxuICAgICAgICAgIGNzcz17KHsgZ3JpZFVuaXQgfSkgPT5cclxuICAgICAgICAgICAgLy8gYWRqdXN0IHN0eWxlIGZvciBub3QgYmVpbmcgaW5zaWRlIGEgY29sbGFwc2VcclxuICAgICAgICAgICAgY3NzYFxyXG4gICAgICAgICAgICAgIG1hcmdpbjogJHtncmlkVW5pdCAqIDJ9cHg7XHJcbiAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMDtcclxuICAgICAgICAgICAgYFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgc2VjdGlvbklkPXtTZWN0aW9ucy5GZWF0dXJlZH1cclxuICAgICAgICAgIHNlbGVjdG9yPXtGRUFUVVJFRH1cclxuICAgICAgICAgIGljb249ezxJY29ucy5GaXJlT3V0bGluZWQgaWNvblNpemU9XCJtXCIgLz59XHJcbiAgICAgICAgICBpc1NlbGVjdGVkPXtcclxuICAgICAgICAgICAgIWlzQWN0aXZlbHlTZWFyY2hpbmcgJiZcclxuICAgICAgICAgICAgRkVBVFVSRUQgPT09IGFjdGl2ZVNlbGVjdG9yICYmXHJcbiAgICAgICAgICAgIFNlY3Rpb25zLkZlYXR1cmVkID09PSBhY3RpdmVTZWN0aW9uXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBvbkNsaWNrPXtjbGlja1NlbGVjdG9yfVxyXG4gICAgICAgIC8+XHJcbiAgICAgICAgPEFudGRDb2xsYXBzZVxyXG4gICAgICAgICAgZXhwYW5kSWNvblBvc2l0aW9uPVwicmlnaHRcIlxyXG4gICAgICAgICAgZ2hvc3RcclxuICAgICAgICAgIGRlZmF1bHRBY3RpdmVLZXk9e1NlY3Rpb25zLkNhdGVnb3J5fVxyXG4gICAgICAgID5cclxuICAgICAgICAgIHtPYmplY3Qua2V5cyhzZWN0aW9uTWFwKS5tYXAoc2VjdGlvbklkID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc2VjdGlvbiA9IHNlY3Rpb25NYXBbc2VjdGlvbklkXTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgPEFudGRDb2xsYXBzZS5QYW5lbFxyXG4gICAgICAgICAgICAgICAgaGVhZGVyPXs8c3BhbiBjbGFzc05hbWU9XCJoZWFkZXJcIj57c2VjdGlvbi50aXRsZX08L3NwYW4+fVxyXG4gICAgICAgICAgICAgICAga2V5PXtzZWN0aW9uSWR9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAge3NlY3Rpb24uc2VsZWN0b3JzLm1hcCgoc2VsZWN0b3I6IHN0cmluZykgPT4gKFxyXG4gICAgICAgICAgICAgICAgICA8U2VsZWN0b3JcclxuICAgICAgICAgICAgICAgICAgICBrZXk9e3NlbGVjdG9yfVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yPXtzZWxlY3Rvcn1cclxuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uSWQ9e3NlY3Rpb25JZH1cclxuICAgICAgICAgICAgICAgICAgICBpY29uPXtzZWN0aW9uLmljb259XHJcbiAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZD17XHJcbiAgICAgICAgICAgICAgICAgICAgICAhaXNBY3RpdmVseVNlYXJjaGluZyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3IgPT09IGFjdGl2ZVNlbGVjdG9yICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uSWQgPT09IGFjdGl2ZVNlY3Rpb25cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17Y2xpY2tTZWxlY3Rvcn1cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgIDwvQW50ZENvbGxhcHNlLlBhbmVsPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfSl9XHJcbiAgICAgICAgPC9BbnRkQ29sbGFwc2U+XHJcbiAgICAgIDwvTGVmdFBhbmU+XHJcblxyXG4gICAgICA8U2VhcmNoV3JhcHBlcj5cclxuICAgICAgICA8SW5wdXRcclxuICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgIHJlZj17c2VhcmNoSW5wdXRSZWYgYXMgYW55IC8qIGNhc3QgcmVxdWlyZWQgYmVjYXVzZSBlbW90aW9uICovfVxyXG4gICAgICAgICAgdmFsdWU9e3NlYXJjaElucHV0VmFsdWV9XHJcbiAgICAgICAgICBwbGFjZWhvbGRlcj17dCgnU2VhcmNoIGFsbCBjaGFydHMnKX1cclxuICAgICAgICAgIG9uQ2hhbmdlPXtjaGFuZ2VTZWFyY2h9XHJcbiAgICAgICAgICBvbkZvY3VzPXtmb2N1c1NlYXJjaH1cclxuICAgICAgICAgIGRhdGEtdGVzdD17YCR7VklaX1RZUEVfQ09OVFJPTF9URVNUX0lEfV9fc2VhcmNoLWlucHV0YH1cclxuICAgICAgICAgIHByZWZpeD17XHJcbiAgICAgICAgICAgIDxJbnB1dEljb25BbGlnbm1lbnQ+XHJcbiAgICAgICAgICAgICAgPEljb25zLlNlYXJjaCBpY29uU2l6ZT1cIm1cIiAvPlxyXG4gICAgICAgICAgICA8L0lucHV0SWNvbkFsaWdubWVudD5cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHN1ZmZpeD17XHJcbiAgICAgICAgICAgIDxJbnB1dEljb25BbGlnbm1lbnQ+XHJcbiAgICAgICAgICAgICAge3NlYXJjaElucHV0VmFsdWUgJiYgKFxyXG4gICAgICAgICAgICAgICAgPEljb25zLlhMYXJnZSBpY29uU2l6ZT1cIm1cIiBvbkNsaWNrPXtzdG9wU2VhcmNoaW5nfSAvPlxyXG4gICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDwvSW5wdXRJY29uQWxpZ25tZW50PlxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIC8+XHJcbiAgICAgIDwvU2VhcmNoV3JhcHBlcj5cclxuXHJcbiAgICAgIDxSaWdodFBhbmU+XHJcbiAgICAgICAgPFRodW1ibmFpbEdhbGxlcnlcclxuICAgICAgICAgIHZpekVudHJpZXM9e2dldFZpekVudHJpZXNUb0Rpc3BsYXkoKX1cclxuICAgICAgICAgIHNlbGVjdGVkVml6PXtzZWxlY3RlZFZpen1cclxuICAgICAgICAgIHNldFNlbGVjdGVkVml6PXtvbkNoYW5nZX1cclxuICAgICAgICAgIG9uRG91YmxlQ2xpY2s9e29uRG91YmxlQ2xpY2t9XHJcbiAgICAgICAgLz5cclxuICAgICAgPC9SaWdodFBhbmU+XHJcblxyXG4gICAgICB7c2VsZWN0ZWRWaXpNZXRhZGF0YSA/IChcclxuICAgICAgICA8ZGl2XHJcbiAgICAgICAgICBjc3M9eyh0aGVtZTogU3VwZXJzZXRUaGVtZSkgPT4gW1xyXG4gICAgICAgICAgICBEZXRhaWxzUGFuZSh0aGVtZSksXHJcbiAgICAgICAgICAgIERldGFpbHNQb3B1bGF0ZWQodGhlbWUpLFxyXG4gICAgICAgICAgXX1cclxuICAgICAgICA+XHJcbiAgICAgICAgICA8PlxyXG4gICAgICAgICAgICA8U2VjdGlvblRpdGxlXHJcbiAgICAgICAgICAgICAgY3NzPXtjc3NgXHJcbiAgICAgICAgICAgICAgICBncmlkLWFyZWE6IHZpei1uYW1lO1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgICAgICAgIGB9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICB7c2VsZWN0ZWRWaXpNZXRhZGF0YT8ubmFtZX1cclxuICAgICAgICAgICAgICB7c2VsZWN0ZWRWaXpNZXRhZGF0YT8ubGFiZWwgJiYgKFxyXG4gICAgICAgICAgICAgICAgPFRvb2x0aXBcclxuICAgICAgICAgICAgICAgICAgaWQ9XCJ2aXotYmFkZ2UtdG9vbHRpcFwiXHJcbiAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD1cInRvcFwiXHJcbiAgICAgICAgICAgICAgICAgIHRpdGxlPXtcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFZpek1ldGFkYXRhLmxhYmVsRXhwbGFuYXRpb24gPz9cclxuICAgICAgICAgICAgICAgICAgICBjaGFydExhYmVsRXhwbGFuYXRpb25zW3NlbGVjdGVkVml6TWV0YWRhdGEubGFiZWxdXHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgPFRpdGxlTGFiZWxXcmFwcGVyPlxyXG4gICAgICAgICAgICAgICAgICAgIDxIaWdobGlnaHRMYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXY+e3Qoc2VsZWN0ZWRWaXpNZXRhZGF0YS5sYWJlbCl9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9IaWdobGlnaHRMYWJlbD5cclxuICAgICAgICAgICAgICAgICAgPC9UaXRsZUxhYmVsV3JhcHBlcj5cclxuICAgICAgICAgICAgICAgIDwvVG9vbHRpcD5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8L1NlY3Rpb25UaXRsZT5cclxuICAgICAgICAgICAgPFRhZ3NXcmFwcGVyPlxyXG4gICAgICAgICAgICAgIHtzZWxlY3RlZFZpek1ldGFkYXRhPy50YWdzLm1hcCh0YWcgPT4gKFxyXG4gICAgICAgICAgICAgICAgPExhYmVsIGtleT17dGFnfT57dGFnfTwvTGFiZWw+XHJcbiAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgIDwvVGFnc1dyYXBwZXI+XHJcbiAgICAgICAgICAgIDxEZXNjcmlwdGlvbj5cclxuICAgICAgICAgICAgICB7c2VsZWN0ZWRWaXpNZXRhZGF0YT8uZGVzY3JpcHRpb24gfHxcclxuICAgICAgICAgICAgICAgIHQoJ05vIGRlc2NyaXB0aW9uIGF2YWlsYWJsZS4nKX1cclxuICAgICAgICAgICAgPC9EZXNjcmlwdGlvbj5cclxuICAgICAgICAgICAgPFNlY3Rpb25UaXRsZVxyXG4gICAgICAgICAgICAgIGNzcz17Y3NzYFxyXG4gICAgICAgICAgICAgICAgZ3JpZC1hcmVhOiBleGFtcGxlcy1oZWFkZXI7XHJcbiAgICAgICAgICAgICAgYH1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIHt0KCdFeGFtcGxlcycpfVxyXG4gICAgICAgICAgICA8L1NlY3Rpb25UaXRsZT5cclxuICAgICAgICAgICAgPEV4YW1wbGVzPlxyXG4gICAgICAgICAgICAgIHsoc2VsZWN0ZWRWaXpNZXRhZGF0YT8uZXhhbXBsZUdhbGxlcnk/Lmxlbmd0aFxyXG4gICAgICAgICAgICAgICAgPyBzZWxlY3RlZFZpek1ldGFkYXRhLmV4YW1wbGVHYWxsZXJ5XHJcbiAgICAgICAgICAgICAgICA6IFtcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB1cmw6IHNlbGVjdGVkVml6TWV0YWRhdGE/LnRodW1ibmFpbCxcclxuICAgICAgICAgICAgICAgICAgICAgIGNhcHRpb246IHNlbGVjdGVkVml6TWV0YWRhdGE/Lm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICkubWFwKGV4YW1wbGUgPT4gKFxyXG4gICAgICAgICAgICAgICAgPGltZ1xyXG4gICAgICAgICAgICAgICAgICBrZXk9e2V4YW1wbGUudXJsfVxyXG4gICAgICAgICAgICAgICAgICBzcmM9e2V4YW1wbGUudXJsfVxyXG4gICAgICAgICAgICAgICAgICBhbHQ9e2V4YW1wbGUuY2FwdGlvbn1cclxuICAgICAgICAgICAgICAgICAgdGl0bGU9e2V4YW1wbGUuY2FwdGlvbn1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgIDwvRXhhbXBsZXM+XHJcbiAgICAgICAgICA8Lz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKSA6IG51bGx9XHJcbiAgICA8L1ZpelBpY2tlckxheW91dD5cclxuICApO1xyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\n");

/***/ }),

/***/ "./src/features/datasets/DatasetSelectLabel/index.tsx":
/*!************************************************************!*\
  !*** ./src/features/datasets/DatasetSelectLabel/index.tsx ***!
  \************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DatasetSelectLabel: () => (/* binding */ DatasetSelectLabel)\n/* harmony export */ });\n/* harmony import */ var src_components_Tooltip__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/components/Tooltip */ \"./src/components/Tooltip/index.tsx\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/style/index.tsx\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/translation/TranslatorSingleton.ts\");\n/* harmony import */ var _emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @emotion/react/jsx-runtime */ \"./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.development.esm.js\");\n/* module decorator */ module = __webpack_require__.hmd(module);\n(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\n\n\nconst TooltipContent = _superset_ui_core__WEBPACK_IMPORTED_MODULE_1__.styled.div`\n  ${({ theme }) => `\n    .tooltip-header {\n      font-size: ${theme.typography.sizes.m}px;\n      font-weight: ${theme.typography.weights.bold};\n    }\n\n    .tooltip-description {\n      margin-top: ${theme.gridUnit * 2}px;\n      display: -webkit-box;\n      -webkit-line-clamp: 20;\n      -webkit-box-orient: vertical;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n  `}\n`;\nconst StyledLabelContainer = _superset_ui_core__WEBPACK_IMPORTED_MODULE_1__.styled.div`\n  ${({ theme }) => `\n    left: ${theme.gridUnit * 3}px;\n    right: ${theme.gridUnit * 3}px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: block;\n  `}\n`;\nconst StyledLabel = _superset_ui_core__WEBPACK_IMPORTED_MODULE_1__.styled.span`\n  ${({ theme }) => `\n    left: ${theme.gridUnit * 3}px;\n    right: ${theme.gridUnit * 3}px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: block;\n  `}\n`;\nconst StyledDetailWrapper = _superset_ui_core__WEBPACK_IMPORTED_MODULE_1__.styled.div`\n  display: grid;\n  grid-template-columns: auto auto;\n  justify-content: start;\n  width: 100%;\n`;\nconst StyledLabelDetail = _superset_ui_core__WEBPACK_IMPORTED_MODULE_1__.styled.span`\n  ${({ theme: { typography: { sizes, weights } } }) => `\n    overflow: hidden;\n    text-overflow: ellipsis;\n    font-size: ${sizes.s}px;\n    font-weight: ${weights.light};\n    line-height: 1.6;\n  `}\n`;\nconst isValidValue = (value) => !['null', 'none'].includes(value.toLowerCase()) && value.trim() !== '';\nconst DatasetSelectLabel = (item) => (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(src_components_Tooltip__WEBPACK_IMPORTED_MODULE_0__.Tooltip, { mouseEnterDelay: 0.2, placement: \"right\", title: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(TooltipContent, { children: [\n    (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"tooltip-header\", children:\n      item.table_name && isValidValue(item.table_name) ?\n      item.table_name :\n      (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_3__.t)('Not defined') }\n    ),\n    (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"tooltip-description\", children: [\n      (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { children: [\n        (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_3__.t)('Database'), \": \", item.database.database_name] }\n      ),\n      (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { children: [\n        (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_3__.t)('Schema'), \":\", ' ',\n        item.schema && isValidValue(item.schema) ?\n        item.schema :\n        (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_3__.t)('Not defined')] }\n      )] }\n    )] }\n  ), children:\n  (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(StyledLabelContainer, { children: [\n    (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StyledLabel, { children:\n      item.table_name && isValidValue(item.table_name) ?\n      item.table_name :\n      item.database.database_name }\n    ),\n    (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(StyledDetailWrapper, { children: [\n      (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StyledLabelDetail, { children: item.database.database_name }),\n      item.schema && isValidValue(item.schema) && (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(StyledLabelDetail, { children: [\"\\xA0- \", item.schema] })] }\n    )] }\n  ) }\n);;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(TooltipContent, \"TooltipContent\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\features\\\\datasets\\\\DatasetSelectLabel\\\\index.tsx\");reactHotLoader.register(StyledLabelContainer, \"StyledLabelContainer\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\features\\\\datasets\\\\DatasetSelectLabel\\\\index.tsx\");reactHotLoader.register(StyledLabel, \"StyledLabel\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\features\\\\datasets\\\\DatasetSelectLabel\\\\index.tsx\");reactHotLoader.register(StyledDetailWrapper, \"StyledDetailWrapper\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\features\\\\datasets\\\\DatasetSelectLabel\\\\index.tsx\");reactHotLoader.register(StyledLabelDetail, \"StyledLabelDetail\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\features\\\\datasets\\\\DatasetSelectLabel\\\\index.tsx\");reactHotLoader.register(isValidValue, \"isValidValue\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\features\\\\datasets\\\\DatasetSelectLabel\\\\index.tsx\");reactHotLoader.register(DatasetSelectLabel, \"DatasetSelectLabel\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\features\\\\datasets\\\\DatasetSelectLabel\\\\index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZmVhdHVyZXMvZGF0YXNldHMvRGF0YXNldFNlbGVjdExhYmVsL2luZGV4LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFrQkE7QUFDQTtBQWNBO0FBQ0E7O0FBRUE7QUFDQTs7OztBQUlBOzs7Ozs7O0FBT0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUVBOzs7OztBQUtBO0FBRUE7QUFDQTs7O0FBT0E7QUFDQTs7QUFFQTtBQUNBO0FBRUE7QUFHQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL3NyYy9mZWF0dXJlcy9kYXRhc2V0cy9EYXRhc2V0U2VsZWN0TGFiZWwvaW5kZXgudHN4PzYzNzEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcclxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXHJcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXHJcbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcclxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxyXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcclxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXHJcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXHJcbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxyXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXHJcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuaW1wb3J0IHsgVG9vbHRpcCB9IGZyb20gJ3NyYy9jb21wb25lbnRzL1Rvb2x0aXAnO1xyXG5pbXBvcnQgeyBzdHlsZWQsIHQgfSBmcm9tICdAc3VwZXJzZXQtdWkvY29yZSc7XHJcblxyXG50eXBlIERhdGFiYXNlID0ge1xyXG4gIGRhdGFiYXNlX25hbWU6IHN0cmluZztcclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIERhdGFzZXQgPSB7XHJcbiAgaWQ6IG51bWJlcjtcclxuICB0YWJsZV9uYW1lOiBzdHJpbmc7XHJcbiAgZGF0YXNvdXJjZV90eXBlPzogc3RyaW5nO1xyXG4gIHNjaGVtYTogc3RyaW5nO1xyXG4gIGRhdGFiYXNlOiBEYXRhYmFzZTtcclxufTtcclxuXHJcbmNvbnN0IFRvb2x0aXBDb250ZW50ID0gc3R5bGVkLmRpdmBcclxuICAkeyh7IHRoZW1lIH0pID0+IGBcclxuICAgIC50b29sdGlwLWhlYWRlciB7XHJcbiAgICAgIGZvbnQtc2l6ZTogJHt0aGVtZS50eXBvZ3JhcGh5LnNpemVzLm19cHg7XHJcbiAgICAgIGZvbnQtd2VpZ2h0OiAke3RoZW1lLnR5cG9ncmFwaHkud2VpZ2h0cy5ib2xkfTtcclxuICAgIH1cclxuXHJcbiAgICAudG9vbHRpcC1kZXNjcmlwdGlvbiB7XHJcbiAgICAgIG1hcmdpbi10b3A6ICR7dGhlbWUuZ3JpZFVuaXQgKiAyfXB4O1xyXG4gICAgICBkaXNwbGF5OiAtd2Via2l0LWJveDtcclxuICAgICAgLXdlYmtpdC1saW5lLWNsYW1wOiAyMDtcclxuICAgICAgLXdlYmtpdC1ib3gtb3JpZW50OiB2ZXJ0aWNhbDtcclxuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XHJcbiAgICB9XHJcbiAgYH1cclxuYDtcclxuXHJcbmNvbnN0IFN0eWxlZExhYmVsQ29udGFpbmVyID0gc3R5bGVkLmRpdmBcclxuICAkeyh7IHRoZW1lIH0pID0+IGBcclxuICAgIGxlZnQ6ICR7dGhlbWUuZ3JpZFVuaXQgKiAzfXB4O1xyXG4gICAgcmlnaHQ6ICR7dGhlbWUuZ3JpZFVuaXQgKiAzfXB4O1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgYH1cclxuYDtcclxuXHJcbmNvbnN0IFN0eWxlZExhYmVsID0gc3R5bGVkLnNwYW5gXHJcbiAgJHsoeyB0aGVtZSB9KSA9PiBgXHJcbiAgICBsZWZ0OiAke3RoZW1lLmdyaWRVbml0ICogM31weDtcclxuICAgIHJpZ2h0OiAke3RoZW1lLmdyaWRVbml0ICogM31weDtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gIGB9XHJcbmA7XHJcblxyXG5jb25zdCBTdHlsZWREZXRhaWxXcmFwcGVyID0gc3R5bGVkLmRpdmBcclxuICBkaXNwbGF5OiBncmlkO1xyXG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogYXV0byBhdXRvO1xyXG4gIGp1c3RpZnktY29udGVudDogc3RhcnQ7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbmA7XHJcblxyXG5jb25zdCBTdHlsZWRMYWJlbERldGFpbCA9IHN0eWxlZC5zcGFuYFxyXG4gICR7KHtcclxuICAgIHRoZW1lOiB7XHJcbiAgICAgIHR5cG9ncmFwaHk6IHsgc2l6ZXMsIHdlaWdodHMgfSxcclxuICAgIH0sXHJcbiAgfSkgPT4gYFxyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xyXG4gICAgZm9udC1zaXplOiAke3NpemVzLnN9cHg7XHJcbiAgICBmb250LXdlaWdodDogJHt3ZWlnaHRzLmxpZ2h0fTtcclxuICAgIGxpbmUtaGVpZ2h0OiAxLjY7XHJcbiAgYH1cclxuYDtcclxuXHJcbmNvbnN0IGlzVmFsaWRWYWx1ZSA9ICh2YWx1ZTogc3RyaW5nKTogYm9vbGVhbiA9PlxyXG4gICFbJ251bGwnLCAnbm9uZSddLmluY2x1ZGVzKHZhbHVlLnRvTG93ZXJDYXNlKCkpICYmIHZhbHVlLnRyaW0oKSAhPT0gJyc7XHJcblxyXG5leHBvcnQgY29uc3QgRGF0YXNldFNlbGVjdExhYmVsID0gKGl0ZW06IERhdGFzZXQpID0+IChcclxuICA8VG9vbHRpcFxyXG4gICAgbW91c2VFbnRlckRlbGF5PXswLjJ9XHJcbiAgICBwbGFjZW1lbnQ9XCJyaWdodFwiXHJcbiAgICB0aXRsZT17XHJcbiAgICAgIDxUb29sdGlwQ29udGVudD5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvb2x0aXAtaGVhZGVyXCI+XHJcbiAgICAgICAgICB7aXRlbS50YWJsZV9uYW1lICYmIGlzVmFsaWRWYWx1ZShpdGVtLnRhYmxlX25hbWUpXHJcbiAgICAgICAgICAgID8gaXRlbS50YWJsZV9uYW1lXHJcbiAgICAgICAgICAgIDogdCgnTm90IGRlZmluZWQnKX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvb2x0aXAtZGVzY3JpcHRpb25cIj5cclxuICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIHt0KCdEYXRhYmFzZScpfToge2l0ZW0uZGF0YWJhc2UuZGF0YWJhc2VfbmFtZX1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAge3QoJ1NjaGVtYScpfTp7JyAnfVxyXG4gICAgICAgICAgICB7aXRlbS5zY2hlbWEgJiYgaXNWYWxpZFZhbHVlKGl0ZW0uc2NoZW1hKVxyXG4gICAgICAgICAgICAgID8gaXRlbS5zY2hlbWFcclxuICAgICAgICAgICAgICA6IHQoJ05vdCBkZWZpbmVkJyl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9Ub29sdGlwQ29udGVudD5cclxuICAgIH1cclxuICA+XHJcbiAgICA8U3R5bGVkTGFiZWxDb250YWluZXI+XHJcbiAgICAgIDxTdHlsZWRMYWJlbD5cclxuICAgICAgICB7aXRlbS50YWJsZV9uYW1lICYmIGlzVmFsaWRWYWx1ZShpdGVtLnRhYmxlX25hbWUpXHJcbiAgICAgICAgICA/IGl0ZW0udGFibGVfbmFtZVxyXG4gICAgICAgICAgOiBpdGVtLmRhdGFiYXNlLmRhdGFiYXNlX25hbWV9XHJcbiAgICAgIDwvU3R5bGVkTGFiZWw+XHJcbiAgICAgIDxTdHlsZWREZXRhaWxXcmFwcGVyPlxyXG4gICAgICAgIDxTdHlsZWRMYWJlbERldGFpbD57aXRlbS5kYXRhYmFzZS5kYXRhYmFzZV9uYW1lfTwvU3R5bGVkTGFiZWxEZXRhaWw+XHJcbiAgICAgICAge2l0ZW0uc2NoZW1hICYmIGlzVmFsaWRWYWx1ZShpdGVtLnNjaGVtYSkgJiYgKFxyXG4gICAgICAgICAgPFN0eWxlZExhYmVsRGV0YWlsPiZuYnNwOy0ge2l0ZW0uc2NoZW1hfTwvU3R5bGVkTGFiZWxEZXRhaWw+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9TdHlsZWREZXRhaWxXcmFwcGVyPlxyXG4gICAgPC9TdHlsZWRMYWJlbENvbnRhaW5lcj5cclxuICA8L1Rvb2x0aXA+XHJcbik7XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/features/datasets/DatasetSelectLabel/index.tsx\n");

/***/ }),

/***/ "./src/pages/ChartCreation/index.tsx":
/*!*******************************************!*\
  !*** ./src/pages/ChartCreation/index.tsx ***!
  \*******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChartCreation: () => (/* binding */ ChartCreation),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var rison__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rison */ \"./node_modules/rison/js/rison.js\");\n/* harmony import */ var rison__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(rison__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var query_string__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! query-string */ \"./node_modules/query-string/index.js\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/style/index.tsx\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/translation/TranslatorSingleton.ts\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/utils/isDefined.ts\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @superset-ui/core */ \"./packages/superset-ui-core/src/connection/SupersetClient.ts\");\n/* harmony import */ var src_utils_urlUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/utils/urlUtils */ \"./src/utils/urlUtils.ts\");\n/* harmony import */ var src_constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/constants */ \"./src/constants.ts\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! react-router-dom */ \"./node_modules/react-router-dom/esm/react-router-dom.js\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! react-router-dom */ \"./node_modules/react-router/esm/react-router.js\");\n/* harmony import */ var src_components_Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/components/Button */ \"./src/components/Button/index.tsx\");\n/* harmony import */ var src_components__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/components */ \"./src/components/index.ts\");\n/* harmony import */ var src_components_MessageToasts_withToasts__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/components/MessageToasts/withToasts */ \"./src/components/MessageToasts/withToasts.tsx\");\n/* harmony import */ var src_explore_components_controls_VizTypeControl_VizTypeGallery__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/explore/components/controls/VizTypeControl/VizTypeGallery */ \"./src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");\n/* harmony import */ var src_utils_findPermission__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/utils/findPermission */ \"./src/utils/findPermission.ts\");\n/* harmony import */ var src_utils_getBootstrapData__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! src/utils/getBootstrapData */ \"./src/utils/getBootstrapData.ts\");\n/* harmony import */ var src_features_datasets_DatasetSelectLabel__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! src/features/datasets/DatasetSelectLabel */ \"./src/features/datasets/DatasetSelectLabel/index.tsx\");\n/* harmony import */ var _emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @emotion/react/jsx-runtime */ \"./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.development.esm.js\");\n/* module decorator */ module = __webpack_require__.hmd(module);\n(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst ESTIMATED_NAV_HEIGHT = 56;\nconst ELEMENTS_EXCEPT_VIZ_GALLERY = ESTIMATED_NAV_HEIGHT + 250;\nconst bootstrapData = (0,src_utils_getBootstrapData__WEBPACK_IMPORTED_MODULE_10__[\"default\"])();\nconst denyList = (bootstrapData.common.conf.VIZ_TYPE_DENYLIST || []).concat(Object.values(src_constants__WEBPACK_IMPORTED_MODULE_4__.FilterPlugins));\nconst StyledContainer = _superset_ui_core__WEBPACK_IMPORTED_MODULE_12__.styled.div`\n  ${({ theme }) => `\n    flex: 1 1 auto;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    width: 100%;\n    max-width: ${src_explore_components_controls_VizTypeControl_VizTypeGallery__WEBPACK_IMPORTED_MODULE_8__.MAX_ADVISABLE_VIZ_GALLERY_WIDTH}px;\n    max-height: calc(100vh - ${ESTIMATED_NAV_HEIGHT}px);\n    border-radius: ${theme.gridUnit}px;\n    background-color: ${theme.colors.grayscale.light5};\n    margin-left: auto;\n    margin-right: auto;\n    padding-left: ${theme.gridUnit * 4}px;\n    padding-right: ${theme.gridUnit * 4}px;\n    padding-bottom: ${theme.gridUnit * 4}px;\n\n    h3 {\n      padding-bottom: ${theme.gridUnit * 3}px;\n    }\n\n    & .dataset {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      margin-bottom: ${theme.gridUnit * 5}px;\n\n      & > div {\n        min-width: 200px;\n        width: 300px;\n      }\n\n      & > span {\n        color: ${theme.colors.grayscale.light1};\n        margin-left: ${theme.gridUnit * 4}px;\n      }\n    }\n\n    & .viz-gallery {\n      border: 1px solid ${theme.colors.grayscale.light2};\n      border-radius: ${theme.gridUnit}px;\n      margin: ${theme.gridUnit}px 0px;\n      max-height: calc(100vh - ${ELEMENTS_EXCEPT_VIZ_GALLERY}px);\n      flex: 1;\n    }\n\n    & .footer {\n      flex: 1;\n      display: flex;\n      flex-direction: row;\n      justify-content: flex-end;\n      align-items: center;\n\n      & > span {\n        color: ${theme.colors.grayscale.light1};\n        margin-right: ${theme.gridUnit * 4}px;\n      }\n    }\n\n    /* The following extra ampersands (&&&&) are used to boost selector specificity */\n\n    &&&& .ant-steps-item-tail {\n      display: none;\n    }\n\n    &&&& .ant-steps-item-icon {\n      margin-right: ${theme.gridUnit * 2}px;\n      width: ${theme.gridUnit * 5}px;\n      height: ${theme.gridUnit * 5}px;\n      line-height: ${theme.gridUnit * 5}px;\n    }\n\n    &&&& .ant-steps-item-title {\n      line-height: ${theme.gridUnit * 5}px;\n    }\n\n    &&&& .ant-steps-item-content {\n      overflow: unset;\n\n      .ant-steps-item-description {\n        margin-top: ${theme.gridUnit}px;\n        padding-bottom: ${theme.gridUnit}px;\n      }\n    }\n\n    &&&& .ant-tooltip-open {\n      display: inline;\n    }\n\n    &&&& .ant-select-selector {\n      padding: 0;\n    }\n\n    &&&& .ant-select-selection-placeholder {\n      padding-left: ${theme.gridUnit * 3}px;\n    }\n\n    &&&& .ant-select-selection-item {\n      padding-left: ${theme.gridUnit * 3}px;\n    }\n  `}\n`;\nconst StyledStepTitle = _superset_ui_core__WEBPACK_IMPORTED_MODULE_12__.styled.span`\n  ${({ theme: { typography: { sizes, weights } } }) => `\n      font-size: ${sizes.m}px;\n      font-weight: ${weights.bold};\n    `}\n`;\nconst StyledStepDescription = _superset_ui_core__WEBPACK_IMPORTED_MODULE_12__.styled.div`\n  ${({ theme: { gridUnit } }) => `\n    margin-top: ${gridUnit * 4}px;\n    margin-bottom: ${gridUnit * 3}px;\n  `}\n`;\nclass ChartCreation extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      vizType: null,\n      canCreateDataset: (0,src_utils_findPermission__WEBPACK_IMPORTED_MODULE_9__.findPermission)('can_write', 'Dataset', props.user.roles)\n    };\n    this.changeDatasource = this.changeDatasource.bind(this);\n    this.changeVizType = this.changeVizType.bind(this);\n    this.gotoSlice = this.gotoSlice.bind(this);\n    this.loadDatasources = this.loadDatasources.bind(this);\n    this.onVizTypeDoubleClick = this.onVizTypeDoubleClick.bind(this);\n  }\n  componentDidMount() {var _querystring$parse;\n    const params = (_querystring$parse = query_string__WEBPACK_IMPORTED_MODULE_2__.parse(window.location.search)) == null ? void 0 : _querystring$parse.dataset;\n    if (params) {\n      this.loadDatasources(params, 0, 1).then((r) => {\n        const datasource = r.data[0];\n        // override here to force styling of option label\n        // which expects a reactnode instead of string\n        // @ts-expect-error\n        datasource.label = datasource.customLabel;\n        this.setState({ datasource });\n      });\n      this.props.addSuccessToast((0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_13__.t)('The dataset has been saved'));\n    }\n  }\n  exploreUrl() {var _this$state$datasourc;\n    const dashboardId = (0,src_utils_urlUtils__WEBPACK_IMPORTED_MODULE_3__.getUrlParam)(src_constants__WEBPACK_IMPORTED_MODULE_4__.URL_PARAMS.dashboardId);\n    let url = `/explore/?viz_type=${this.state.vizType}&datasource=${(_this$state$datasourc = this.state.datasource) == null ? void 0 : _this$state$datasourc.value}`;\n    if ((0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(dashboardId)) {\n      url += `&dashboard_id=${dashboardId}`;\n    }\n    return url;\n  }\n  gotoSlice() {\n    this.props.history.push(this.exploreUrl());\n  }\n  changeDatasource(datasource) {\n    this.setState({ datasource });\n  }\n  changeVizType(vizType) {\n    this.setState({ vizType });\n  }\n  isBtnDisabled() {var _this$state$datasourc2;\n    return !((_this$state$datasourc2 = this.state.datasource) != null && _this$state$datasourc2.value && this.state.vizType);\n  }\n  onVizTypeDoubleClick() {\n    if (!this.isBtnDisabled()) {\n      this.gotoSlice();\n    }\n  }\n  loadDatasources(search, page, pageSize) {\n    const query = rison__WEBPACK_IMPORTED_MODULE_1___default().encode({\n      columns: [\n      'id',\n      'table_name',\n      'datasource_type',\n      'database.database_name',\n      'schema'],\n\n      filters: [{ col: 'table_name', opr: 'ct', value: search }],\n      page,\n      page_size: pageSize,\n      order_column: 'table_name',\n      order_direction: 'asc'\n    });\n    return _superset_ui_core__WEBPACK_IMPORTED_MODULE_15__[\"default\"].get({\n      endpoint: `/api/v1/dataset/?q=${query}`\n    }).then((response) => {\n      const list = response.json.result.map((item) => ({\n        id: item.id,\n        value: `${item.id}__${item.datasource_type}`,\n        customLabel: (0,src_features_datasets_DatasetSelectLabel__WEBPACK_IMPORTED_MODULE_11__.DatasetSelectLabel)(item),\n        label: item.table_name\n      }));\n      return {\n        data: list,\n        totalCount: response.json.count\n      };\n    });\n  }\n  render() {var _this$state$datasourc3;\n    const isButtonDisabled = this.isBtnDisabled();\n    const VIEW_INSTRUCTIONS_TEXT = (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_13__.t)('view instructions');\n    const datasetHelpText = this.state.canCreateDataset ? (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(\"span\", { \"data-test\": \"dataset-write\", children: [\n      (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(react_router_dom__WEBPACK_IMPORTED_MODULE_17__.Link, { to: \"/dataset/add/\", \"data-test\": \"add-chart-new-dataset\", children: [\n        (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_13__.t)('Add a dataset'), ' '] }\n      ),\n      (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_13__.t)('or'), ' ',\n      (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(\"a\", { href: \"https://superset.apache.org/docs/creating-charts-dashboards/creating-your-first-dashboard/#registering-a-new-table\", rel: \"noopener noreferrer\", target: \"_blank\", \"data-test\": \"add-chart-new-dataset-instructions\", children: [\n        `${VIEW_INSTRUCTIONS_TEXT} `,\n        (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(\"i\", { className: \"fa fa-external-link\" })] }\n      ), \".\"] }\n\n    ) : (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(\"span\", { \"data-test\": \"no-dataset-write\", children: [\n      (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(\"a\", { href: \"https://superset.apache.org/docs/creating-charts-dashboards/creating-your-first-dashboard/#registering-a-new-table\", rel: \"noopener noreferrer\", target: \"_blank\", children: [\n        `${VIEW_INSTRUCTIONS_TEXT} `,\n        (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(\"i\", { className: \"fa fa-external-link\" })] }\n      ), \".\"] }\n\n    );\n    return (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(StyledContainer, { children: [\n      (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(\"h3\", { children: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_13__.t)('Create a new chart') }),\n      (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(src_components__WEBPACK_IMPORTED_MODULE_6__.Steps, { direction: \"vertical\", size: \"small\", children: [\n        (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(src_components__WEBPACK_IMPORTED_MODULE_6__.Steps.Step, { title: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(StyledStepTitle, { children: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_13__.t)('Choose a dataset') }), status: (_this$state$datasourc3 = this.state.datasource) != null && _this$state$datasourc3.value ? 'finish' : 'process', description: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(StyledStepDescription, { className: \"dataset\", children: [\n            (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(src_components__WEBPACK_IMPORTED_MODULE_6__.AsyncSelect, { autoFocus: true, ariaLabel: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_13__.t)('Dataset'), name: \"select-datasource\", onChange: this.changeDatasource, options: this.loadDatasources, optionFilterProps: ['id', 'label'], placeholder: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_13__.t)('Choose a dataset'), showSearch: true, value: this.state.datasource }),\n            datasetHelpText] }\n          ) }),\n        (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(src_components__WEBPACK_IMPORTED_MODULE_6__.Steps.Step, { title: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(StyledStepTitle, { children: (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_13__.t)('Choose chart type') }), status: this.state.vizType ? 'finish' : 'process', description: (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(StyledStepDescription, { children:\n            (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(src_explore_components_controls_VizTypeControl_VizTypeGallery__WEBPACK_IMPORTED_MODULE_8__[\"default\"], { denyList: denyList, className: \"viz-gallery\", onChange: this.changeVizType, onDoubleClick: this.onVizTypeDoubleClick, selectedViz: this.state.vizType }) }\n          ) })] }\n      ),\n      (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(\"div\", { className: \"footer\", children: [\n        isButtonDisabled && (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(\"span\", { children:\n          (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_13__.t)('Please select both a Dataset and a Chart type to proceed') }\n        ),\n        (0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(src_components_Button__WEBPACK_IMPORTED_MODULE_5__[\"default\"], { buttonStyle: \"primary\", disabled: isButtonDisabled, onClick: this.gotoSlice, children:\n          (0,_superset_ui_core__WEBPACK_IMPORTED_MODULE_13__.t)('Create new chart') }\n        )] }\n      )] }\n    );\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}}const _default = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_18__.withRouter)((0,src_components_MessageToasts_withToasts__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(ChartCreation));/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_default);;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(ESTIMATED_NAV_HEIGHT, \"ESTIMATED_NAV_HEIGHT\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\pages\\\\ChartCreation\\\\index.tsx\");reactHotLoader.register(ELEMENTS_EXCEPT_VIZ_GALLERY, \"ELEMENTS_EXCEPT_VIZ_GALLERY\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\pages\\\\ChartCreation\\\\index.tsx\");reactHotLoader.register(bootstrapData, \"bootstrapData\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\pages\\\\ChartCreation\\\\index.tsx\");reactHotLoader.register(denyList, \"denyList\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\pages\\\\ChartCreation\\\\index.tsx\");reactHotLoader.register(StyledContainer, \"StyledContainer\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\pages\\\\ChartCreation\\\\index.tsx\");reactHotLoader.register(StyledStepTitle, \"StyledStepTitle\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\pages\\\\ChartCreation\\\\index.tsx\");reactHotLoader.register(StyledStepDescription, \"StyledStepDescription\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\pages\\\\ChartCreation\\\\index.tsx\");reactHotLoader.register(ChartCreation, \"ChartCreation\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\pages\\\\ChartCreation\\\\index.tsx\");reactHotLoader.register(_default, \"default\", \"D:\\\\CodeKata\\\\superset\\\\superset-frontend\\\\src\\\\pages\\\\ChartCreation\\\\index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFnZXMvQ2hhcnRDcmVhdGlvbi9pbmRleC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBa0JBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUVBO0FBQ0E7QUFpQkE7QUFDQTtBQUVBO0FBQ0E7QUFJQTtBQUNBOzs7Ozs7QUFNQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOzs7QUFHQTs7Ozs7OztBQU9BOzs7Ozs7OztBQVFBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7OztBQVlBO0FBQ0E7Ozs7Ozs7Ozs7O0FBV0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTs7Ozs7OztBQU9BO0FBQ0E7Ozs7Ozs7Ozs7Ozs7QUFhQTs7OztBQUlBOztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBOztBQUVBO0FBR0E7QUFLQTtBQUNBO0FBQ0E7O0FBRUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUtBO0FBV0E7QUFDQTtBQUdBO0FBS0E7QUFPQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9zcmMvcGFnZXMvQ2hhcnRDcmVhdGlvbi9pbmRleC50c3g/NzE0YyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxyXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcclxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cclxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxyXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXHJcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxyXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcclxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cclxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXHJcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcclxuICogdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5pbXBvcnQgeyBQdXJlQ29tcG9uZW50LCBSZWFjdE5vZGUgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCByaXNvbiBmcm9tICdyaXNvbic7XHJcbmltcG9ydCBxdWVyeXN0cmluZyBmcm9tICdxdWVyeS1zdHJpbmcnO1xyXG5pbXBvcnQge1xyXG4gIGlzRGVmaW5lZCxcclxuICBKc29uUmVzcG9uc2UsXHJcbiAgc3R5bGVkLFxyXG4gIFN1cGVyc2V0Q2xpZW50LFxyXG4gIHQsXHJcbn0gZnJvbSAnQHN1cGVyc2V0LXVpL2NvcmUnO1xyXG5pbXBvcnQgeyBnZXRVcmxQYXJhbSB9IGZyb20gJ3NyYy91dGlscy91cmxVdGlscyc7XHJcbmltcG9ydCB7IEZpbHRlclBsdWdpbnMsIFVSTF9QQVJBTVMgfSBmcm9tICdzcmMvY29uc3RhbnRzJztcclxuaW1wb3J0IHsgTGluaywgd2l0aFJvdXRlciwgUm91dGVDb21wb25lbnRQcm9wcyB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xyXG5pbXBvcnQgQnV0dG9uIGZyb20gJ3NyYy9jb21wb25lbnRzL0J1dHRvbic7XHJcbmltcG9ydCB7IEFzeW5jU2VsZWN0LCBTdGVwcyB9IGZyb20gJ3NyYy9jb21wb25lbnRzJztcclxuaW1wb3J0IHdpdGhUb2FzdHMgZnJvbSAnc3JjL2NvbXBvbmVudHMvTWVzc2FnZVRvYXN0cy93aXRoVG9hc3RzJztcclxuXHJcbmltcG9ydCBWaXpUeXBlR2FsbGVyeSwge1xyXG4gIE1BWF9BRFZJU0FCTEVfVklaX0dBTExFUllfV0lEVEgsXHJcbn0gZnJvbSAnc3JjL2V4cGxvcmUvY29tcG9uZW50cy9jb250cm9scy9WaXpUeXBlQ29udHJvbC9WaXpUeXBlR2FsbGVyeSc7XHJcbmltcG9ydCB7IGZpbmRQZXJtaXNzaW9uIH0gZnJvbSAnc3JjL3V0aWxzL2ZpbmRQZXJtaXNzaW9uJztcclxuaW1wb3J0IHsgVXNlcldpdGhQZXJtaXNzaW9uc0FuZFJvbGVzIH0gZnJvbSAnc3JjL3R5cGVzL2Jvb3RzdHJhcFR5cGVzJztcclxuaW1wb3J0IGdldEJvb3RzdHJhcERhdGEgZnJvbSAnc3JjL3V0aWxzL2dldEJvb3RzdHJhcERhdGEnO1xyXG5pbXBvcnQge1xyXG4gIERhdGFzZXQsXHJcbiAgRGF0YXNldFNlbGVjdExhYmVsLFxyXG59IGZyb20gJ3NyYy9mZWF0dXJlcy9kYXRhc2V0cy9EYXRhc2V0U2VsZWN0TGFiZWwnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDaGFydENyZWF0aW9uUHJvcHMgZXh0ZW5kcyBSb3V0ZUNvbXBvbmVudFByb3BzIHtcclxuICB1c2VyOiBVc2VyV2l0aFBlcm1pc3Npb25zQW5kUm9sZXM7XHJcbiAgYWRkU3VjY2Vzc1RvYXN0OiAoYXJnOiBzdHJpbmcpID0+IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIENoYXJ0Q3JlYXRpb25TdGF0ZSA9IHtcclxuICBkYXRhc291cmNlPzogeyBsYWJlbDogc3RyaW5nOyB2YWx1ZTogc3RyaW5nIH07XHJcbiAgZGF0YXNldE5hbWU/OiBzdHJpbmcgfCBzdHJpbmdbXSB8IG51bGw7XHJcbiAgdml6VHlwZTogc3RyaW5nIHwgbnVsbDtcclxuICBjYW5DcmVhdGVEYXRhc2V0OiBib29sZWFuO1xyXG59O1xyXG5cclxuY29uc3QgRVNUSU1BVEVEX05BVl9IRUlHSFQgPSA1NjtcclxuY29uc3QgRUxFTUVOVFNfRVhDRVBUX1ZJWl9HQUxMRVJZID0gRVNUSU1BVEVEX05BVl9IRUlHSFQgKyAyNTA7XHJcblxyXG5jb25zdCBib290c3RyYXBEYXRhID0gZ2V0Qm9vdHN0cmFwRGF0YSgpO1xyXG5jb25zdCBkZW55TGlzdDogc3RyaW5nW10gPSAoXHJcbiAgYm9vdHN0cmFwRGF0YS5jb21tb24uY29uZi5WSVpfVFlQRV9ERU5ZTElTVCB8fCBbXVxyXG4pLmNvbmNhdChPYmplY3QudmFsdWVzKEZpbHRlclBsdWdpbnMpKTtcclxuXHJcbmNvbnN0IFN0eWxlZENvbnRhaW5lciA9IHN0eWxlZC5kaXZgXHJcbiAgJHsoeyB0aGVtZSB9KSA9PiBgXHJcbiAgICBmbGV4OiAxIDEgYXV0bztcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBtYXgtd2lkdGg6ICR7TUFYX0FEVklTQUJMRV9WSVpfR0FMTEVSWV9XSURUSH1weDtcclxuICAgIG1heC1oZWlnaHQ6IGNhbGMoMTAwdmggLSAke0VTVElNQVRFRF9OQVZfSEVJR0hUfXB4KTtcclxuICAgIGJvcmRlci1yYWRpdXM6ICR7dGhlbWUuZ3JpZFVuaXR9cHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5ncmF5c2NhbGUubGlnaHQ1fTtcclxuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xyXG4gICAgcGFkZGluZy1sZWZ0OiAke3RoZW1lLmdyaWRVbml0ICogNH1weDtcclxuICAgIHBhZGRpbmctcmlnaHQ6ICR7dGhlbWUuZ3JpZFVuaXQgKiA0fXB4O1xyXG4gICAgcGFkZGluZy1ib3R0b206ICR7dGhlbWUuZ3JpZFVuaXQgKiA0fXB4O1xyXG5cclxuICAgIGgzIHtcclxuICAgICAgcGFkZGluZy1ib3R0b206ICR7dGhlbWUuZ3JpZFVuaXQgKiAzfXB4O1xyXG4gICAgfVxyXG5cclxuICAgICYgLmRhdGFzZXQge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICBtYXJnaW4tYm90dG9tOiAke3RoZW1lLmdyaWRVbml0ICogNX1weDtcclxuXHJcbiAgICAgICYgPiBkaXYge1xyXG4gICAgICAgIG1pbi13aWR0aDogMjAwcHg7XHJcbiAgICAgICAgd2lkdGg6IDMwMHB4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmID4gc3BhbiB7XHJcbiAgICAgICAgY29sb3I6ICR7dGhlbWUuY29sb3JzLmdyYXlzY2FsZS5saWdodDF9O1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiAke3RoZW1lLmdyaWRVbml0ICogNH1weDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICYgLnZpei1nYWxsZXJ5IHtcclxuICAgICAgYm9yZGVyOiAxcHggc29saWQgJHt0aGVtZS5jb2xvcnMuZ3JheXNjYWxlLmxpZ2h0Mn07XHJcbiAgICAgIGJvcmRlci1yYWRpdXM6ICR7dGhlbWUuZ3JpZFVuaXR9cHg7XHJcbiAgICAgIG1hcmdpbjogJHt0aGVtZS5ncmlkVW5pdH1weCAwcHg7XHJcbiAgICAgIG1heC1oZWlnaHQ6IGNhbGMoMTAwdmggLSAke0VMRU1FTlRTX0VYQ0VQVF9WSVpfR0FMTEVSWX1weCk7XHJcbiAgICAgIGZsZXg6IDE7XHJcbiAgICB9XHJcblxyXG4gICAgJiAuZm9vdGVyIHtcclxuICAgICAgZmxleDogMTtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuXHJcbiAgICAgICYgPiBzcGFuIHtcclxuICAgICAgICBjb2xvcjogJHt0aGVtZS5jb2xvcnMuZ3JheXNjYWxlLmxpZ2h0MX07XHJcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAke3RoZW1lLmdyaWRVbml0ICogNH1weDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qIFRoZSBmb2xsb3dpbmcgZXh0cmEgYW1wZXJzYW5kcyAoJiYmJikgYXJlIHVzZWQgdG8gYm9vc3Qgc2VsZWN0b3Igc3BlY2lmaWNpdHkgKi9cclxuXHJcbiAgICAmJiYmIC5hbnQtc3RlcHMtaXRlbS10YWlsIHtcclxuICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgIH1cclxuXHJcbiAgICAmJiYmIC5hbnQtc3RlcHMtaXRlbS1pY29uIHtcclxuICAgICAgbWFyZ2luLXJpZ2h0OiAke3RoZW1lLmdyaWRVbml0ICogMn1weDtcclxuICAgICAgd2lkdGg6ICR7dGhlbWUuZ3JpZFVuaXQgKiA1fXB4O1xyXG4gICAgICBoZWlnaHQ6ICR7dGhlbWUuZ3JpZFVuaXQgKiA1fXB4O1xyXG4gICAgICBsaW5lLWhlaWdodDogJHt0aGVtZS5ncmlkVW5pdCAqIDV9cHg7XHJcbiAgICB9XHJcblxyXG4gICAgJiYmJiAuYW50LXN0ZXBzLWl0ZW0tdGl0bGUge1xyXG4gICAgICBsaW5lLWhlaWdodDogJHt0aGVtZS5ncmlkVW5pdCAqIDV9cHg7XHJcbiAgICB9XHJcblxyXG4gICAgJiYmJiAuYW50LXN0ZXBzLWl0ZW0tY29udGVudCB7XHJcbiAgICAgIG92ZXJmbG93OiB1bnNldDtcclxuXHJcbiAgICAgIC5hbnQtc3RlcHMtaXRlbS1kZXNjcmlwdGlvbiB7XHJcbiAgICAgICAgbWFyZ2luLXRvcDogJHt0aGVtZS5ncmlkVW5pdH1weDtcclxuICAgICAgICBwYWRkaW5nLWJvdHRvbTogJHt0aGVtZS5ncmlkVW5pdH1weDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICYmJiYgLmFudC10b29sdGlwLW9wZW4ge1xyXG4gICAgICBkaXNwbGF5OiBpbmxpbmU7XHJcbiAgICB9XHJcblxyXG4gICAgJiYmJiAuYW50LXNlbGVjdC1zZWxlY3RvciB7XHJcbiAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICB9XHJcblxyXG4gICAgJiYmJiAuYW50LXNlbGVjdC1zZWxlY3Rpb24tcGxhY2Vob2xkZXIge1xyXG4gICAgICBwYWRkaW5nLWxlZnQ6ICR7dGhlbWUuZ3JpZFVuaXQgKiAzfXB4O1xyXG4gICAgfVxyXG5cclxuICAgICYmJiYgLmFudC1zZWxlY3Qtc2VsZWN0aW9uLWl0ZW0ge1xyXG4gICAgICBwYWRkaW5nLWxlZnQ6ICR7dGhlbWUuZ3JpZFVuaXQgKiAzfXB4O1xyXG4gICAgfVxyXG4gIGB9XHJcbmA7XHJcblxyXG5jb25zdCBTdHlsZWRTdGVwVGl0bGUgPSBzdHlsZWQuc3BhbmBcclxuICAkeyh7XHJcbiAgICB0aGVtZToge1xyXG4gICAgICB0eXBvZ3JhcGh5OiB7IHNpemVzLCB3ZWlnaHRzIH0sXHJcbiAgICB9LFxyXG4gIH0pID0+IGBcclxuICAgICAgZm9udC1zaXplOiAke3NpemVzLm19cHg7XHJcbiAgICAgIGZvbnQtd2VpZ2h0OiAke3dlaWdodHMuYm9sZH07XHJcbiAgICBgfVxyXG5gO1xyXG5cclxuY29uc3QgU3R5bGVkU3RlcERlc2NyaXB0aW9uID0gc3R5bGVkLmRpdmBcclxuICAkeyh7IHRoZW1lOiB7IGdyaWRVbml0IH0gfSkgPT4gYFxyXG4gICAgbWFyZ2luLXRvcDogJHtncmlkVW5pdCAqIDR9cHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAke2dyaWRVbml0ICogM31weDtcclxuICBgfVxyXG5gO1xyXG5cclxuZXhwb3J0IGNsYXNzIENoYXJ0Q3JlYXRpb24gZXh0ZW5kcyBQdXJlQ29tcG9uZW50PFxyXG4gIENoYXJ0Q3JlYXRpb25Qcm9wcyxcclxuICBDaGFydENyZWF0aW9uU3RhdGVcclxuPiB7XHJcbiAgY29uc3RydWN0b3IocHJvcHM6IENoYXJ0Q3JlYXRpb25Qcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgdml6VHlwZTogbnVsbCxcclxuICAgICAgY2FuQ3JlYXRlRGF0YXNldDogZmluZFBlcm1pc3Npb24oXHJcbiAgICAgICAgJ2Nhbl93cml0ZScsXHJcbiAgICAgICAgJ0RhdGFzZXQnLFxyXG4gICAgICAgIHByb3BzLnVzZXIucm9sZXMsXHJcbiAgICAgICksXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY2hhbmdlRGF0YXNvdXJjZSA9IHRoaXMuY2hhbmdlRGF0YXNvdXJjZS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5jaGFuZ2VWaXpUeXBlID0gdGhpcy5jaGFuZ2VWaXpUeXBlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmdvdG9TbGljZSA9IHRoaXMuZ290b1NsaWNlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmxvYWREYXRhc291cmNlcyA9IHRoaXMubG9hZERhdGFzb3VyY2VzLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLm9uVml6VHlwZURvdWJsZUNsaWNrID0gdGhpcy5vblZpelR5cGVEb3VibGVDbGljay5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICBjb25zdCBwYXJhbXMgPSBxdWVyeXN0cmluZy5wYXJzZSh3aW5kb3cubG9jYXRpb24uc2VhcmNoKT8uZGF0YXNldCBhcyBzdHJpbmc7XHJcbiAgICBpZiAocGFyYW1zKSB7XHJcbiAgICAgIHRoaXMubG9hZERhdGFzb3VyY2VzKHBhcmFtcywgMCwgMSkudGhlbihyID0+IHtcclxuICAgICAgICBjb25zdCBkYXRhc291cmNlID0gci5kYXRhWzBdO1xyXG4gICAgICAgIC8vIG92ZXJyaWRlIGhlcmUgdG8gZm9yY2Ugc3R5bGluZyBvZiBvcHRpb24gbGFiZWxcclxuICAgICAgICAvLyB3aGljaCBleHBlY3RzIGEgcmVhY3Rub2RlIGluc3RlYWQgb2Ygc3RyaW5nXHJcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgIGRhdGFzb3VyY2UubGFiZWwgPSBkYXRhc291cmNlLmN1c3RvbUxhYmVsO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBkYXRhc291cmNlIH0pO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5wcm9wcy5hZGRTdWNjZXNzVG9hc3QodCgnVGhlIGRhdGFzZXQgaGFzIGJlZW4gc2F2ZWQnKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBleHBsb3JlVXJsKCkge1xyXG4gICAgY29uc3QgZGFzaGJvYXJkSWQgPSBnZXRVcmxQYXJhbShVUkxfUEFSQU1TLmRhc2hib2FyZElkKTtcclxuICAgIGxldCB1cmwgPSBgL2V4cGxvcmUvP3Zpel90eXBlPSR7dGhpcy5zdGF0ZS52aXpUeXBlfSZkYXRhc291cmNlPSR7dGhpcy5zdGF0ZS5kYXRhc291cmNlPy52YWx1ZX1gO1xyXG4gICAgaWYgKGlzRGVmaW5lZChkYXNoYm9hcmRJZCkpIHtcclxuICAgICAgdXJsICs9IGAmZGFzaGJvYXJkX2lkPSR7ZGFzaGJvYXJkSWR9YDtcclxuICAgIH1cclxuICAgIHJldHVybiB1cmw7XHJcbiAgfVxyXG5cclxuICBnb3RvU2xpY2UoKSB7XHJcbiAgICB0aGlzLnByb3BzLmhpc3RvcnkucHVzaCh0aGlzLmV4cGxvcmVVcmwoKSk7XHJcbiAgfVxyXG5cclxuICBjaGFuZ2VEYXRhc291cmNlKGRhdGFzb3VyY2U6IHsgbGFiZWw6IHN0cmluZzsgdmFsdWU6IHN0cmluZyB9KSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgZGF0YXNvdXJjZSB9KTtcclxuICB9XHJcblxyXG4gIGNoYW5nZVZpelR5cGUodml6VHlwZTogc3RyaW5nIHwgbnVsbCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHZpelR5cGUgfSk7XHJcbiAgfVxyXG5cclxuICBpc0J0bkRpc2FibGVkKCkge1xyXG4gICAgcmV0dXJuICEodGhpcy5zdGF0ZS5kYXRhc291cmNlPy52YWx1ZSAmJiB0aGlzLnN0YXRlLnZpelR5cGUpO1xyXG4gIH1cclxuXHJcbiAgb25WaXpUeXBlRG91YmxlQ2xpY2soKSB7XHJcbiAgICBpZiAoIXRoaXMuaXNCdG5EaXNhYmxlZCgpKSB7XHJcbiAgICAgIHRoaXMuZ290b1NsaWNlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBsb2FkRGF0YXNvdXJjZXMoc2VhcmNoOiBzdHJpbmcsIHBhZ2U6IG51bWJlciwgcGFnZVNpemU6IG51bWJlcikge1xyXG4gICAgY29uc3QgcXVlcnkgPSByaXNvbi5lbmNvZGUoe1xyXG4gICAgICBjb2x1bW5zOiBbXHJcbiAgICAgICAgJ2lkJyxcclxuICAgICAgICAndGFibGVfbmFtZScsXHJcbiAgICAgICAgJ2RhdGFzb3VyY2VfdHlwZScsXHJcbiAgICAgICAgJ2RhdGFiYXNlLmRhdGFiYXNlX25hbWUnLFxyXG4gICAgICAgICdzY2hlbWEnLFxyXG4gICAgICBdLFxyXG4gICAgICBmaWx0ZXJzOiBbeyBjb2w6ICd0YWJsZV9uYW1lJywgb3ByOiAnY3QnLCB2YWx1ZTogc2VhcmNoIH1dLFxyXG4gICAgICBwYWdlLFxyXG4gICAgICBwYWdlX3NpemU6IHBhZ2VTaXplLFxyXG4gICAgICBvcmRlcl9jb2x1bW46ICd0YWJsZV9uYW1lJyxcclxuICAgICAgb3JkZXJfZGlyZWN0aW9uOiAnYXNjJyxcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIFN1cGVyc2V0Q2xpZW50LmdldCh7XHJcbiAgICAgIGVuZHBvaW50OiBgL2FwaS92MS9kYXRhc2V0Lz9xPSR7cXVlcnl9YCxcclxuICAgIH0pLnRoZW4oKHJlc3BvbnNlOiBKc29uUmVzcG9uc2UpID0+IHtcclxuICAgICAgY29uc3QgbGlzdDoge1xyXG4gICAgICAgIGN1c3RvbUxhYmVsOiBSZWFjdE5vZGU7XHJcbiAgICAgICAgaWQ6IG51bWJlcjtcclxuICAgICAgICBsYWJlbDogc3RyaW5nO1xyXG4gICAgICAgIHZhbHVlOiBzdHJpbmc7XHJcbiAgICAgIH1bXSA9IHJlc3BvbnNlLmpzb24ucmVzdWx0Lm1hcCgoaXRlbTogRGF0YXNldCkgPT4gKHtcclxuICAgICAgICBpZDogaXRlbS5pZCxcclxuICAgICAgICB2YWx1ZTogYCR7aXRlbS5pZH1fXyR7aXRlbS5kYXRhc291cmNlX3R5cGV9YCxcclxuICAgICAgICBjdXN0b21MYWJlbDogRGF0YXNldFNlbGVjdExhYmVsKGl0ZW0pLFxyXG4gICAgICAgIGxhYmVsOiBpdGVtLnRhYmxlX25hbWUsXHJcbiAgICAgIH0pKTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBkYXRhOiBsaXN0LFxyXG4gICAgICAgIHRvdGFsQ291bnQ6IHJlc3BvbnNlLmpzb24uY291bnQsXHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIGNvbnN0IGlzQnV0dG9uRGlzYWJsZWQgPSB0aGlzLmlzQnRuRGlzYWJsZWQoKTtcclxuICAgIGNvbnN0IFZJRVdfSU5TVFJVQ1RJT05TX1RFWFQgPSB0KCd2aWV3IGluc3RydWN0aW9ucycpO1xyXG4gICAgY29uc3QgZGF0YXNldEhlbHBUZXh0ID0gdGhpcy5zdGF0ZS5jYW5DcmVhdGVEYXRhc2V0ID8gKFxyXG4gICAgICA8c3BhbiBkYXRhLXRlc3Q9XCJkYXRhc2V0LXdyaXRlXCI+XHJcbiAgICAgICAgPExpbmsgdG89XCIvZGF0YXNldC9hZGQvXCIgZGF0YS10ZXN0PVwiYWRkLWNoYXJ0LW5ldy1kYXRhc2V0XCI+XHJcbiAgICAgICAgICB7dCgnQWRkIGEgZGF0YXNldCcpfXsnICd9XHJcbiAgICAgICAgPC9MaW5rPlxyXG4gICAgICAgIHt0KCdvcicpfXsnICd9XHJcbiAgICAgICAgPGFcclxuICAgICAgICAgIGhyZWY9XCJodHRwczovL3N1cGVyc2V0LmFwYWNoZS5vcmcvZG9jcy9jcmVhdGluZy1jaGFydHMtZGFzaGJvYXJkcy9jcmVhdGluZy15b3VyLWZpcnN0LWRhc2hib2FyZC8jcmVnaXN0ZXJpbmctYS1uZXctdGFibGVcIlxyXG4gICAgICAgICAgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiXHJcbiAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxyXG4gICAgICAgICAgZGF0YS10ZXN0PVwiYWRkLWNoYXJ0LW5ldy1kYXRhc2V0LWluc3RydWN0aW9uc1wiXHJcbiAgICAgICAgPlxyXG4gICAgICAgICAge2Ake1ZJRVdfSU5TVFJVQ1RJT05TX1RFWFR9IGB9XHJcbiAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYSBmYS1leHRlcm5hbC1saW5rXCIgLz5cclxuICAgICAgICA8L2E+XHJcbiAgICAgICAgLlxyXG4gICAgICA8L3NwYW4+XHJcbiAgICApIDogKFxyXG4gICAgICA8c3BhbiBkYXRhLXRlc3Q9XCJuby1kYXRhc2V0LXdyaXRlXCI+XHJcbiAgICAgICAgPGFcclxuICAgICAgICAgIGhyZWY9XCJodHRwczovL3N1cGVyc2V0LmFwYWNoZS5vcmcvZG9jcy9jcmVhdGluZy1jaGFydHMtZGFzaGJvYXJkcy9jcmVhdGluZy15b3VyLWZpcnN0LWRhc2hib2FyZC8jcmVnaXN0ZXJpbmctYS1uZXctdGFibGVcIlxyXG4gICAgICAgICAgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiXHJcbiAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxyXG4gICAgICAgID5cclxuICAgICAgICAgIHtgJHtWSUVXX0lOU1RSVUNUSU9OU19URVhUfSBgfVxyXG4gICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtZXh0ZXJuYWwtbGlua1wiIC8+XHJcbiAgICAgICAgPC9hPlxyXG4gICAgICAgIC5cclxuICAgICAgPC9zcGFuPlxyXG4gICAgKTtcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8U3R5bGVkQ29udGFpbmVyPlxyXG4gICAgICAgIDxoMz57dCgnQ3JlYXRlIGEgbmV3IGNoYXJ0Jyl9PC9oMz5cclxuICAgICAgICA8U3RlcHMgZGlyZWN0aW9uPVwidmVydGljYWxcIiBzaXplPVwic21hbGxcIj5cclxuICAgICAgICAgIDxTdGVwcy5TdGVwXHJcbiAgICAgICAgICAgIHRpdGxlPXs8U3R5bGVkU3RlcFRpdGxlPnt0KCdDaG9vc2UgYSBkYXRhc2V0Jyl9PC9TdHlsZWRTdGVwVGl0bGU+fVxyXG4gICAgICAgICAgICBzdGF0dXM9e3RoaXMuc3RhdGUuZGF0YXNvdXJjZT8udmFsdWUgPyAnZmluaXNoJyA6ICdwcm9jZXNzJ31cclxuICAgICAgICAgICAgZGVzY3JpcHRpb249e1xyXG4gICAgICAgICAgICAgIDxTdHlsZWRTdGVwRGVzY3JpcHRpb24gY2xhc3NOYW1lPVwiZGF0YXNldFwiPlxyXG4gICAgICAgICAgICAgICAgPEFzeW5jU2VsZWN0XHJcbiAgICAgICAgICAgICAgICAgIGF1dG9Gb2N1c1xyXG4gICAgICAgICAgICAgICAgICBhcmlhTGFiZWw9e3QoJ0RhdGFzZXQnKX1cclxuICAgICAgICAgICAgICAgICAgbmFtZT1cInNlbGVjdC1kYXRhc291cmNlXCJcclxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuY2hhbmdlRGF0YXNvdXJjZX1cclxuICAgICAgICAgICAgICAgICAgb3B0aW9ucz17dGhpcy5sb2FkRGF0YXNvdXJjZXN9XHJcbiAgICAgICAgICAgICAgICAgIG9wdGlvbkZpbHRlclByb3BzPXtbJ2lkJywgJ2xhYmVsJ119XHJcbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXt0KCdDaG9vc2UgYSBkYXRhc2V0Jyl9XHJcbiAgICAgICAgICAgICAgICAgIHNob3dTZWFyY2hcclxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuZGF0YXNvdXJjZX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICB7ZGF0YXNldEhlbHBUZXh0fVxyXG4gICAgICAgICAgICAgIDwvU3R5bGVkU3RlcERlc2NyaXB0aW9uPlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgICAgPFN0ZXBzLlN0ZXBcclxuICAgICAgICAgICAgdGl0bGU9ezxTdHlsZWRTdGVwVGl0bGU+e3QoJ0Nob29zZSBjaGFydCB0eXBlJyl9PC9TdHlsZWRTdGVwVGl0bGU+fVxyXG4gICAgICAgICAgICBzdGF0dXM9e3RoaXMuc3RhdGUudml6VHlwZSA/ICdmaW5pc2gnIDogJ3Byb2Nlc3MnfVxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbj17XHJcbiAgICAgICAgICAgICAgPFN0eWxlZFN0ZXBEZXNjcmlwdGlvbj5cclxuICAgICAgICAgICAgICAgIDxWaXpUeXBlR2FsbGVyeVxyXG4gICAgICAgICAgICAgICAgICBkZW55TGlzdD17ZGVueUxpc3R9XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInZpei1nYWxsZXJ5XCJcclxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuY2hhbmdlVml6VHlwZX1cclxuICAgICAgICAgICAgICAgICAgb25Eb3VibGVDbGljaz17dGhpcy5vblZpelR5cGVEb3VibGVDbGlja31cclxuICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRWaXo9e3RoaXMuc3RhdGUudml6VHlwZX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPC9TdHlsZWRTdGVwRGVzY3JpcHRpb24+XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgPC9TdGVwcz5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvb3RlclwiPlxyXG4gICAgICAgICAge2lzQnV0dG9uRGlzYWJsZWQgJiYgKFxyXG4gICAgICAgICAgICA8c3Bhbj5cclxuICAgICAgICAgICAgICB7dCgnUGxlYXNlIHNlbGVjdCBib3RoIGEgRGF0YXNldCBhbmQgYSBDaGFydCB0eXBlIHRvIHByb2NlZWQnKX1cclxuICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgYnV0dG9uU3R5bGU9XCJwcmltYXJ5XCJcclxuICAgICAgICAgICAgZGlzYWJsZWQ9e2lzQnV0dG9uRGlzYWJsZWR9XHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuZ290b1NsaWNlfVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICB7dCgnQ3JlYXRlIG5ldyBjaGFydCcpfVxyXG4gICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvU3R5bGVkQ29udGFpbmVyPlxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHdpdGhSb3V0ZXIod2l0aFRvYXN0cyhDaGFydENyZWF0aW9uKSk7XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/pages/ChartCreation/index.tsx\n");

/***/ }),

/***/ "./node_modules/compute-scroll-into-view/dist/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/compute-scroll-into-view/dist/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   compute: () => (/* binding */ r)\n/* harmony export */ });\nconst t=t=>\"object\"==typeof t&&null!=t&&1===t.nodeType,e=(t,e)=>(!e||\"hidden\"!==t)&&(\"visible\"!==t&&\"clip\"!==t),n=(t,n)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const o=getComputedStyle(t,null);return e(o.overflowY,n)||e(o.overflowX,n)||(t=>{const e=(t=>{if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch(t){return null}})(t);return!!e&&(e.clientHeight<t.scrollHeight||e.clientWidth<t.scrollWidth)})(t)}return!1},o=(t,e,n,o,l,r,i,s)=>r<t&&i>e||r>t&&i<e?0:r<=t&&s<=n||i>=e&&s>=n?r-t-o:i>e&&s<n||r<t&&s>n?i-e+l:0,l=t=>{const e=t.parentElement;return null==e?t.getRootNode().host||null:e},r=(e,r)=>{var i,s,d,h;if(\"undefined\"==typeof document)return[];const{scrollMode:c,block:f,inline:u,boundary:a,skipOverflowHiddenElements:g}=r,p=\"function\"==typeof a?a:t=>t!==a;if(!t(e))throw new TypeError(\"Invalid target\");const m=document.scrollingElement||document.documentElement,w=[];let W=e;for(;t(W)&&p(W);){if(W=l(W),W===m){w.push(W);break}null!=W&&W===document.body&&n(W)&&!n(document.documentElement)||null!=W&&n(W,g)&&w.push(W)}const b=null!=(s=null==(i=window.visualViewport)?void 0:i.width)?s:innerWidth,H=null!=(h=null==(d=window.visualViewport)?void 0:d.height)?h:innerHeight,{scrollX:y,scrollY:M}=window,{height:v,width:E,top:x,right:C,bottom:I,left:R}=e.getBoundingClientRect(),{top:T,right:B,bottom:F,left:V}=(t=>{const e=window.getComputedStyle(t);return{top:parseFloat(e.scrollMarginTop)||0,right:parseFloat(e.scrollMarginRight)||0,bottom:parseFloat(e.scrollMarginBottom)||0,left:parseFloat(e.scrollMarginLeft)||0}})(e);let k=\"start\"===f||\"nearest\"===f?x-T:\"end\"===f?I+F:x+v/2-T+F,D=\"center\"===u?R+E/2-V+B:\"end\"===u?C+B:R-V;const L=[];for(let t=0;t<w.length;t++){const e=w[t],{height:n,width:l,top:r,right:i,bottom:s,left:d}=e.getBoundingClientRect();if(\"if-needed\"===c&&x>=0&&R>=0&&I<=H&&C<=b&&x>=r&&I<=s&&R>=d&&C<=i)return L;const h=getComputedStyle(e),a=parseInt(h.borderLeftWidth,10),g=parseInt(h.borderTopWidth,10),p=parseInt(h.borderRightWidth,10),W=parseInt(h.borderBottomWidth,10);let T=0,B=0;const F=\"offsetWidth\"in e?e.offsetWidth-e.clientWidth-a-p:0,V=\"offsetHeight\"in e?e.offsetHeight-e.clientHeight-g-W:0,S=\"offsetWidth\"in e?0===e.offsetWidth?0:l/e.offsetWidth:0,X=\"offsetHeight\"in e?0===e.offsetHeight?0:n/e.offsetHeight:0;if(m===e)T=\"start\"===f?k:\"end\"===f?k-H:\"nearest\"===f?o(M,M+H,H,g,W,M+k,M+k+v,v):k-H/2,B=\"start\"===u?D:\"center\"===u?D-b/2:\"end\"===u?D-b:o(y,y+b,b,a,p,y+D,y+D+E,E),T=Math.max(0,T+M),B=Math.max(0,B+y);else{T=\"start\"===f?k-r-g:\"end\"===f?k-s+W+V:\"nearest\"===f?o(r,s,n,g,W+V,k,k+v,v):k-(r+n/2)+V/2,B=\"start\"===u?D-d-a:\"center\"===u?D-(d+l/2)+F/2:\"end\"===u?D-i+p+F:o(d,i,l,a,p+F,D,D+E,E);const{scrollLeft:t,scrollTop:h}=e;T=0===X?0:Math.max(0,Math.min(h+T/X,e.scrollHeight-n/X+V)),B=0===S?0:Math.max(0,Math.min(t+B/S,e.scrollWidth-l/S+F)),k+=h-T,D+=t-B}L.push({el:e,top:T,left:B})}return L};//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY29tcHV0ZS1zY3JvbGwtaW50by12aWV3L2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7O0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9jb21wdXRlLXNjcm9sbC1pbnRvLXZpZXcvZGlzdC9pbmRleC5qcz82OWU3Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHQ9dD0+XCJvYmplY3RcIj09dHlwZW9mIHQmJm51bGwhPXQmJjE9PT10Lm5vZGVUeXBlLGU9KHQsZSk9PighZXx8XCJoaWRkZW5cIiE9PXQpJiYoXCJ2aXNpYmxlXCIhPT10JiZcImNsaXBcIiE9PXQpLG49KHQsbik9PntpZih0LmNsaWVudEhlaWdodDx0LnNjcm9sbEhlaWdodHx8dC5jbGllbnRXaWR0aDx0LnNjcm9sbFdpZHRoKXtjb25zdCBvPWdldENvbXB1dGVkU3R5bGUodCxudWxsKTtyZXR1cm4gZShvLm92ZXJmbG93WSxuKXx8ZShvLm92ZXJmbG93WCxuKXx8KHQ9Pntjb25zdCBlPSh0PT57aWYoIXQub3duZXJEb2N1bWVudHx8IXQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldylyZXR1cm4gbnVsbDt0cnl7cmV0dXJuIHQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5mcmFtZUVsZW1lbnR9Y2F0Y2godCl7cmV0dXJuIG51bGx9fSkodCk7cmV0dXJuISFlJiYoZS5jbGllbnRIZWlnaHQ8dC5zY3JvbGxIZWlnaHR8fGUuY2xpZW50V2lkdGg8dC5zY3JvbGxXaWR0aCl9KSh0KX1yZXR1cm4hMX0sbz0odCxlLG4sbyxsLHIsaSxzKT0+cjx0JiZpPmV8fHI+dCYmaTxlPzA6cjw9dCYmczw9bnx8aT49ZSYmcz49bj9yLXQtbzppPmUmJnM8bnx8cjx0JiZzPm4/aS1lK2w6MCxsPXQ9Pntjb25zdCBlPXQucGFyZW50RWxlbWVudDtyZXR1cm4gbnVsbD09ZT90LmdldFJvb3ROb2RlKCkuaG9zdHx8bnVsbDplfSxyPShlLHIpPT57dmFyIGkscyxkLGg7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGRvY3VtZW50KXJldHVybltdO2NvbnN0e3Njcm9sbE1vZGU6YyxibG9jazpmLGlubGluZTp1LGJvdW5kYXJ5OmEsc2tpcE92ZXJmbG93SGlkZGVuRWxlbWVudHM6Z309cixwPVwiZnVuY3Rpb25cIj09dHlwZW9mIGE/YTp0PT50IT09YTtpZighdChlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCB0YXJnZXRcIik7Y29uc3QgbT1kb2N1bWVudC5zY3JvbGxpbmdFbGVtZW50fHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsdz1bXTtsZXQgVz1lO2Zvcig7dChXKSYmcChXKTspe2lmKFc9bChXKSxXPT09bSl7dy5wdXNoKFcpO2JyZWFrfW51bGwhPVcmJlc9PT1kb2N1bWVudC5ib2R5JiZuKFcpJiYhbihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpfHxudWxsIT1XJiZuKFcsZykmJncucHVzaChXKX1jb25zdCBiPW51bGwhPShzPW51bGw9PShpPXdpbmRvdy52aXN1YWxWaWV3cG9ydCk/dm9pZCAwOmkud2lkdGgpP3M6aW5uZXJXaWR0aCxIPW51bGwhPShoPW51bGw9PShkPXdpbmRvdy52aXN1YWxWaWV3cG9ydCk/dm9pZCAwOmQuaGVpZ2h0KT9oOmlubmVySGVpZ2h0LHtzY3JvbGxYOnksc2Nyb2xsWTpNfT13aW5kb3cse2hlaWdodDp2LHdpZHRoOkUsdG9wOngscmlnaHQ6Qyxib3R0b206SSxsZWZ0OlJ9PWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkse3RvcDpULHJpZ2h0OkIsYm90dG9tOkYsbGVmdDpWfT0odD0+e2NvbnN0IGU9d2luZG93LmdldENvbXB1dGVkU3R5bGUodCk7cmV0dXJue3RvcDpwYXJzZUZsb2F0KGUuc2Nyb2xsTWFyZ2luVG9wKXx8MCxyaWdodDpwYXJzZUZsb2F0KGUuc2Nyb2xsTWFyZ2luUmlnaHQpfHwwLGJvdHRvbTpwYXJzZUZsb2F0KGUuc2Nyb2xsTWFyZ2luQm90dG9tKXx8MCxsZWZ0OnBhcnNlRmxvYXQoZS5zY3JvbGxNYXJnaW5MZWZ0KXx8MH19KShlKTtsZXQgaz1cInN0YXJ0XCI9PT1mfHxcIm5lYXJlc3RcIj09PWY/eC1UOlwiZW5kXCI9PT1mP0krRjp4K3YvMi1UK0YsRD1cImNlbnRlclwiPT09dT9SK0UvMi1WK0I6XCJlbmRcIj09PXU/QytCOlItVjtjb25zdCBMPVtdO2ZvcihsZXQgdD0wO3Q8dy5sZW5ndGg7dCsrKXtjb25zdCBlPXdbdF0se2hlaWdodDpuLHdpZHRoOmwsdG9wOnIscmlnaHQ6aSxib3R0b206cyxsZWZ0OmR9PWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7aWYoXCJpZi1uZWVkZWRcIj09PWMmJng+PTAmJlI+PTAmJkk8PUgmJkM8PWImJng+PXImJkk8PXMmJlI+PWQmJkM8PWkpcmV0dXJuIEw7Y29uc3QgaD1nZXRDb21wdXRlZFN0eWxlKGUpLGE9cGFyc2VJbnQoaC5ib3JkZXJMZWZ0V2lkdGgsMTApLGc9cGFyc2VJbnQoaC5ib3JkZXJUb3BXaWR0aCwxMCkscD1wYXJzZUludChoLmJvcmRlclJpZ2h0V2lkdGgsMTApLFc9cGFyc2VJbnQoaC5ib3JkZXJCb3R0b21XaWR0aCwxMCk7bGV0IFQ9MCxCPTA7Y29uc3QgRj1cIm9mZnNldFdpZHRoXCJpbiBlP2Uub2Zmc2V0V2lkdGgtZS5jbGllbnRXaWR0aC1hLXA6MCxWPVwib2Zmc2V0SGVpZ2h0XCJpbiBlP2Uub2Zmc2V0SGVpZ2h0LWUuY2xpZW50SGVpZ2h0LWctVzowLFM9XCJvZmZzZXRXaWR0aFwiaW4gZT8wPT09ZS5vZmZzZXRXaWR0aD8wOmwvZS5vZmZzZXRXaWR0aDowLFg9XCJvZmZzZXRIZWlnaHRcImluIGU/MD09PWUub2Zmc2V0SGVpZ2h0PzA6bi9lLm9mZnNldEhlaWdodDowO2lmKG09PT1lKVQ9XCJzdGFydFwiPT09Zj9rOlwiZW5kXCI9PT1mP2stSDpcIm5lYXJlc3RcIj09PWY/byhNLE0rSCxILGcsVyxNK2ssTStrK3Ysdik6ay1ILzIsQj1cInN0YXJ0XCI9PT11P0Q6XCJjZW50ZXJcIj09PXU/RC1iLzI6XCJlbmRcIj09PXU/RC1iOm8oeSx5K2IsYixhLHAseStELHkrRCtFLEUpLFQ9TWF0aC5tYXgoMCxUK00pLEI9TWF0aC5tYXgoMCxCK3kpO2Vsc2V7VD1cInN0YXJ0XCI9PT1mP2stci1nOlwiZW5kXCI9PT1mP2stcytXK1Y6XCJuZWFyZXN0XCI9PT1mP28ocixzLG4sZyxXK1YsayxrK3Ysdik6ay0ocituLzIpK1YvMixCPVwic3RhcnRcIj09PXU/RC1kLWE6XCJjZW50ZXJcIj09PXU/RC0oZCtsLzIpK0YvMjpcImVuZFwiPT09dT9ELWkrcCtGOm8oZCxpLGwsYSxwK0YsRCxEK0UsRSk7Y29uc3R7c2Nyb2xsTGVmdDp0LHNjcm9sbFRvcDpofT1lO1Q9MD09PVg/MDpNYXRoLm1heCgwLE1hdGgubWluKGgrVC9YLGUuc2Nyb2xsSGVpZ2h0LW4vWCtWKSksQj0wPT09Uz8wOk1hdGgubWF4KDAsTWF0aC5taW4odCtCL1MsZS5zY3JvbGxXaWR0aC1sL1MrRikpLGsrPWgtVCxEKz10LUJ9TC5wdXNoKHtlbDplLHRvcDpULGxlZnQ6Qn0pfXJldHVybiBMfTtleHBvcnR7ciBhcyBjb21wdXRlfTsvLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/compute-scroll-into-view/dist/index.js\n");

/***/ }),

/***/ "./node_modules/fuse.js/dist/fuse.mjs":
/*!********************************************!*\
  !*** ./node_modules/fuse.js/dist/fuse.mjs ***!
  \********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Fuse)\n/* harmony export */ });\n/**\n * Fuse.js v7.0.0 - Lightweight fuzzy-search (http://fusejs.io)\n *\n * Copyright (c) 2023 Kiro Risk (http://kiro.me)\n * All Rights Reserved. Apache Software License 2.0\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nfunction isArray(value) {\n  return !Array.isArray\n    ? getTag(value) === '[object Array]'\n    : Array.isArray(value)\n}\n\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/baseToString.js\nconst INFINITY = 1 / 0;\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value\n  }\n  let result = value + '';\n  return result == '0' && 1 / value == -INFINITY ? '-0' : result\n}\n\nfunction toString(value) {\n  return value == null ? '' : baseToString(value)\n}\n\nfunction isString(value) {\n  return typeof value === 'string'\n}\n\nfunction isNumber(value) {\n  return typeof value === 'number'\n}\n\n// Adapted from: https://github.com/lodash/lodash/blob/master/isBoolean.js\nfunction isBoolean(value) {\n  return (\n    value === true ||\n    value === false ||\n    (isObjectLike(value) && getTag(value) == '[object Boolean]')\n  )\n}\n\nfunction isObject(value) {\n  return typeof value === 'object'\n}\n\n// Checks if `value` is object-like.\nfunction isObjectLike(value) {\n  return isObject(value) && value !== null\n}\n\nfunction isDefined(value) {\n  return value !== undefined && value !== null\n}\n\nfunction isBlank(value) {\n  return !value.trim().length\n}\n\n// Gets the `toStringTag` of `value`.\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/getTag.js\nfunction getTag(value) {\n  return value == null\n    ? value === undefined\n      ? '[object Undefined]'\n      : '[object Null]'\n    : Object.prototype.toString.call(value)\n}\n\nconst EXTENDED_SEARCH_UNAVAILABLE = 'Extended search is not available';\n\nconst INCORRECT_INDEX_TYPE = \"Incorrect 'index' type\";\n\nconst LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY = (key) =>\n  `Invalid value for key ${key}`;\n\nconst PATTERN_LENGTH_TOO_LARGE = (max) =>\n  `Pattern length exceeds max of ${max}.`;\n\nconst MISSING_KEY_PROPERTY = (name) => `Missing ${name} property in key`;\n\nconst INVALID_KEY_WEIGHT_VALUE = (key) =>\n  `Property 'weight' in key '${key}' must be a positive integer`;\n\nconst hasOwn = Object.prototype.hasOwnProperty;\n\nclass KeyStore {\n  constructor(keys) {\n    this._keys = [];\n    this._keyMap = {};\n\n    let totalWeight = 0;\n\n    keys.forEach((key) => {\n      let obj = createKey(key);\n\n      this._keys.push(obj);\n      this._keyMap[obj.id] = obj;\n\n      totalWeight += obj.weight;\n    });\n\n    // Normalize weights so that their sum is equal to 1\n    this._keys.forEach((key) => {\n      key.weight /= totalWeight;\n    });\n  }\n  get(keyId) {\n    return this._keyMap[keyId]\n  }\n  keys() {\n    return this._keys\n  }\n  toJSON() {\n    return JSON.stringify(this._keys)\n  }\n}\n\nfunction createKey(key) {\n  let path = null;\n  let id = null;\n  let src = null;\n  let weight = 1;\n  let getFn = null;\n\n  if (isString(key) || isArray(key)) {\n    src = key;\n    path = createKeyPath(key);\n    id = createKeyId(key);\n  } else {\n    if (!hasOwn.call(key, 'name')) {\n      throw new Error(MISSING_KEY_PROPERTY('name'))\n    }\n\n    const name = key.name;\n    src = name;\n\n    if (hasOwn.call(key, 'weight')) {\n      weight = key.weight;\n\n      if (weight <= 0) {\n        throw new Error(INVALID_KEY_WEIGHT_VALUE(name))\n      }\n    }\n\n    path = createKeyPath(name);\n    id = createKeyId(name);\n    getFn = key.getFn;\n  }\n\n  return { path, id, weight, src, getFn }\n}\n\nfunction createKeyPath(key) {\n  return isArray(key) ? key : key.split('.')\n}\n\nfunction createKeyId(key) {\n  return isArray(key) ? key.join('.') : key\n}\n\nfunction get(obj, path) {\n  let list = [];\n  let arr = false;\n\n  const deepGet = (obj, path, index) => {\n    if (!isDefined(obj)) {\n      return\n    }\n    if (!path[index]) {\n      // If there's no path left, we've arrived at the object we care about.\n      list.push(obj);\n    } else {\n      let key = path[index];\n\n      const value = obj[key];\n\n      if (!isDefined(value)) {\n        return\n      }\n\n      // If we're at the last value in the path, and if it's a string/number/bool,\n      // add it to the list\n      if (\n        index === path.length - 1 &&\n        (isString(value) || isNumber(value) || isBoolean(value))\n      ) {\n        list.push(toString(value));\n      } else if (isArray(value)) {\n        arr = true;\n        // Search each item in the array.\n        for (let i = 0, len = value.length; i < len; i += 1) {\n          deepGet(value[i], path, index + 1);\n        }\n      } else if (path.length) {\n        // An object. Recurse further.\n        deepGet(value, path, index + 1);\n      }\n    }\n  };\n\n  // Backwards compatibility (since path used to be a string)\n  deepGet(obj, isString(path) ? path.split('.') : path, 0);\n\n  return arr ? list : list[0]\n}\n\nconst MatchOptions = {\n  // Whether the matches should be included in the result set. When `true`, each record in the result\n  // set will include the indices of the matched characters.\n  // These can consequently be used for highlighting purposes.\n  includeMatches: false,\n  // When `true`, the matching function will continue to the end of a search pattern even if\n  // a perfect match has already been located in the string.\n  findAllMatches: false,\n  // Minimum number of characters that must be matched before a result is considered a match\n  minMatchCharLength: 1\n};\n\nconst BasicOptions = {\n  // When `true`, the algorithm continues searching to the end of the input even if a perfect\n  // match is found before the end of the same input.\n  isCaseSensitive: false,\n  // When true, the matching function will continue to the end of a search pattern even if\n  includeScore: false,\n  // List of properties that will be searched. This also supports nested properties.\n  keys: [],\n  // Whether to sort the result list, by score\n  shouldSort: true,\n  // Default sort function: sort by ascending score, ascending index\n  sortFn: (a, b) =>\n    a.score === b.score ? (a.idx < b.idx ? -1 : 1) : a.score < b.score ? -1 : 1\n};\n\nconst FuzzyOptions = {\n  // Approximately where in the text is the pattern expected to be found?\n  location: 0,\n  // At what point does the match algorithm give up. A threshold of '0.0' requires a perfect match\n  // (of both letters and location), a threshold of '1.0' would match anything.\n  threshold: 0.6,\n  // Determines how close the match must be to the fuzzy location (specified above).\n  // An exact letter match which is 'distance' characters away from the fuzzy location\n  // would score as a complete mismatch. A distance of '0' requires the match be at\n  // the exact location specified, a threshold of '1000' would require a perfect match\n  // to be within 800 characters of the fuzzy location to be found using a 0.8 threshold.\n  distance: 100\n};\n\nconst AdvancedOptions = {\n  // When `true`, it enables the use of unix-like search commands\n  useExtendedSearch: false,\n  // The get function to use when fetching an object's properties.\n  // The default will search nested paths *ie foo.bar.baz*\n  getFn: get,\n  // When `true`, search will ignore `location` and `distance`, so it won't matter\n  // where in the string the pattern appears.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#fuzziness-score\n  ignoreLocation: false,\n  // When `true`, the calculation for the relevance score (used for sorting) will\n  // ignore the field-length norm.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#field-length-norm\n  ignoreFieldNorm: false,\n  // The weight to determine how much field length norm effects scoring.\n  fieldNormWeight: 1\n};\n\nvar Config = {\n  ...BasicOptions,\n  ...MatchOptions,\n  ...FuzzyOptions,\n  ...AdvancedOptions\n};\n\nconst SPACE = /[^ ]+/g;\n\n// Field-length norm: the shorter the field, the higher the weight.\n// Set to 3 decimals to reduce index size.\nfunction norm(weight = 1, mantissa = 3) {\n  const cache = new Map();\n  const m = Math.pow(10, mantissa);\n\n  return {\n    get(value) {\n      const numTokens = value.match(SPACE).length;\n\n      if (cache.has(numTokens)) {\n        return cache.get(numTokens)\n      }\n\n      // Default function is 1/sqrt(x), weight makes that variable\n      const norm = 1 / Math.pow(numTokens, 0.5 * weight);\n\n      // In place of `toFixed(mantissa)`, for faster computation\n      const n = parseFloat(Math.round(norm * m) / m);\n\n      cache.set(numTokens, n);\n\n      return n\n    },\n    clear() {\n      cache.clear();\n    }\n  }\n}\n\nclass FuseIndex {\n  constructor({\n    getFn = Config.getFn,\n    fieldNormWeight = Config.fieldNormWeight\n  } = {}) {\n    this.norm = norm(fieldNormWeight, 3);\n    this.getFn = getFn;\n    this.isCreated = false;\n\n    this.setIndexRecords();\n  }\n  setSources(docs = []) {\n    this.docs = docs;\n  }\n  setIndexRecords(records = []) {\n    this.records = records;\n  }\n  setKeys(keys = []) {\n    this.keys = keys;\n    this._keysMap = {};\n    keys.forEach((key, idx) => {\n      this._keysMap[key.id] = idx;\n    });\n  }\n  create() {\n    if (this.isCreated || !this.docs.length) {\n      return\n    }\n\n    this.isCreated = true;\n\n    // List is Array<String>\n    if (isString(this.docs[0])) {\n      this.docs.forEach((doc, docIndex) => {\n        this._addString(doc, docIndex);\n      });\n    } else {\n      // List is Array<Object>\n      this.docs.forEach((doc, docIndex) => {\n        this._addObject(doc, docIndex);\n      });\n    }\n\n    this.norm.clear();\n  }\n  // Adds a doc to the end of the index\n  add(doc) {\n    const idx = this.size();\n\n    if (isString(doc)) {\n      this._addString(doc, idx);\n    } else {\n      this._addObject(doc, idx);\n    }\n  }\n  // Removes the doc at the specified index of the index\n  removeAt(idx) {\n    this.records.splice(idx, 1);\n\n    // Change ref index of every subsquent doc\n    for (let i = idx, len = this.size(); i < len; i += 1) {\n      this.records[i].i -= 1;\n    }\n  }\n  getValueForItemAtKeyId(item, keyId) {\n    return item[this._keysMap[keyId]]\n  }\n  size() {\n    return this.records.length\n  }\n  _addString(doc, docIndex) {\n    if (!isDefined(doc) || isBlank(doc)) {\n      return\n    }\n\n    let record = {\n      v: doc,\n      i: docIndex,\n      n: this.norm.get(doc)\n    };\n\n    this.records.push(record);\n  }\n  _addObject(doc, docIndex) {\n    let record = { i: docIndex, $: {} };\n\n    // Iterate over every key (i.e, path), and fetch the value at that key\n    this.keys.forEach((key, keyIndex) => {\n      let value = key.getFn ? key.getFn(doc) : this.getFn(doc, key.path);\n\n      if (!isDefined(value)) {\n        return\n      }\n\n      if (isArray(value)) {\n        let subRecords = [];\n        const stack = [{ nestedArrIndex: -1, value }];\n\n        while (stack.length) {\n          const { nestedArrIndex, value } = stack.pop();\n\n          if (!isDefined(value)) {\n            continue\n          }\n\n          if (isString(value) && !isBlank(value)) {\n            let subRecord = {\n              v: value,\n              i: nestedArrIndex,\n              n: this.norm.get(value)\n            };\n\n            subRecords.push(subRecord);\n          } else if (isArray(value)) {\n            value.forEach((item, k) => {\n              stack.push({\n                nestedArrIndex: k,\n                value: item\n              });\n            });\n          } else ;\n        }\n        record.$[keyIndex] = subRecords;\n      } else if (isString(value) && !isBlank(value)) {\n        let subRecord = {\n          v: value,\n          n: this.norm.get(value)\n        };\n\n        record.$[keyIndex] = subRecord;\n      }\n    });\n\n    this.records.push(record);\n  }\n  toJSON() {\n    return {\n      keys: this.keys,\n      records: this.records\n    }\n  }\n}\n\nfunction createIndex(\n  keys,\n  docs,\n  { getFn = Config.getFn, fieldNormWeight = Config.fieldNormWeight } = {}\n) {\n  const myIndex = new FuseIndex({ getFn, fieldNormWeight });\n  myIndex.setKeys(keys.map(createKey));\n  myIndex.setSources(docs);\n  myIndex.create();\n  return myIndex\n}\n\nfunction parseIndex(\n  data,\n  { getFn = Config.getFn, fieldNormWeight = Config.fieldNormWeight } = {}\n) {\n  const { keys, records } = data;\n  const myIndex = new FuseIndex({ getFn, fieldNormWeight });\n  myIndex.setKeys(keys);\n  myIndex.setIndexRecords(records);\n  return myIndex\n}\n\nfunction computeScore$1(\n  pattern,\n  {\n    errors = 0,\n    currentLocation = 0,\n    expectedLocation = 0,\n    distance = Config.distance,\n    ignoreLocation = Config.ignoreLocation\n  } = {}\n) {\n  const accuracy = errors / pattern.length;\n\n  if (ignoreLocation) {\n    return accuracy\n  }\n\n  const proximity = Math.abs(expectedLocation - currentLocation);\n\n  if (!distance) {\n    // Dodge divide by zero error.\n    return proximity ? 1.0 : accuracy\n  }\n\n  return accuracy + proximity / distance\n}\n\nfunction convertMaskToIndices(\n  matchmask = [],\n  minMatchCharLength = Config.minMatchCharLength\n) {\n  let indices = [];\n  let start = -1;\n  let end = -1;\n  let i = 0;\n\n  for (let len = matchmask.length; i < len; i += 1) {\n    let match = matchmask[i];\n    if (match && start === -1) {\n      start = i;\n    } else if (!match && start !== -1) {\n      end = i - 1;\n      if (end - start + 1 >= minMatchCharLength) {\n        indices.push([start, end]);\n      }\n      start = -1;\n    }\n  }\n\n  // (i-1 - start) + 1 => i - start\n  if (matchmask[i - 1] && i - start >= minMatchCharLength) {\n    indices.push([start, i - 1]);\n  }\n\n  return indices\n}\n\n// Machine word size\nconst MAX_BITS = 32;\n\nfunction search(\n  text,\n  pattern,\n  patternAlphabet,\n  {\n    location = Config.location,\n    distance = Config.distance,\n    threshold = Config.threshold,\n    findAllMatches = Config.findAllMatches,\n    minMatchCharLength = Config.minMatchCharLength,\n    includeMatches = Config.includeMatches,\n    ignoreLocation = Config.ignoreLocation\n  } = {}\n) {\n  if (pattern.length > MAX_BITS) {\n    throw new Error(PATTERN_LENGTH_TOO_LARGE(MAX_BITS))\n  }\n\n  const patternLen = pattern.length;\n  // Set starting location at beginning text and initialize the alphabet.\n  const textLen = text.length;\n  // Handle the case when location > text.length\n  const expectedLocation = Math.max(0, Math.min(location, textLen));\n  // Highest score beyond which we give up.\n  let currentThreshold = threshold;\n  // Is there a nearby exact match? (speedup)\n  let bestLocation = expectedLocation;\n\n  // Performance: only computer matches when the minMatchCharLength > 1\n  // OR if `includeMatches` is true.\n  const computeMatches = minMatchCharLength > 1 || includeMatches;\n  // A mask of the matches, used for building the indices\n  const matchMask = computeMatches ? Array(textLen) : [];\n\n  let index;\n\n  // Get all exact matches, here for speed up\n  while ((index = text.indexOf(pattern, bestLocation)) > -1) {\n    let score = computeScore$1(pattern, {\n      currentLocation: index,\n      expectedLocation,\n      distance,\n      ignoreLocation\n    });\n\n    currentThreshold = Math.min(score, currentThreshold);\n    bestLocation = index + patternLen;\n\n    if (computeMatches) {\n      let i = 0;\n      while (i < patternLen) {\n        matchMask[index + i] = 1;\n        i += 1;\n      }\n    }\n  }\n\n  // Reset the best location\n  bestLocation = -1;\n\n  let lastBitArr = [];\n  let finalScore = 1;\n  let binMax = patternLen + textLen;\n\n  const mask = 1 << (patternLen - 1);\n\n  for (let i = 0; i < patternLen; i += 1) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from the match location we can stray\n    // at this error level.\n    let binMin = 0;\n    let binMid = binMax;\n\n    while (binMin < binMid) {\n      const score = computeScore$1(pattern, {\n        errors: i,\n        currentLocation: expectedLocation + binMid,\n        expectedLocation,\n        distance,\n        ignoreLocation\n      });\n\n      if (score <= currentThreshold) {\n        binMin = binMid;\n      } else {\n        binMax = binMid;\n      }\n\n      binMid = Math.floor((binMax - binMin) / 2 + binMin);\n    }\n\n    // Use the result from this iteration as the maximum for the next.\n    binMax = binMid;\n\n    let start = Math.max(1, expectedLocation - binMid + 1);\n    let finish = findAllMatches\n      ? textLen\n      : Math.min(expectedLocation + binMid, textLen) + patternLen;\n\n    // Initialize the bit array\n    let bitArr = Array(finish + 2);\n\n    bitArr[finish + 1] = (1 << i) - 1;\n\n    for (let j = finish; j >= start; j -= 1) {\n      let currentLocation = j - 1;\n      let charMatch = patternAlphabet[text.charAt(currentLocation)];\n\n      if (computeMatches) {\n        // Speed up: quick bool to int conversion (i.e, `charMatch ? 1 : 0`)\n        matchMask[currentLocation] = +!!charMatch;\n      }\n\n      // First pass: exact match\n      bitArr[j] = ((bitArr[j + 1] << 1) | 1) & charMatch;\n\n      // Subsequent passes: fuzzy match\n      if (i) {\n        bitArr[j] |=\n          ((lastBitArr[j + 1] | lastBitArr[j]) << 1) | 1 | lastBitArr[j + 1];\n      }\n\n      if (bitArr[j] & mask) {\n        finalScore = computeScore$1(pattern, {\n          errors: i,\n          currentLocation,\n          expectedLocation,\n          distance,\n          ignoreLocation\n        });\n\n        // This match will almost certainly be better than any existing match.\n        // But check anyway.\n        if (finalScore <= currentThreshold) {\n          // Indeed it is\n          currentThreshold = finalScore;\n          bestLocation = currentLocation;\n\n          // Already passed `loc`, downhill from here on in.\n          if (bestLocation <= expectedLocation) {\n            break\n          }\n\n          // When passing `bestLocation`, don't exceed our current distance from `expectedLocation`.\n          start = Math.max(1, 2 * expectedLocation - bestLocation);\n        }\n      }\n    }\n\n    // No hope for a (better) match at greater error levels.\n    const score = computeScore$1(pattern, {\n      errors: i + 1,\n      currentLocation: expectedLocation,\n      expectedLocation,\n      distance,\n      ignoreLocation\n    });\n\n    if (score > currentThreshold) {\n      break\n    }\n\n    lastBitArr = bitArr;\n  }\n\n  const result = {\n    isMatch: bestLocation >= 0,\n    // Count exact matches (those with a score of 0) to be \"almost\" exact\n    score: Math.max(0.001, finalScore)\n  };\n\n  if (computeMatches) {\n    const indices = convertMaskToIndices(matchMask, minMatchCharLength);\n    if (!indices.length) {\n      result.isMatch = false;\n    } else if (includeMatches) {\n      result.indices = indices;\n    }\n  }\n\n  return result\n}\n\nfunction createPatternAlphabet(pattern) {\n  let mask = {};\n\n  for (let i = 0, len = pattern.length; i < len; i += 1) {\n    const char = pattern.charAt(i);\n    mask[char] = (mask[char] || 0) | (1 << (len - i - 1));\n  }\n\n  return mask\n}\n\nclass BitapSearch {\n  constructor(\n    pattern,\n    {\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance,\n      includeMatches = Config.includeMatches,\n      findAllMatches = Config.findAllMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      isCaseSensitive = Config.isCaseSensitive,\n      ignoreLocation = Config.ignoreLocation\n    } = {}\n  ) {\n    this.options = {\n      location,\n      threshold,\n      distance,\n      includeMatches,\n      findAllMatches,\n      minMatchCharLength,\n      isCaseSensitive,\n      ignoreLocation\n    };\n\n    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n\n    this.chunks = [];\n\n    if (!this.pattern.length) {\n      return\n    }\n\n    const addChunk = (pattern, startIndex) => {\n      this.chunks.push({\n        pattern,\n        alphabet: createPatternAlphabet(pattern),\n        startIndex\n      });\n    };\n\n    const len = this.pattern.length;\n\n    if (len > MAX_BITS) {\n      let i = 0;\n      const remainder = len % MAX_BITS;\n      const end = len - remainder;\n\n      while (i < end) {\n        addChunk(this.pattern.substr(i, MAX_BITS), i);\n        i += MAX_BITS;\n      }\n\n      if (remainder) {\n        const startIndex = len - MAX_BITS;\n        addChunk(this.pattern.substr(startIndex), startIndex);\n      }\n    } else {\n      addChunk(this.pattern, 0);\n    }\n  }\n\n  searchIn(text) {\n    const { isCaseSensitive, includeMatches } = this.options;\n\n    if (!isCaseSensitive) {\n      text = text.toLowerCase();\n    }\n\n    // Exact match\n    if (this.pattern === text) {\n      let result = {\n        isMatch: true,\n        score: 0\n      };\n\n      if (includeMatches) {\n        result.indices = [[0, text.length - 1]];\n      }\n\n      return result\n    }\n\n    // Otherwise, use Bitap algorithm\n    const {\n      location,\n      distance,\n      threshold,\n      findAllMatches,\n      minMatchCharLength,\n      ignoreLocation\n    } = this.options;\n\n    let allIndices = [];\n    let totalScore = 0;\n    let hasMatches = false;\n\n    this.chunks.forEach(({ pattern, alphabet, startIndex }) => {\n      const { isMatch, score, indices } = search(text, pattern, alphabet, {\n        location: location + startIndex,\n        distance,\n        threshold,\n        findAllMatches,\n        minMatchCharLength,\n        includeMatches,\n        ignoreLocation\n      });\n\n      if (isMatch) {\n        hasMatches = true;\n      }\n\n      totalScore += score;\n\n      if (isMatch && indices) {\n        allIndices = [...allIndices, ...indices];\n      }\n    });\n\n    let result = {\n      isMatch: hasMatches,\n      score: hasMatches ? totalScore / this.chunks.length : 1\n    };\n\n    if (hasMatches && includeMatches) {\n      result.indices = allIndices;\n    }\n\n    return result\n  }\n}\n\nclass BaseMatch {\n  constructor(pattern) {\n    this.pattern = pattern;\n  }\n  static isMultiMatch(pattern) {\n    return getMatch(pattern, this.multiRegex)\n  }\n  static isSingleMatch(pattern) {\n    return getMatch(pattern, this.singleRegex)\n  }\n  search(/*text*/) {}\n}\n\nfunction getMatch(pattern, exp) {\n  const matches = pattern.match(exp);\n  return matches ? matches[1] : null\n}\n\n// Token: 'file\n\nclass ExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'exact'\n  }\n  static get multiRegex() {\n    return /^=\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^=(.*)$/\n  }\n  search(text) {\n    const isMatch = text === this.pattern;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, this.pattern.length - 1]\n    }\n  }\n}\n\n// Token: !fire\n\nclass InverseExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-exact'\n  }\n  static get multiRegex() {\n    return /^!\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^!(.*)$/\n  }\n  search(text) {\n    const index = text.indexOf(this.pattern);\n    const isMatch = index === -1;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\n// Token: ^file\n\nclass PrefixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'prefix-exact'\n  }\n  static get multiRegex() {\n    return /^\\^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^\\^(.*)$/\n  }\n  search(text) {\n    const isMatch = text.startsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, this.pattern.length - 1]\n    }\n  }\n}\n\n// Token: !^fire\n\nclass InversePrefixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-prefix-exact'\n  }\n  static get multiRegex() {\n    return /^!\\^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^!\\^(.*)$/\n  }\n  search(text) {\n    const isMatch = !text.startsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\n// Token: .file$\n\nclass SuffixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'suffix-exact'\n  }\n  static get multiRegex() {\n    return /^\"(.*)\"\\$$/\n  }\n  static get singleRegex() {\n    return /^(.*)\\$$/\n  }\n  search(text) {\n    const isMatch = text.endsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [text.length - this.pattern.length, text.length - 1]\n    }\n  }\n}\n\n// Token: !.file$\n\nclass InverseSuffixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-suffix-exact'\n  }\n  static get multiRegex() {\n    return /^!\"(.*)\"\\$$/\n  }\n  static get singleRegex() {\n    return /^!(.*)\\$$/\n  }\n  search(text) {\n    const isMatch = !text.endsWith(this.pattern);\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\nclass FuzzyMatch extends BaseMatch {\n  constructor(\n    pattern,\n    {\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance,\n      includeMatches = Config.includeMatches,\n      findAllMatches = Config.findAllMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      isCaseSensitive = Config.isCaseSensitive,\n      ignoreLocation = Config.ignoreLocation\n    } = {}\n  ) {\n    super(pattern);\n    this._bitapSearch = new BitapSearch(pattern, {\n      location,\n      threshold,\n      distance,\n      includeMatches,\n      findAllMatches,\n      minMatchCharLength,\n      isCaseSensitive,\n      ignoreLocation\n    });\n  }\n  static get type() {\n    return 'fuzzy'\n  }\n  static get multiRegex() {\n    return /^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^(.*)$/\n  }\n  search(text) {\n    return this._bitapSearch.searchIn(text)\n  }\n}\n\n// Token: 'file\n\nclass IncludeMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'include'\n  }\n  static get multiRegex() {\n    return /^'\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^'(.*)$/\n  }\n  search(text) {\n    let location = 0;\n    let index;\n\n    const indices = [];\n    const patternLen = this.pattern.length;\n\n    // Get all exact matches\n    while ((index = text.indexOf(this.pattern, location)) > -1) {\n      location = index + patternLen;\n      indices.push([index, location - 1]);\n    }\n\n    const isMatch = !!indices.length;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices\n    }\n  }\n}\n\n// Order is important. DO NOT CHANGE.\nconst searchers = [\n  ExactMatch,\n  IncludeMatch,\n  PrefixExactMatch,\n  InversePrefixExactMatch,\n  InverseSuffixExactMatch,\n  SuffixExactMatch,\n  InverseExactMatch,\n  FuzzyMatch\n];\n\nconst searchersLen = searchers.length;\n\n// Regex to split by spaces, but keep anything in quotes together\nconst SPACE_RE = / +(?=(?:[^\\\"]*\\\"[^\\\"]*\\\")*[^\\\"]*$)/;\nconst OR_TOKEN = '|';\n\n// Return a 2D array representation of the query, for simpler parsing.\n// Example:\n// \"^core go$ | rb$ | py$ xy$\" => [[\"^core\", \"go$\"], [\"rb$\"], [\"py$\", \"xy$\"]]\nfunction parseQuery(pattern, options = {}) {\n  return pattern.split(OR_TOKEN).map((item) => {\n    let query = item\n      .trim()\n      .split(SPACE_RE)\n      .filter((item) => item && !!item.trim());\n\n    let results = [];\n    for (let i = 0, len = query.length; i < len; i += 1) {\n      const queryItem = query[i];\n\n      // 1. Handle multiple query match (i.e, once that are quoted, like `\"hello world\"`)\n      let found = false;\n      let idx = -1;\n      while (!found && ++idx < searchersLen) {\n        const searcher = searchers[idx];\n        let token = searcher.isMultiMatch(queryItem);\n        if (token) {\n          results.push(new searcher(token, options));\n          found = true;\n        }\n      }\n\n      if (found) {\n        continue\n      }\n\n      // 2. Handle single query matches (i.e, once that are *not* quoted)\n      idx = -1;\n      while (++idx < searchersLen) {\n        const searcher = searchers[idx];\n        let token = searcher.isSingleMatch(queryItem);\n        if (token) {\n          results.push(new searcher(token, options));\n          break\n        }\n      }\n    }\n\n    return results\n  })\n}\n\n// These extended matchers can return an array of matches, as opposed\n// to a singl match\nconst MultiMatchSet = new Set([FuzzyMatch.type, IncludeMatch.type]);\n\n/**\n * Command-like searching\n * ======================\n *\n * Given multiple search terms delimited by spaces.e.g. `^jscript .python$ ruby !java`,\n * search in a given text.\n *\n * Search syntax:\n *\n * | Token       | Match type                 | Description                            |\n * | ----------- | -------------------------- | -------------------------------------- |\n * | `jscript`   | fuzzy-match                | Items that fuzzy match `jscript`       |\n * | `=scheme`   | exact-match                | Items that are `scheme`                |\n * | `'python`   | include-match              | Items that include `python`            |\n * | `!ruby`     | inverse-exact-match        | Items that do not include `ruby`       |\n * | `^java`     | prefix-exact-match         | Items that start with `java`           |\n * | `!^earlang` | inverse-prefix-exact-match | Items that do not start with `earlang` |\n * | `.js$`      | suffix-exact-match         | Items that end with `.js`              |\n * | `!.go$`     | inverse-suffix-exact-match | Items that do not end with `.go`       |\n *\n * A single pipe character acts as an OR operator. For example, the following\n * query matches entries that start with `core` and end with either`go`, `rb`,\n * or`py`.\n *\n * ```\n * ^core go$ | rb$ | py$\n * ```\n */\nclass ExtendedSearch {\n  constructor(\n    pattern,\n    {\n      isCaseSensitive = Config.isCaseSensitive,\n      includeMatches = Config.includeMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      ignoreLocation = Config.ignoreLocation,\n      findAllMatches = Config.findAllMatches,\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance\n    } = {}\n  ) {\n    this.query = null;\n    this.options = {\n      isCaseSensitive,\n      includeMatches,\n      minMatchCharLength,\n      findAllMatches,\n      ignoreLocation,\n      location,\n      threshold,\n      distance\n    };\n\n    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n    this.query = parseQuery(this.pattern, this.options);\n  }\n\n  static condition(_, options) {\n    return options.useExtendedSearch\n  }\n\n  searchIn(text) {\n    const query = this.query;\n\n    if (!query) {\n      return {\n        isMatch: false,\n        score: 1\n      }\n    }\n\n    const { includeMatches, isCaseSensitive } = this.options;\n\n    text = isCaseSensitive ? text : text.toLowerCase();\n\n    let numMatches = 0;\n    let allIndices = [];\n    let totalScore = 0;\n\n    // ORs\n    for (let i = 0, qLen = query.length; i < qLen; i += 1) {\n      const searchers = query[i];\n\n      // Reset indices\n      allIndices.length = 0;\n      numMatches = 0;\n\n      // ANDs\n      for (let j = 0, pLen = searchers.length; j < pLen; j += 1) {\n        const searcher = searchers[j];\n        const { isMatch, indices, score } = searcher.search(text);\n\n        if (isMatch) {\n          numMatches += 1;\n          totalScore += score;\n          if (includeMatches) {\n            const type = searcher.constructor.type;\n            if (MultiMatchSet.has(type)) {\n              allIndices = [...allIndices, ...indices];\n            } else {\n              allIndices.push(indices);\n            }\n          }\n        } else {\n          totalScore = 0;\n          numMatches = 0;\n          allIndices.length = 0;\n          break\n        }\n      }\n\n      // OR condition, so if TRUE, return\n      if (numMatches) {\n        let result = {\n          isMatch: true,\n          score: totalScore / numMatches\n        };\n\n        if (includeMatches) {\n          result.indices = allIndices;\n        }\n\n        return result\n      }\n    }\n\n    // Nothing was matched\n    return {\n      isMatch: false,\n      score: 1\n    }\n  }\n}\n\nconst registeredSearchers = [];\n\nfunction register(...args) {\n  registeredSearchers.push(...args);\n}\n\nfunction createSearcher(pattern, options) {\n  for (let i = 0, len = registeredSearchers.length; i < len; i += 1) {\n    let searcherClass = registeredSearchers[i];\n    if (searcherClass.condition(pattern, options)) {\n      return new searcherClass(pattern, options)\n    }\n  }\n\n  return new BitapSearch(pattern, options)\n}\n\nconst LogicalOperator = {\n  AND: '$and',\n  OR: '$or'\n};\n\nconst KeyType = {\n  PATH: '$path',\n  PATTERN: '$val'\n};\n\nconst isExpression = (query) =>\n  !!(query[LogicalOperator.AND] || query[LogicalOperator.OR]);\n\nconst isPath = (query) => !!query[KeyType.PATH];\n\nconst isLeaf = (query) =>\n  !isArray(query) && isObject(query) && !isExpression(query);\n\nconst convertToExplicit = (query) => ({\n  [LogicalOperator.AND]: Object.keys(query).map((key) => ({\n    [key]: query[key]\n  }))\n});\n\n// When `auto` is `true`, the parse function will infer and initialize and add\n// the appropriate `Searcher` instance\nfunction parse(query, options, { auto = true } = {}) {\n  const next = (query) => {\n    let keys = Object.keys(query);\n\n    const isQueryPath = isPath(query);\n\n    if (!isQueryPath && keys.length > 1 && !isExpression(query)) {\n      return next(convertToExplicit(query))\n    }\n\n    if (isLeaf(query)) {\n      const key = isQueryPath ? query[KeyType.PATH] : keys[0];\n\n      const pattern = isQueryPath ? query[KeyType.PATTERN] : query[key];\n\n      if (!isString(pattern)) {\n        throw new Error(LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY(key))\n      }\n\n      const obj = {\n        keyId: createKeyId(key),\n        pattern\n      };\n\n      if (auto) {\n        obj.searcher = createSearcher(pattern, options);\n      }\n\n      return obj\n    }\n\n    let node = {\n      children: [],\n      operator: keys[0]\n    };\n\n    keys.forEach((key) => {\n      const value = query[key];\n\n      if (isArray(value)) {\n        value.forEach((item) => {\n          node.children.push(next(item));\n        });\n      }\n    });\n\n    return node\n  };\n\n  if (!isExpression(query)) {\n    query = convertToExplicit(query);\n  }\n\n  return next(query)\n}\n\n// Practical scoring function\nfunction computeScore(\n  results,\n  { ignoreFieldNorm = Config.ignoreFieldNorm }\n) {\n  results.forEach((result) => {\n    let totalScore = 1;\n\n    result.matches.forEach(({ key, norm, score }) => {\n      const weight = key ? key.weight : null;\n\n      totalScore *= Math.pow(\n        score === 0 && weight ? Number.EPSILON : score,\n        (weight || 1) * (ignoreFieldNorm ? 1 : norm)\n      );\n    });\n\n    result.score = totalScore;\n  });\n}\n\nfunction transformMatches(result, data) {\n  const matches = result.matches;\n  data.matches = [];\n\n  if (!isDefined(matches)) {\n    return\n  }\n\n  matches.forEach((match) => {\n    if (!isDefined(match.indices) || !match.indices.length) {\n      return\n    }\n\n    const { indices, value } = match;\n\n    let obj = {\n      indices,\n      value\n    };\n\n    if (match.key) {\n      obj.key = match.key.src;\n    }\n\n    if (match.idx > -1) {\n      obj.refIndex = match.idx;\n    }\n\n    data.matches.push(obj);\n  });\n}\n\nfunction transformScore(result, data) {\n  data.score = result.score;\n}\n\nfunction format(\n  results,\n  docs,\n  {\n    includeMatches = Config.includeMatches,\n    includeScore = Config.includeScore\n  } = {}\n) {\n  const transformers = [];\n\n  if (includeMatches) transformers.push(transformMatches);\n  if (includeScore) transformers.push(transformScore);\n\n  return results.map((result) => {\n    const { idx } = result;\n\n    const data = {\n      item: docs[idx],\n      refIndex: idx\n    };\n\n    if (transformers.length) {\n      transformers.forEach((transformer) => {\n        transformer(result, data);\n      });\n    }\n\n    return data\n  })\n}\n\nclass Fuse {\n  constructor(docs, options = {}, index) {\n    this.options = { ...Config, ...options };\n\n    if (\n      this.options.useExtendedSearch &&\n      !true\n    ) {}\n\n    this._keyStore = new KeyStore(this.options.keys);\n\n    this.setCollection(docs, index);\n  }\n\n  setCollection(docs, index) {\n    this._docs = docs;\n\n    if (index && !(index instanceof FuseIndex)) {\n      throw new Error(INCORRECT_INDEX_TYPE)\n    }\n\n    this._myIndex =\n      index ||\n      createIndex(this.options.keys, this._docs, {\n        getFn: this.options.getFn,\n        fieldNormWeight: this.options.fieldNormWeight\n      });\n  }\n\n  add(doc) {\n    if (!isDefined(doc)) {\n      return\n    }\n\n    this._docs.push(doc);\n    this._myIndex.add(doc);\n  }\n\n  remove(predicate = (/* doc, idx */) => false) {\n    const results = [];\n\n    for (let i = 0, len = this._docs.length; i < len; i += 1) {\n      const doc = this._docs[i];\n      if (predicate(doc, i)) {\n        this.removeAt(i);\n        i -= 1;\n        len -= 1;\n\n        results.push(doc);\n      }\n    }\n\n    return results\n  }\n\n  removeAt(idx) {\n    this._docs.splice(idx, 1);\n    this._myIndex.removeAt(idx);\n  }\n\n  getIndex() {\n    return this._myIndex\n  }\n\n  search(query, { limit = -1 } = {}) {\n    const {\n      includeMatches,\n      includeScore,\n      shouldSort,\n      sortFn,\n      ignoreFieldNorm\n    } = this.options;\n\n    let results = isString(query)\n      ? isString(this._docs[0])\n        ? this._searchStringList(query)\n        : this._searchObjectList(query)\n      : this._searchLogical(query);\n\n    computeScore(results, { ignoreFieldNorm });\n\n    if (shouldSort) {\n      results.sort(sortFn);\n    }\n\n    if (isNumber(limit) && limit > -1) {\n      results = results.slice(0, limit);\n    }\n\n    return format(results, this._docs, {\n      includeMatches,\n      includeScore\n    })\n  }\n\n  _searchStringList(query) {\n    const searcher = createSearcher(query, this.options);\n    const { records } = this._myIndex;\n    const results = [];\n\n    // Iterate over every string in the index\n    records.forEach(({ v: text, i: idx, n: norm }) => {\n      if (!isDefined(text)) {\n        return\n      }\n\n      const { isMatch, score, indices } = searcher.searchIn(text);\n\n      if (isMatch) {\n        results.push({\n          item: text,\n          idx,\n          matches: [{ score, value: text, norm, indices }]\n        });\n      }\n    });\n\n    return results\n  }\n\n  _searchLogical(query) {\n\n    const expression = parse(query, this.options);\n\n    const evaluate = (node, item, idx) => {\n      if (!node.children) {\n        const { keyId, searcher } = node;\n\n        const matches = this._findMatches({\n          key: this._keyStore.get(keyId),\n          value: this._myIndex.getValueForItemAtKeyId(item, keyId),\n          searcher\n        });\n\n        if (matches && matches.length) {\n          return [\n            {\n              idx,\n              item,\n              matches\n            }\n          ]\n        }\n\n        return []\n      }\n\n      const res = [];\n      for (let i = 0, len = node.children.length; i < len; i += 1) {\n        const child = node.children[i];\n        const result = evaluate(child, item, idx);\n        if (result.length) {\n          res.push(...result);\n        } else if (node.operator === LogicalOperator.AND) {\n          return []\n        }\n      }\n      return res\n    };\n\n    const records = this._myIndex.records;\n    const resultMap = {};\n    const results = [];\n\n    records.forEach(({ $: item, i: idx }) => {\n      if (isDefined(item)) {\n        let expResults = evaluate(expression, item, idx);\n\n        if (expResults.length) {\n          // Dedupe when adding\n          if (!resultMap[idx]) {\n            resultMap[idx] = { idx, item, matches: [] };\n            results.push(resultMap[idx]);\n          }\n          expResults.forEach(({ matches }) => {\n            resultMap[idx].matches.push(...matches);\n          });\n        }\n      }\n    });\n\n    return results\n  }\n\n  _searchObjectList(query) {\n    const searcher = createSearcher(query, this.options);\n    const { keys, records } = this._myIndex;\n    const results = [];\n\n    // List is Array<Object>\n    records.forEach(({ $: item, i: idx }) => {\n      if (!isDefined(item)) {\n        return\n      }\n\n      let matches = [];\n\n      // Iterate over every key (i.e, path), and fetch the value at that key\n      keys.forEach((key, keyIndex) => {\n        matches.push(\n          ...this._findMatches({\n            key,\n            value: item[keyIndex],\n            searcher\n          })\n        );\n      });\n\n      if (matches.length) {\n        results.push({\n          idx,\n          item,\n          matches\n        });\n      }\n    });\n\n    return results\n  }\n  _findMatches({ key, value, searcher }) {\n    if (!isDefined(value)) {\n      return []\n    }\n\n    let matches = [];\n\n    if (isArray(value)) {\n      value.forEach(({ v: text, i: idx, n: norm }) => {\n        if (!isDefined(text)) {\n          return\n        }\n\n        const { isMatch, score, indices } = searcher.searchIn(text);\n\n        if (isMatch) {\n          matches.push({\n            score,\n            key,\n            value: text,\n            idx,\n            norm,\n            indices\n          });\n        }\n      });\n    } else {\n      const { v: text, n: norm } = value;\n\n      const { isMatch, score, indices } = searcher.searchIn(text);\n\n      if (isMatch) {\n        matches.push({ score, key, value: text, norm, indices });\n      }\n    }\n\n    return matches\n  }\n}\n\nFuse.version = '7.0.0';\nFuse.createIndex = createIndex;\nFuse.parseIndex = parseIndex;\nFuse.config = Config;\n\n{\n  Fuse.parseQuery = parse;\n}\n\n{\n  register(ExtendedSearch);\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZnVzZS5qcy9kaXN0L2Z1c2UubWpzIiwibWFwcGluZ3MiOiI7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL2Z1c2UuanMvZGlzdC9mdXNlLm1qcz8xNzUwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogRnVzZS5qcyB2Ny4wLjAgLSBMaWdodHdlaWdodCBmdXp6eS1zZWFyY2ggKGh0dHA6Ly9mdXNlanMuaW8pXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIzIEtpcm8gUmlzayAoaHR0cDovL2tpcm8ubWUpXG4gKiBBbGwgUmlnaHRzIFJlc2VydmVkLiBBcGFjaGUgU29mdHdhcmUgTGljZW5zZSAyLjBcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqL1xuXG5mdW5jdGlvbiBpc0FycmF5KHZhbHVlKSB7XG4gIHJldHVybiAhQXJyYXkuaXNBcnJheVxuICAgID8gZ2V0VGFnKHZhbHVlKSA9PT0gJ1tvYmplY3QgQXJyYXldJ1xuICAgIDogQXJyYXkuaXNBcnJheSh2YWx1ZSlcbn1cblxuLy8gQWRhcHRlZCBmcm9tOiBodHRwczovL2dpdGh1Yi5jb20vbG9kYXNoL2xvZGFzaC9ibG9iL21hc3Rlci8uaW50ZXJuYWwvYmFzZVRvU3RyaW5nLmpzXG5jb25zdCBJTkZJTklUWSA9IDEgLyAwO1xuZnVuY3Rpb24gYmFzZVRvU3RyaW5nKHZhbHVlKSB7XG4gIC8vIEV4aXQgZWFybHkgZm9yIHN0cmluZ3MgdG8gYXZvaWQgYSBwZXJmb3JtYW5jZSBoaXQgaW4gc29tZSBlbnZpcm9ubWVudHMuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsdWVcbiAgfVxuICBsZXQgcmVzdWx0ID0gdmFsdWUgKyAnJztcbiAgcmV0dXJuIHJlc3VsdCA9PSAnMCcgJiYgMSAvIHZhbHVlID09IC1JTkZJTklUWSA/ICctMCcgOiByZXN1bHRcbn1cblxuZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6IGJhc2VUb1N0cmluZyh2YWx1ZSlcbn1cblxuZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZydcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcidcbn1cblxuLy8gQWRhcHRlZCBmcm9tOiBodHRwczovL2dpdGh1Yi5jb20vbG9kYXNoL2xvZGFzaC9ibG9iL21hc3Rlci9pc0Jvb2xlYW4uanNcbmZ1bmN0aW9uIGlzQm9vbGVhbih2YWx1ZSkge1xuICByZXR1cm4gKFxuICAgIHZhbHVlID09PSB0cnVlIHx8XG4gICAgdmFsdWUgPT09IGZhbHNlIHx8XG4gICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgZ2V0VGFnKHZhbHVlKSA9PSAnW29iamVjdCBCb29sZWFuXScpXG4gIClcbn1cblxuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCdcbn1cblxuLy8gQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHZhbHVlKSAmJiB2YWx1ZSAhPT0gbnVsbFxufVxuXG5mdW5jdGlvbiBpc0RlZmluZWQodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGxcbn1cblxuZnVuY3Rpb24gaXNCbGFuayh2YWx1ZSkge1xuICByZXR1cm4gIXZhbHVlLnRyaW0oKS5sZW5ndGhcbn1cblxuLy8gR2V0cyB0aGUgYHRvU3RyaW5nVGFnYCBvZiBgdmFsdWVgLlxuLy8gQWRhcHRlZCBmcm9tOiBodHRwczovL2dpdGh1Yi5jb20vbG9kYXNoL2xvZGFzaC9ibG9iL21hc3Rlci8uaW50ZXJuYWwvZ2V0VGFnLmpzXG5mdW5jdGlvbiBnZXRUYWcodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09IG51bGxcbiAgICA/IHZhbHVlID09PSB1bmRlZmluZWRcbiAgICAgID8gJ1tvYmplY3QgVW5kZWZpbmVkXSdcbiAgICAgIDogJ1tvYmplY3QgTnVsbF0nXG4gICAgOiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpXG59XG5cbmNvbnN0IEVYVEVOREVEX1NFQVJDSF9VTkFWQUlMQUJMRSA9ICdFeHRlbmRlZCBzZWFyY2ggaXMgbm90IGF2YWlsYWJsZSc7XG5cbmNvbnN0IElOQ09SUkVDVF9JTkRFWF9UWVBFID0gXCJJbmNvcnJlY3QgJ2luZGV4JyB0eXBlXCI7XG5cbmNvbnN0IExPR0lDQUxfU0VBUkNIX0lOVkFMSURfUVVFUllfRk9SX0tFWSA9IChrZXkpID0+XG4gIGBJbnZhbGlkIHZhbHVlIGZvciBrZXkgJHtrZXl9YDtcblxuY29uc3QgUEFUVEVSTl9MRU5HVEhfVE9PX0xBUkdFID0gKG1heCkgPT5cbiAgYFBhdHRlcm4gbGVuZ3RoIGV4Y2VlZHMgbWF4IG9mICR7bWF4fS5gO1xuXG5jb25zdCBNSVNTSU5HX0tFWV9QUk9QRVJUWSA9IChuYW1lKSA9PiBgTWlzc2luZyAke25hbWV9IHByb3BlcnR5IGluIGtleWA7XG5cbmNvbnN0IElOVkFMSURfS0VZX1dFSUdIVF9WQUxVRSA9IChrZXkpID0+XG4gIGBQcm9wZXJ0eSAnd2VpZ2h0JyBpbiBrZXkgJyR7a2V5fScgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXJgO1xuXG5jb25zdCBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG5jbGFzcyBLZXlTdG9yZSB7XG4gIGNvbnN0cnVjdG9yKGtleXMpIHtcbiAgICB0aGlzLl9rZXlzID0gW107XG4gICAgdGhpcy5fa2V5TWFwID0ge307XG5cbiAgICBsZXQgdG90YWxXZWlnaHQgPSAwO1xuXG4gICAga2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGxldCBvYmogPSBjcmVhdGVLZXkoa2V5KTtcblxuICAgICAgdGhpcy5fa2V5cy5wdXNoKG9iaik7XG4gICAgICB0aGlzLl9rZXlNYXBbb2JqLmlkXSA9IG9iajtcblxuICAgICAgdG90YWxXZWlnaHQgKz0gb2JqLndlaWdodDtcbiAgICB9KTtcblxuICAgIC8vIE5vcm1hbGl6ZSB3ZWlnaHRzIHNvIHRoYXQgdGhlaXIgc3VtIGlzIGVxdWFsIHRvIDFcbiAgICB0aGlzLl9rZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAga2V5LndlaWdodCAvPSB0b3RhbFdlaWdodDtcbiAgICB9KTtcbiAgfVxuICBnZXQoa2V5SWQpIHtcbiAgICByZXR1cm4gdGhpcy5fa2V5TWFwW2tleUlkXVxuICB9XG4gIGtleXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2tleXNcbiAgfVxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuX2tleXMpXG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlS2V5KGtleSkge1xuICBsZXQgcGF0aCA9IG51bGw7XG4gIGxldCBpZCA9IG51bGw7XG4gIGxldCBzcmMgPSBudWxsO1xuICBsZXQgd2VpZ2h0ID0gMTtcbiAgbGV0IGdldEZuID0gbnVsbDtcblxuICBpZiAoaXNTdHJpbmcoa2V5KSB8fCBpc0FycmF5KGtleSkpIHtcbiAgICBzcmMgPSBrZXk7XG4gICAgcGF0aCA9IGNyZWF0ZUtleVBhdGgoa2V5KTtcbiAgICBpZCA9IGNyZWF0ZUtleUlkKGtleSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCFoYXNPd24uY2FsbChrZXksICduYW1lJykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihNSVNTSU5HX0tFWV9QUk9QRVJUWSgnbmFtZScpKVxuICAgIH1cblxuICAgIGNvbnN0IG5hbWUgPSBrZXkubmFtZTtcbiAgICBzcmMgPSBuYW1lO1xuXG4gICAgaWYgKGhhc093bi5jYWxsKGtleSwgJ3dlaWdodCcpKSB7XG4gICAgICB3ZWlnaHQgPSBrZXkud2VpZ2h0O1xuXG4gICAgICBpZiAod2VpZ2h0IDw9IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKElOVkFMSURfS0VZX1dFSUdIVF9WQUxVRShuYW1lKSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwYXRoID0gY3JlYXRlS2V5UGF0aChuYW1lKTtcbiAgICBpZCA9IGNyZWF0ZUtleUlkKG5hbWUpO1xuICAgIGdldEZuID0ga2V5LmdldEZuO1xuICB9XG5cbiAgcmV0dXJuIHsgcGF0aCwgaWQsIHdlaWdodCwgc3JjLCBnZXRGbiB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUtleVBhdGgoa2V5KSB7XG4gIHJldHVybiBpc0FycmF5KGtleSkgPyBrZXkgOiBrZXkuc3BsaXQoJy4nKVxufVxuXG5mdW5jdGlvbiBjcmVhdGVLZXlJZChrZXkpIHtcbiAgcmV0dXJuIGlzQXJyYXkoa2V5KSA/IGtleS5qb2luKCcuJykgOiBrZXlcbn1cblxuZnVuY3Rpb24gZ2V0KG9iaiwgcGF0aCkge1xuICBsZXQgbGlzdCA9IFtdO1xuICBsZXQgYXJyID0gZmFsc2U7XG5cbiAgY29uc3QgZGVlcEdldCA9IChvYmosIHBhdGgsIGluZGV4KSA9PiB7XG4gICAgaWYgKCFpc0RlZmluZWQob2JqKSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICghcGF0aFtpbmRleF0pIHtcbiAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gcGF0aCBsZWZ0LCB3ZSd2ZSBhcnJpdmVkIGF0IHRoZSBvYmplY3Qgd2UgY2FyZSBhYm91dC5cbiAgICAgIGxpc3QucHVzaChvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQga2V5ID0gcGF0aFtpbmRleF07XG5cbiAgICAgIGNvbnN0IHZhbHVlID0gb2JqW2tleV07XG5cbiAgICAgIGlmICghaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgLy8gSWYgd2UncmUgYXQgdGhlIGxhc3QgdmFsdWUgaW4gdGhlIHBhdGgsIGFuZCBpZiBpdCdzIGEgc3RyaW5nL251bWJlci9ib29sLFxuICAgICAgLy8gYWRkIGl0IHRvIHRoZSBsaXN0XG4gICAgICBpZiAoXG4gICAgICAgIGluZGV4ID09PSBwYXRoLmxlbmd0aCAtIDEgJiZcbiAgICAgICAgKGlzU3RyaW5nKHZhbHVlKSB8fCBpc051bWJlcih2YWx1ZSkgfHwgaXNCb29sZWFuKHZhbHVlKSlcbiAgICAgICkge1xuICAgICAgICBsaXN0LnB1c2godG9TdHJpbmcodmFsdWUpKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgYXJyID0gdHJ1ZTtcbiAgICAgICAgLy8gU2VhcmNoIGVhY2ggaXRlbSBpbiB0aGUgYXJyYXkuXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSB2YWx1ZS5sZW5ndGg7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgICAgICAgIGRlZXBHZXQodmFsdWVbaV0sIHBhdGgsIGluZGV4ICsgMSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocGF0aC5sZW5ndGgpIHtcbiAgICAgICAgLy8gQW4gb2JqZWN0LiBSZWN1cnNlIGZ1cnRoZXIuXG4gICAgICAgIGRlZXBHZXQodmFsdWUsIHBhdGgsIGluZGV4ICsgMSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIEJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IChzaW5jZSBwYXRoIHVzZWQgdG8gYmUgYSBzdHJpbmcpXG4gIGRlZXBHZXQob2JqLCBpc1N0cmluZyhwYXRoKSA/IHBhdGguc3BsaXQoJy4nKSA6IHBhdGgsIDApO1xuXG4gIHJldHVybiBhcnIgPyBsaXN0IDogbGlzdFswXVxufVxuXG5jb25zdCBNYXRjaE9wdGlvbnMgPSB7XG4gIC8vIFdoZXRoZXIgdGhlIG1hdGNoZXMgc2hvdWxkIGJlIGluY2x1ZGVkIGluIHRoZSByZXN1bHQgc2V0LiBXaGVuIGB0cnVlYCwgZWFjaCByZWNvcmQgaW4gdGhlIHJlc3VsdFxuICAvLyBzZXQgd2lsbCBpbmNsdWRlIHRoZSBpbmRpY2VzIG9mIHRoZSBtYXRjaGVkIGNoYXJhY3RlcnMuXG4gIC8vIFRoZXNlIGNhbiBjb25zZXF1ZW50bHkgYmUgdXNlZCBmb3IgaGlnaGxpZ2h0aW5nIHB1cnBvc2VzLlxuICBpbmNsdWRlTWF0Y2hlczogZmFsc2UsXG4gIC8vIFdoZW4gYHRydWVgLCB0aGUgbWF0Y2hpbmcgZnVuY3Rpb24gd2lsbCBjb250aW51ZSB0byB0aGUgZW5kIG9mIGEgc2VhcmNoIHBhdHRlcm4gZXZlbiBpZlxuICAvLyBhIHBlcmZlY3QgbWF0Y2ggaGFzIGFscmVhZHkgYmVlbiBsb2NhdGVkIGluIHRoZSBzdHJpbmcuXG4gIGZpbmRBbGxNYXRjaGVzOiBmYWxzZSxcbiAgLy8gTWluaW11bSBudW1iZXIgb2YgY2hhcmFjdGVycyB0aGF0IG11c3QgYmUgbWF0Y2hlZCBiZWZvcmUgYSByZXN1bHQgaXMgY29uc2lkZXJlZCBhIG1hdGNoXG4gIG1pbk1hdGNoQ2hhckxlbmd0aDogMVxufTtcblxuY29uc3QgQmFzaWNPcHRpb25zID0ge1xuICAvLyBXaGVuIGB0cnVlYCwgdGhlIGFsZ29yaXRobSBjb250aW51ZXMgc2VhcmNoaW5nIHRvIHRoZSBlbmQgb2YgdGhlIGlucHV0IGV2ZW4gaWYgYSBwZXJmZWN0XG4gIC8vIG1hdGNoIGlzIGZvdW5kIGJlZm9yZSB0aGUgZW5kIG9mIHRoZSBzYW1lIGlucHV0LlxuICBpc0Nhc2VTZW5zaXRpdmU6IGZhbHNlLFxuICAvLyBXaGVuIHRydWUsIHRoZSBtYXRjaGluZyBmdW5jdGlvbiB3aWxsIGNvbnRpbnVlIHRvIHRoZSBlbmQgb2YgYSBzZWFyY2ggcGF0dGVybiBldmVuIGlmXG4gIGluY2x1ZGVTY29yZTogZmFsc2UsXG4gIC8vIExpc3Qgb2YgcHJvcGVydGllcyB0aGF0IHdpbGwgYmUgc2VhcmNoZWQuIFRoaXMgYWxzbyBzdXBwb3J0cyBuZXN0ZWQgcHJvcGVydGllcy5cbiAga2V5czogW10sXG4gIC8vIFdoZXRoZXIgdG8gc29ydCB0aGUgcmVzdWx0IGxpc3QsIGJ5IHNjb3JlXG4gIHNob3VsZFNvcnQ6IHRydWUsXG4gIC8vIERlZmF1bHQgc29ydCBmdW5jdGlvbjogc29ydCBieSBhc2NlbmRpbmcgc2NvcmUsIGFzY2VuZGluZyBpbmRleFxuICBzb3J0Rm46IChhLCBiKSA9PlxuICAgIGEuc2NvcmUgPT09IGIuc2NvcmUgPyAoYS5pZHggPCBiLmlkeCA/IC0xIDogMSkgOiBhLnNjb3JlIDwgYi5zY29yZSA/IC0xIDogMVxufTtcblxuY29uc3QgRnV6enlPcHRpb25zID0ge1xuICAvLyBBcHByb3hpbWF0ZWx5IHdoZXJlIGluIHRoZSB0ZXh0IGlzIHRoZSBwYXR0ZXJuIGV4cGVjdGVkIHRvIGJlIGZvdW5kP1xuICBsb2NhdGlvbjogMCxcbiAgLy8gQXQgd2hhdCBwb2ludCBkb2VzIHRoZSBtYXRjaCBhbGdvcml0aG0gZ2l2ZSB1cC4gQSB0aHJlc2hvbGQgb2YgJzAuMCcgcmVxdWlyZXMgYSBwZXJmZWN0IG1hdGNoXG4gIC8vIChvZiBib3RoIGxldHRlcnMgYW5kIGxvY2F0aW9uKSwgYSB0aHJlc2hvbGQgb2YgJzEuMCcgd291bGQgbWF0Y2ggYW55dGhpbmcuXG4gIHRocmVzaG9sZDogMC42LFxuICAvLyBEZXRlcm1pbmVzIGhvdyBjbG9zZSB0aGUgbWF0Y2ggbXVzdCBiZSB0byB0aGUgZnV6enkgbG9jYXRpb24gKHNwZWNpZmllZCBhYm92ZSkuXG4gIC8vIEFuIGV4YWN0IGxldHRlciBtYXRjaCB3aGljaCBpcyAnZGlzdGFuY2UnIGNoYXJhY3RlcnMgYXdheSBmcm9tIHRoZSBmdXp6eSBsb2NhdGlvblxuICAvLyB3b3VsZCBzY29yZSBhcyBhIGNvbXBsZXRlIG1pc21hdGNoLiBBIGRpc3RhbmNlIG9mICcwJyByZXF1aXJlcyB0aGUgbWF0Y2ggYmUgYXRcbiAgLy8gdGhlIGV4YWN0IGxvY2F0aW9uIHNwZWNpZmllZCwgYSB0aHJlc2hvbGQgb2YgJzEwMDAnIHdvdWxkIHJlcXVpcmUgYSBwZXJmZWN0IG1hdGNoXG4gIC8vIHRvIGJlIHdpdGhpbiA4MDAgY2hhcmFjdGVycyBvZiB0aGUgZnV6enkgbG9jYXRpb24gdG8gYmUgZm91bmQgdXNpbmcgYSAwLjggdGhyZXNob2xkLlxuICBkaXN0YW5jZTogMTAwXG59O1xuXG5jb25zdCBBZHZhbmNlZE9wdGlvbnMgPSB7XG4gIC8vIFdoZW4gYHRydWVgLCBpdCBlbmFibGVzIHRoZSB1c2Ugb2YgdW5peC1saWtlIHNlYXJjaCBjb21tYW5kc1xuICB1c2VFeHRlbmRlZFNlYXJjaDogZmFsc2UsXG4gIC8vIFRoZSBnZXQgZnVuY3Rpb24gdG8gdXNlIHdoZW4gZmV0Y2hpbmcgYW4gb2JqZWN0J3MgcHJvcGVydGllcy5cbiAgLy8gVGhlIGRlZmF1bHQgd2lsbCBzZWFyY2ggbmVzdGVkIHBhdGhzICppZSBmb28uYmFyLmJheipcbiAgZ2V0Rm46IGdldCxcbiAgLy8gV2hlbiBgdHJ1ZWAsIHNlYXJjaCB3aWxsIGlnbm9yZSBgbG9jYXRpb25gIGFuZCBgZGlzdGFuY2VgLCBzbyBpdCB3b24ndCBtYXR0ZXJcbiAgLy8gd2hlcmUgaW4gdGhlIHN0cmluZyB0aGUgcGF0dGVybiBhcHBlYXJzLlxuICAvLyBNb3JlIGluZm86IGh0dHBzOi8vZnVzZWpzLmlvL2NvbmNlcHRzL3Njb3JpbmctdGhlb3J5Lmh0bWwjZnV6emluZXNzLXNjb3JlXG4gIGlnbm9yZUxvY2F0aW9uOiBmYWxzZSxcbiAgLy8gV2hlbiBgdHJ1ZWAsIHRoZSBjYWxjdWxhdGlvbiBmb3IgdGhlIHJlbGV2YW5jZSBzY29yZSAodXNlZCBmb3Igc29ydGluZykgd2lsbFxuICAvLyBpZ25vcmUgdGhlIGZpZWxkLWxlbmd0aCBub3JtLlxuICAvLyBNb3JlIGluZm86IGh0dHBzOi8vZnVzZWpzLmlvL2NvbmNlcHRzL3Njb3JpbmctdGhlb3J5Lmh0bWwjZmllbGQtbGVuZ3RoLW5vcm1cbiAgaWdub3JlRmllbGROb3JtOiBmYWxzZSxcbiAgLy8gVGhlIHdlaWdodCB0byBkZXRlcm1pbmUgaG93IG11Y2ggZmllbGQgbGVuZ3RoIG5vcm0gZWZmZWN0cyBzY29yaW5nLlxuICBmaWVsZE5vcm1XZWlnaHQ6IDFcbn07XG5cbnZhciBDb25maWcgPSB7XG4gIC4uLkJhc2ljT3B0aW9ucyxcbiAgLi4uTWF0Y2hPcHRpb25zLFxuICAuLi5GdXp6eU9wdGlvbnMsXG4gIC4uLkFkdmFuY2VkT3B0aW9uc1xufTtcblxuY29uc3QgU1BBQ0UgPSAvW14gXSsvZztcblxuLy8gRmllbGQtbGVuZ3RoIG5vcm06IHRoZSBzaG9ydGVyIHRoZSBmaWVsZCwgdGhlIGhpZ2hlciB0aGUgd2VpZ2h0LlxuLy8gU2V0IHRvIDMgZGVjaW1hbHMgdG8gcmVkdWNlIGluZGV4IHNpemUuXG5mdW5jdGlvbiBub3JtKHdlaWdodCA9IDEsIG1hbnRpc3NhID0gMykge1xuICBjb25zdCBjYWNoZSA9IG5ldyBNYXAoKTtcbiAgY29uc3QgbSA9IE1hdGgucG93KDEwLCBtYW50aXNzYSk7XG5cbiAgcmV0dXJuIHtcbiAgICBnZXQodmFsdWUpIHtcbiAgICAgIGNvbnN0IG51bVRva2VucyA9IHZhbHVlLm1hdGNoKFNQQUNFKS5sZW5ndGg7XG5cbiAgICAgIGlmIChjYWNoZS5oYXMobnVtVG9rZW5zKSkge1xuICAgICAgICByZXR1cm4gY2FjaGUuZ2V0KG51bVRva2VucylcbiAgICAgIH1cblxuICAgICAgLy8gRGVmYXVsdCBmdW5jdGlvbiBpcyAxL3NxcnQoeCksIHdlaWdodCBtYWtlcyB0aGF0IHZhcmlhYmxlXG4gICAgICBjb25zdCBub3JtID0gMSAvIE1hdGgucG93KG51bVRva2VucywgMC41ICogd2VpZ2h0KTtcblxuICAgICAgLy8gSW4gcGxhY2Ugb2YgYHRvRml4ZWQobWFudGlzc2EpYCwgZm9yIGZhc3RlciBjb21wdXRhdGlvblxuICAgICAgY29uc3QgbiA9IHBhcnNlRmxvYXQoTWF0aC5yb3VuZChub3JtICogbSkgLyBtKTtcblxuICAgICAgY2FjaGUuc2V0KG51bVRva2Vucywgbik7XG5cbiAgICAgIHJldHVybiBuXG4gICAgfSxcbiAgICBjbGVhcigpIHtcbiAgICAgIGNhY2hlLmNsZWFyKCk7XG4gICAgfVxuICB9XG59XG5cbmNsYXNzIEZ1c2VJbmRleCB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBnZXRGbiA9IENvbmZpZy5nZXRGbixcbiAgICBmaWVsZE5vcm1XZWlnaHQgPSBDb25maWcuZmllbGROb3JtV2VpZ2h0XG4gIH0gPSB7fSkge1xuICAgIHRoaXMubm9ybSA9IG5vcm0oZmllbGROb3JtV2VpZ2h0LCAzKTtcbiAgICB0aGlzLmdldEZuID0gZ2V0Rm47XG4gICAgdGhpcy5pc0NyZWF0ZWQgPSBmYWxzZTtcblxuICAgIHRoaXMuc2V0SW5kZXhSZWNvcmRzKCk7XG4gIH1cbiAgc2V0U291cmNlcyhkb2NzID0gW10pIHtcbiAgICB0aGlzLmRvY3MgPSBkb2NzO1xuICB9XG4gIHNldEluZGV4UmVjb3JkcyhyZWNvcmRzID0gW10pIHtcbiAgICB0aGlzLnJlY29yZHMgPSByZWNvcmRzO1xuICB9XG4gIHNldEtleXMoa2V5cyA9IFtdKSB7XG4gICAgdGhpcy5rZXlzID0ga2V5cztcbiAgICB0aGlzLl9rZXlzTWFwID0ge307XG4gICAga2V5cy5mb3JFYWNoKChrZXksIGlkeCkgPT4ge1xuICAgICAgdGhpcy5fa2V5c01hcFtrZXkuaWRdID0gaWR4O1xuICAgIH0pO1xuICB9XG4gIGNyZWF0ZSgpIHtcbiAgICBpZiAodGhpcy5pc0NyZWF0ZWQgfHwgIXRoaXMuZG9jcy5sZW5ndGgpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMuaXNDcmVhdGVkID0gdHJ1ZTtcblxuICAgIC8vIExpc3QgaXMgQXJyYXk8U3RyaW5nPlxuICAgIGlmIChpc1N0cmluZyh0aGlzLmRvY3NbMF0pKSB7XG4gICAgICB0aGlzLmRvY3MuZm9yRWFjaCgoZG9jLCBkb2NJbmRleCkgPT4ge1xuICAgICAgICB0aGlzLl9hZGRTdHJpbmcoZG9jLCBkb2NJbmRleCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTGlzdCBpcyBBcnJheTxPYmplY3Q+XG4gICAgICB0aGlzLmRvY3MuZm9yRWFjaCgoZG9jLCBkb2NJbmRleCkgPT4ge1xuICAgICAgICB0aGlzLl9hZGRPYmplY3QoZG9jLCBkb2NJbmRleCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLm5vcm0uY2xlYXIoKTtcbiAgfVxuICAvLyBBZGRzIGEgZG9jIHRvIHRoZSBlbmQgb2YgdGhlIGluZGV4XG4gIGFkZChkb2MpIHtcbiAgICBjb25zdCBpZHggPSB0aGlzLnNpemUoKTtcblxuICAgIGlmIChpc1N0cmluZyhkb2MpKSB7XG4gICAgICB0aGlzLl9hZGRTdHJpbmcoZG9jLCBpZHgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9hZGRPYmplY3QoZG9jLCBpZHgpO1xuICAgIH1cbiAgfVxuICAvLyBSZW1vdmVzIHRoZSBkb2MgYXQgdGhlIHNwZWNpZmllZCBpbmRleCBvZiB0aGUgaW5kZXhcbiAgcmVtb3ZlQXQoaWR4KSB7XG4gICAgdGhpcy5yZWNvcmRzLnNwbGljZShpZHgsIDEpO1xuXG4gICAgLy8gQ2hhbmdlIHJlZiBpbmRleCBvZiBldmVyeSBzdWJzcXVlbnQgZG9jXG4gICAgZm9yIChsZXQgaSA9IGlkeCwgbGVuID0gdGhpcy5zaXplKCk7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgICAgdGhpcy5yZWNvcmRzW2ldLmkgLT0gMTtcbiAgICB9XG4gIH1cbiAgZ2V0VmFsdWVGb3JJdGVtQXRLZXlJZChpdGVtLCBrZXlJZCkge1xuICAgIHJldHVybiBpdGVtW3RoaXMuX2tleXNNYXBba2V5SWRdXVxuICB9XG4gIHNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVjb3Jkcy5sZW5ndGhcbiAgfVxuICBfYWRkU3RyaW5nKGRvYywgZG9jSW5kZXgpIHtcbiAgICBpZiAoIWlzRGVmaW5lZChkb2MpIHx8IGlzQmxhbmsoZG9jKSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgbGV0IHJlY29yZCA9IHtcbiAgICAgIHY6IGRvYyxcbiAgICAgIGk6IGRvY0luZGV4LFxuICAgICAgbjogdGhpcy5ub3JtLmdldChkb2MpXG4gICAgfTtcblxuICAgIHRoaXMucmVjb3Jkcy5wdXNoKHJlY29yZCk7XG4gIH1cbiAgX2FkZE9iamVjdChkb2MsIGRvY0luZGV4KSB7XG4gICAgbGV0IHJlY29yZCA9IHsgaTogZG9jSW5kZXgsICQ6IHt9IH07XG5cbiAgICAvLyBJdGVyYXRlIG92ZXIgZXZlcnkga2V5IChpLmUsIHBhdGgpLCBhbmQgZmV0Y2ggdGhlIHZhbHVlIGF0IHRoYXQga2V5XG4gICAgdGhpcy5rZXlzLmZvckVhY2goKGtleSwga2V5SW5kZXgpID0+IHtcbiAgICAgIGxldCB2YWx1ZSA9IGtleS5nZXRGbiA/IGtleS5nZXRGbihkb2MpIDogdGhpcy5nZXRGbihkb2MsIGtleS5wYXRoKTtcblxuICAgICAgaWYgKCFpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgbGV0IHN1YlJlY29yZHMgPSBbXTtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBbeyBuZXN0ZWRBcnJJbmRleDogLTEsIHZhbHVlIH1dO1xuXG4gICAgICAgIHdoaWxlIChzdGFjay5sZW5ndGgpIHtcbiAgICAgICAgICBjb25zdCB7IG5lc3RlZEFyckluZGV4LCB2YWx1ZSB9ID0gc3RhY2sucG9wKCk7XG5cbiAgICAgICAgICBpZiAoIWlzRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGlzU3RyaW5nKHZhbHVlKSAmJiAhaXNCbGFuayh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGxldCBzdWJSZWNvcmQgPSB7XG4gICAgICAgICAgICAgIHY6IHZhbHVlLFxuICAgICAgICAgICAgICBpOiBuZXN0ZWRBcnJJbmRleCxcbiAgICAgICAgICAgICAgbjogdGhpcy5ub3JtLmdldCh2YWx1ZSlcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHN1YlJlY29yZHMucHVzaChzdWJSZWNvcmQpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbHVlLmZvckVhY2goKGl0ZW0sIGspID0+IHtcbiAgICAgICAgICAgICAgc3RhY2sucHVzaCh7XG4gICAgICAgICAgICAgICAgbmVzdGVkQXJySW5kZXg6IGssXG4gICAgICAgICAgICAgICAgdmFsdWU6IGl0ZW1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2UgO1xuICAgICAgICB9XG4gICAgICAgIHJlY29yZC4kW2tleUluZGV4XSA9IHN1YlJlY29yZHM7XG4gICAgICB9IGVsc2UgaWYgKGlzU3RyaW5nKHZhbHVlKSAmJiAhaXNCbGFuayh2YWx1ZSkpIHtcbiAgICAgICAgbGV0IHN1YlJlY29yZCA9IHtcbiAgICAgICAgICB2OiB2YWx1ZSxcbiAgICAgICAgICBuOiB0aGlzLm5vcm0uZ2V0KHZhbHVlKVxuICAgICAgICB9O1xuXG4gICAgICAgIHJlY29yZC4kW2tleUluZGV4XSA9IHN1YlJlY29yZDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMucmVjb3Jkcy5wdXNoKHJlY29yZCk7XG4gIH1cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBrZXlzOiB0aGlzLmtleXMsXG4gICAgICByZWNvcmRzOiB0aGlzLnJlY29yZHNcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlSW5kZXgoXG4gIGtleXMsXG4gIGRvY3MsXG4gIHsgZ2V0Rm4gPSBDb25maWcuZ2V0Rm4sIGZpZWxkTm9ybVdlaWdodCA9IENvbmZpZy5maWVsZE5vcm1XZWlnaHQgfSA9IHt9XG4pIHtcbiAgY29uc3QgbXlJbmRleCA9IG5ldyBGdXNlSW5kZXgoeyBnZXRGbiwgZmllbGROb3JtV2VpZ2h0IH0pO1xuICBteUluZGV4LnNldEtleXMoa2V5cy5tYXAoY3JlYXRlS2V5KSk7XG4gIG15SW5kZXguc2V0U291cmNlcyhkb2NzKTtcbiAgbXlJbmRleC5jcmVhdGUoKTtcbiAgcmV0dXJuIG15SW5kZXhcbn1cblxuZnVuY3Rpb24gcGFyc2VJbmRleChcbiAgZGF0YSxcbiAgeyBnZXRGbiA9IENvbmZpZy5nZXRGbiwgZmllbGROb3JtV2VpZ2h0ID0gQ29uZmlnLmZpZWxkTm9ybVdlaWdodCB9ID0ge31cbikge1xuICBjb25zdCB7IGtleXMsIHJlY29yZHMgfSA9IGRhdGE7XG4gIGNvbnN0IG15SW5kZXggPSBuZXcgRnVzZUluZGV4KHsgZ2V0Rm4sIGZpZWxkTm9ybVdlaWdodCB9KTtcbiAgbXlJbmRleC5zZXRLZXlzKGtleXMpO1xuICBteUluZGV4LnNldEluZGV4UmVjb3JkcyhyZWNvcmRzKTtcbiAgcmV0dXJuIG15SW5kZXhcbn1cblxuZnVuY3Rpb24gY29tcHV0ZVNjb3JlJDEoXG4gIHBhdHRlcm4sXG4gIHtcbiAgICBlcnJvcnMgPSAwLFxuICAgIGN1cnJlbnRMb2NhdGlvbiA9IDAsXG4gICAgZXhwZWN0ZWRMb2NhdGlvbiA9IDAsXG4gICAgZGlzdGFuY2UgPSBDb25maWcuZGlzdGFuY2UsXG4gICAgaWdub3JlTG9jYXRpb24gPSBDb25maWcuaWdub3JlTG9jYXRpb25cbiAgfSA9IHt9XG4pIHtcbiAgY29uc3QgYWNjdXJhY3kgPSBlcnJvcnMgLyBwYXR0ZXJuLmxlbmd0aDtcblxuICBpZiAoaWdub3JlTG9jYXRpb24pIHtcbiAgICByZXR1cm4gYWNjdXJhY3lcbiAgfVxuXG4gIGNvbnN0IHByb3hpbWl0eSA9IE1hdGguYWJzKGV4cGVjdGVkTG9jYXRpb24gLSBjdXJyZW50TG9jYXRpb24pO1xuXG4gIGlmICghZGlzdGFuY2UpIHtcbiAgICAvLyBEb2RnZSBkaXZpZGUgYnkgemVybyBlcnJvci5cbiAgICByZXR1cm4gcHJveGltaXR5ID8gMS4wIDogYWNjdXJhY3lcbiAgfVxuXG4gIHJldHVybiBhY2N1cmFjeSArIHByb3hpbWl0eSAvIGRpc3RhbmNlXG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRNYXNrVG9JbmRpY2VzKFxuICBtYXRjaG1hc2sgPSBbXSxcbiAgbWluTWF0Y2hDaGFyTGVuZ3RoID0gQ29uZmlnLm1pbk1hdGNoQ2hhckxlbmd0aFxuKSB7XG4gIGxldCBpbmRpY2VzID0gW107XG4gIGxldCBzdGFydCA9IC0xO1xuICBsZXQgZW5kID0gLTE7XG4gIGxldCBpID0gMDtcblxuICBmb3IgKGxldCBsZW4gPSBtYXRjaG1hc2subGVuZ3RoOyBpIDwgbGVuOyBpICs9IDEpIHtcbiAgICBsZXQgbWF0Y2ggPSBtYXRjaG1hc2tbaV07XG4gICAgaWYgKG1hdGNoICYmIHN0YXJ0ID09PSAtMSkge1xuICAgICAgc3RhcnQgPSBpO1xuICAgIH0gZWxzZSBpZiAoIW1hdGNoICYmIHN0YXJ0ICE9PSAtMSkge1xuICAgICAgZW5kID0gaSAtIDE7XG4gICAgICBpZiAoZW5kIC0gc3RhcnQgKyAxID49IG1pbk1hdGNoQ2hhckxlbmd0aCkge1xuICAgICAgICBpbmRpY2VzLnB1c2goW3N0YXJ0LCBlbmRdKTtcbiAgICAgIH1cbiAgICAgIHN0YXJ0ID0gLTE7XG4gICAgfVxuICB9XG5cbiAgLy8gKGktMSAtIHN0YXJ0KSArIDEgPT4gaSAtIHN0YXJ0XG4gIGlmIChtYXRjaG1hc2tbaSAtIDFdICYmIGkgLSBzdGFydCA+PSBtaW5NYXRjaENoYXJMZW5ndGgpIHtcbiAgICBpbmRpY2VzLnB1c2goW3N0YXJ0LCBpIC0gMV0pO1xuICB9XG5cbiAgcmV0dXJuIGluZGljZXNcbn1cblxuLy8gTWFjaGluZSB3b3JkIHNpemVcbmNvbnN0IE1BWF9CSVRTID0gMzI7XG5cbmZ1bmN0aW9uIHNlYXJjaChcbiAgdGV4dCxcbiAgcGF0dGVybixcbiAgcGF0dGVybkFscGhhYmV0LFxuICB7XG4gICAgbG9jYXRpb24gPSBDb25maWcubG9jYXRpb24sXG4gICAgZGlzdGFuY2UgPSBDb25maWcuZGlzdGFuY2UsXG4gICAgdGhyZXNob2xkID0gQ29uZmlnLnRocmVzaG9sZCxcbiAgICBmaW5kQWxsTWF0Y2hlcyA9IENvbmZpZy5maW5kQWxsTWF0Y2hlcyxcbiAgICBtaW5NYXRjaENoYXJMZW5ndGggPSBDb25maWcubWluTWF0Y2hDaGFyTGVuZ3RoLFxuICAgIGluY2x1ZGVNYXRjaGVzID0gQ29uZmlnLmluY2x1ZGVNYXRjaGVzLFxuICAgIGlnbm9yZUxvY2F0aW9uID0gQ29uZmlnLmlnbm9yZUxvY2F0aW9uXG4gIH0gPSB7fVxuKSB7XG4gIGlmIChwYXR0ZXJuLmxlbmd0aCA+IE1BWF9CSVRTKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFBBVFRFUk5fTEVOR1RIX1RPT19MQVJHRShNQVhfQklUUykpXG4gIH1cblxuICBjb25zdCBwYXR0ZXJuTGVuID0gcGF0dGVybi5sZW5ndGg7XG4gIC8vIFNldCBzdGFydGluZyBsb2NhdGlvbiBhdCBiZWdpbm5pbmcgdGV4dCBhbmQgaW5pdGlhbGl6ZSB0aGUgYWxwaGFiZXQuXG4gIGNvbnN0IHRleHRMZW4gPSB0ZXh0Lmxlbmd0aDtcbiAgLy8gSGFuZGxlIHRoZSBjYXNlIHdoZW4gbG9jYXRpb24gPiB0ZXh0Lmxlbmd0aFxuICBjb25zdCBleHBlY3RlZExvY2F0aW9uID0gTWF0aC5tYXgoMCwgTWF0aC5taW4obG9jYXRpb24sIHRleHRMZW4pKTtcbiAgLy8gSGlnaGVzdCBzY29yZSBiZXlvbmQgd2hpY2ggd2UgZ2l2ZSB1cC5cbiAgbGV0IGN1cnJlbnRUaHJlc2hvbGQgPSB0aHJlc2hvbGQ7XG4gIC8vIElzIHRoZXJlIGEgbmVhcmJ5IGV4YWN0IG1hdGNoPyAoc3BlZWR1cClcbiAgbGV0IGJlc3RMb2NhdGlvbiA9IGV4cGVjdGVkTG9jYXRpb247XG5cbiAgLy8gUGVyZm9ybWFuY2U6IG9ubHkgY29tcHV0ZXIgbWF0Y2hlcyB3aGVuIHRoZSBtaW5NYXRjaENoYXJMZW5ndGggPiAxXG4gIC8vIE9SIGlmIGBpbmNsdWRlTWF0Y2hlc2AgaXMgdHJ1ZS5cbiAgY29uc3QgY29tcHV0ZU1hdGNoZXMgPSBtaW5NYXRjaENoYXJMZW5ndGggPiAxIHx8IGluY2x1ZGVNYXRjaGVzO1xuICAvLyBBIG1hc2sgb2YgdGhlIG1hdGNoZXMsIHVzZWQgZm9yIGJ1aWxkaW5nIHRoZSBpbmRpY2VzXG4gIGNvbnN0IG1hdGNoTWFzayA9IGNvbXB1dGVNYXRjaGVzID8gQXJyYXkodGV4dExlbikgOiBbXTtcblxuICBsZXQgaW5kZXg7XG5cbiAgLy8gR2V0IGFsbCBleGFjdCBtYXRjaGVzLCBoZXJlIGZvciBzcGVlZCB1cFxuICB3aGlsZSAoKGluZGV4ID0gdGV4dC5pbmRleE9mKHBhdHRlcm4sIGJlc3RMb2NhdGlvbikpID4gLTEpIHtcbiAgICBsZXQgc2NvcmUgPSBjb21wdXRlU2NvcmUkMShwYXR0ZXJuLCB7XG4gICAgICBjdXJyZW50TG9jYXRpb246IGluZGV4LFxuICAgICAgZXhwZWN0ZWRMb2NhdGlvbixcbiAgICAgIGRpc3RhbmNlLFxuICAgICAgaWdub3JlTG9jYXRpb25cbiAgICB9KTtcblxuICAgIGN1cnJlbnRUaHJlc2hvbGQgPSBNYXRoLm1pbihzY29yZSwgY3VycmVudFRocmVzaG9sZCk7XG4gICAgYmVzdExvY2F0aW9uID0gaW5kZXggKyBwYXR0ZXJuTGVuO1xuXG4gICAgaWYgKGNvbXB1dGVNYXRjaGVzKSB7XG4gICAgICBsZXQgaSA9IDA7XG4gICAgICB3aGlsZSAoaSA8IHBhdHRlcm5MZW4pIHtcbiAgICAgICAgbWF0Y2hNYXNrW2luZGV4ICsgaV0gPSAxO1xuICAgICAgICBpICs9IDE7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gUmVzZXQgdGhlIGJlc3QgbG9jYXRpb25cbiAgYmVzdExvY2F0aW9uID0gLTE7XG5cbiAgbGV0IGxhc3RCaXRBcnIgPSBbXTtcbiAgbGV0IGZpbmFsU2NvcmUgPSAxO1xuICBsZXQgYmluTWF4ID0gcGF0dGVybkxlbiArIHRleHRMZW47XG5cbiAgY29uc3QgbWFzayA9IDEgPDwgKHBhdHRlcm5MZW4gLSAxKTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdHRlcm5MZW47IGkgKz0gMSkge1xuICAgIC8vIFNjYW4gZm9yIHRoZSBiZXN0IG1hdGNoOyBlYWNoIGl0ZXJhdGlvbiBhbGxvd3MgZm9yIG9uZSBtb3JlIGVycm9yLlxuICAgIC8vIFJ1biBhIGJpbmFyeSBzZWFyY2ggdG8gZGV0ZXJtaW5lIGhvdyBmYXIgZnJvbSB0aGUgbWF0Y2ggbG9jYXRpb24gd2UgY2FuIHN0cmF5XG4gICAgLy8gYXQgdGhpcyBlcnJvciBsZXZlbC5cbiAgICBsZXQgYmluTWluID0gMDtcbiAgICBsZXQgYmluTWlkID0gYmluTWF4O1xuXG4gICAgd2hpbGUgKGJpbk1pbiA8IGJpbk1pZCkge1xuICAgICAgY29uc3Qgc2NvcmUgPSBjb21wdXRlU2NvcmUkMShwYXR0ZXJuLCB7XG4gICAgICAgIGVycm9yczogaSxcbiAgICAgICAgY3VycmVudExvY2F0aW9uOiBleHBlY3RlZExvY2F0aW9uICsgYmluTWlkLFxuICAgICAgICBleHBlY3RlZExvY2F0aW9uLFxuICAgICAgICBkaXN0YW5jZSxcbiAgICAgICAgaWdub3JlTG9jYXRpb25cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoc2NvcmUgPD0gY3VycmVudFRocmVzaG9sZCkge1xuICAgICAgICBiaW5NaW4gPSBiaW5NaWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiaW5NYXggPSBiaW5NaWQ7XG4gICAgICB9XG5cbiAgICAgIGJpbk1pZCA9IE1hdGguZmxvb3IoKGJpbk1heCAtIGJpbk1pbikgLyAyICsgYmluTWluKTtcbiAgICB9XG5cbiAgICAvLyBVc2UgdGhlIHJlc3VsdCBmcm9tIHRoaXMgaXRlcmF0aW9uIGFzIHRoZSBtYXhpbXVtIGZvciB0aGUgbmV4dC5cbiAgICBiaW5NYXggPSBiaW5NaWQ7XG5cbiAgICBsZXQgc3RhcnQgPSBNYXRoLm1heCgxLCBleHBlY3RlZExvY2F0aW9uIC0gYmluTWlkICsgMSk7XG4gICAgbGV0IGZpbmlzaCA9IGZpbmRBbGxNYXRjaGVzXG4gICAgICA/IHRleHRMZW5cbiAgICAgIDogTWF0aC5taW4oZXhwZWN0ZWRMb2NhdGlvbiArIGJpbk1pZCwgdGV4dExlbikgKyBwYXR0ZXJuTGVuO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSB0aGUgYml0IGFycmF5XG4gICAgbGV0IGJpdEFyciA9IEFycmF5KGZpbmlzaCArIDIpO1xuXG4gICAgYml0QXJyW2ZpbmlzaCArIDFdID0gKDEgPDwgaSkgLSAxO1xuXG4gICAgZm9yIChsZXQgaiA9IGZpbmlzaDsgaiA+PSBzdGFydDsgaiAtPSAxKSB7XG4gICAgICBsZXQgY3VycmVudExvY2F0aW9uID0gaiAtIDE7XG4gICAgICBsZXQgY2hhck1hdGNoID0gcGF0dGVybkFscGhhYmV0W3RleHQuY2hhckF0KGN1cnJlbnRMb2NhdGlvbildO1xuXG4gICAgICBpZiAoY29tcHV0ZU1hdGNoZXMpIHtcbiAgICAgICAgLy8gU3BlZWQgdXA6IHF1aWNrIGJvb2wgdG8gaW50IGNvbnZlcnNpb24gKGkuZSwgYGNoYXJNYXRjaCA/IDEgOiAwYClcbiAgICAgICAgbWF0Y2hNYXNrW2N1cnJlbnRMb2NhdGlvbl0gPSArISFjaGFyTWF0Y2g7XG4gICAgICB9XG5cbiAgICAgIC8vIEZpcnN0IHBhc3M6IGV4YWN0IG1hdGNoXG4gICAgICBiaXRBcnJbal0gPSAoKGJpdEFycltqICsgMV0gPDwgMSkgfCAxKSAmIGNoYXJNYXRjaDtcblxuICAgICAgLy8gU3Vic2VxdWVudCBwYXNzZXM6IGZ1enp5IG1hdGNoXG4gICAgICBpZiAoaSkge1xuICAgICAgICBiaXRBcnJbal0gfD1cbiAgICAgICAgICAoKGxhc3RCaXRBcnJbaiArIDFdIHwgbGFzdEJpdEFycltqXSkgPDwgMSkgfCAxIHwgbGFzdEJpdEFycltqICsgMV07XG4gICAgICB9XG5cbiAgICAgIGlmIChiaXRBcnJbal0gJiBtYXNrKSB7XG4gICAgICAgIGZpbmFsU2NvcmUgPSBjb21wdXRlU2NvcmUkMShwYXR0ZXJuLCB7XG4gICAgICAgICAgZXJyb3JzOiBpLFxuICAgICAgICAgIGN1cnJlbnRMb2NhdGlvbixcbiAgICAgICAgICBleHBlY3RlZExvY2F0aW9uLFxuICAgICAgICAgIGRpc3RhbmNlLFxuICAgICAgICAgIGlnbm9yZUxvY2F0aW9uXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFRoaXMgbWF0Y2ggd2lsbCBhbG1vc3QgY2VydGFpbmx5IGJlIGJldHRlciB0aGFuIGFueSBleGlzdGluZyBtYXRjaC5cbiAgICAgICAgLy8gQnV0IGNoZWNrIGFueXdheS5cbiAgICAgICAgaWYgKGZpbmFsU2NvcmUgPD0gY3VycmVudFRocmVzaG9sZCkge1xuICAgICAgICAgIC8vIEluZGVlZCBpdCBpc1xuICAgICAgICAgIGN1cnJlbnRUaHJlc2hvbGQgPSBmaW5hbFNjb3JlO1xuICAgICAgICAgIGJlc3RMb2NhdGlvbiA9IGN1cnJlbnRMb2NhdGlvbjtcblxuICAgICAgICAgIC8vIEFscmVhZHkgcGFzc2VkIGBsb2NgLCBkb3duaGlsbCBmcm9tIGhlcmUgb24gaW4uXG4gICAgICAgICAgaWYgKGJlc3RMb2NhdGlvbiA8PSBleHBlY3RlZExvY2F0aW9uKSB7XG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFdoZW4gcGFzc2luZyBgYmVzdExvY2F0aW9uYCwgZG9uJ3QgZXhjZWVkIG91ciBjdXJyZW50IGRpc3RhbmNlIGZyb20gYGV4cGVjdGVkTG9jYXRpb25gLlxuICAgICAgICAgIHN0YXJ0ID0gTWF0aC5tYXgoMSwgMiAqIGV4cGVjdGVkTG9jYXRpb24gLSBiZXN0TG9jYXRpb24pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTm8gaG9wZSBmb3IgYSAoYmV0dGVyKSBtYXRjaCBhdCBncmVhdGVyIGVycm9yIGxldmVscy5cbiAgICBjb25zdCBzY29yZSA9IGNvbXB1dGVTY29yZSQxKHBhdHRlcm4sIHtcbiAgICAgIGVycm9yczogaSArIDEsXG4gICAgICBjdXJyZW50TG9jYXRpb246IGV4cGVjdGVkTG9jYXRpb24sXG4gICAgICBleHBlY3RlZExvY2F0aW9uLFxuICAgICAgZGlzdGFuY2UsXG4gICAgICBpZ25vcmVMb2NhdGlvblxuICAgIH0pO1xuXG4gICAgaWYgKHNjb3JlID4gY3VycmVudFRocmVzaG9sZCkge1xuICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICBsYXN0Qml0QXJyID0gYml0QXJyO1xuICB9XG5cbiAgY29uc3QgcmVzdWx0ID0ge1xuICAgIGlzTWF0Y2g6IGJlc3RMb2NhdGlvbiA+PSAwLFxuICAgIC8vIENvdW50IGV4YWN0IG1hdGNoZXMgKHRob3NlIHdpdGggYSBzY29yZSBvZiAwKSB0byBiZSBcImFsbW9zdFwiIGV4YWN0XG4gICAgc2NvcmU6IE1hdGgubWF4KDAuMDAxLCBmaW5hbFNjb3JlKVxuICB9O1xuXG4gIGlmIChjb21wdXRlTWF0Y2hlcykge1xuICAgIGNvbnN0IGluZGljZXMgPSBjb252ZXJ0TWFza1RvSW5kaWNlcyhtYXRjaE1hc2ssIG1pbk1hdGNoQ2hhckxlbmd0aCk7XG4gICAgaWYgKCFpbmRpY2VzLmxlbmd0aCkge1xuICAgICAgcmVzdWx0LmlzTWF0Y2ggPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKGluY2x1ZGVNYXRjaGVzKSB7XG4gICAgICByZXN1bHQuaW5kaWNlcyA9IGluZGljZXM7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5mdW5jdGlvbiBjcmVhdGVQYXR0ZXJuQWxwaGFiZXQocGF0dGVybikge1xuICBsZXQgbWFzayA9IHt9O1xuXG4gIGZvciAobGV0IGkgPSAwLCBsZW4gPSBwYXR0ZXJuLmxlbmd0aDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgY29uc3QgY2hhciA9IHBhdHRlcm4uY2hhckF0KGkpO1xuICAgIG1hc2tbY2hhcl0gPSAobWFza1tjaGFyXSB8fCAwKSB8ICgxIDw8IChsZW4gLSBpIC0gMSkpO1xuICB9XG5cbiAgcmV0dXJuIG1hc2tcbn1cblxuY2xhc3MgQml0YXBTZWFyY2gge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwYXR0ZXJuLFxuICAgIHtcbiAgICAgIGxvY2F0aW9uID0gQ29uZmlnLmxvY2F0aW9uLFxuICAgICAgdGhyZXNob2xkID0gQ29uZmlnLnRocmVzaG9sZCxcbiAgICAgIGRpc3RhbmNlID0gQ29uZmlnLmRpc3RhbmNlLFxuICAgICAgaW5jbHVkZU1hdGNoZXMgPSBDb25maWcuaW5jbHVkZU1hdGNoZXMsXG4gICAgICBmaW5kQWxsTWF0Y2hlcyA9IENvbmZpZy5maW5kQWxsTWF0Y2hlcyxcbiAgICAgIG1pbk1hdGNoQ2hhckxlbmd0aCA9IENvbmZpZy5taW5NYXRjaENoYXJMZW5ndGgsXG4gICAgICBpc0Nhc2VTZW5zaXRpdmUgPSBDb25maWcuaXNDYXNlU2Vuc2l0aXZlLFxuICAgICAgaWdub3JlTG9jYXRpb24gPSBDb25maWcuaWdub3JlTG9jYXRpb25cbiAgICB9ID0ge31cbiAgKSB7XG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgbG9jYXRpb24sXG4gICAgICB0aHJlc2hvbGQsXG4gICAgICBkaXN0YW5jZSxcbiAgICAgIGluY2x1ZGVNYXRjaGVzLFxuICAgICAgZmluZEFsbE1hdGNoZXMsXG4gICAgICBtaW5NYXRjaENoYXJMZW5ndGgsXG4gICAgICBpc0Nhc2VTZW5zaXRpdmUsXG4gICAgICBpZ25vcmVMb2NhdGlvblxuICAgIH07XG5cbiAgICB0aGlzLnBhdHRlcm4gPSBpc0Nhc2VTZW5zaXRpdmUgPyBwYXR0ZXJuIDogcGF0dGVybi50b0xvd2VyQ2FzZSgpO1xuXG4gICAgdGhpcy5jaHVua3MgPSBbXTtcblxuICAgIGlmICghdGhpcy5wYXR0ZXJuLmxlbmd0aCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgYWRkQ2h1bmsgPSAocGF0dGVybiwgc3RhcnRJbmRleCkgPT4ge1xuICAgICAgdGhpcy5jaHVua3MucHVzaCh7XG4gICAgICAgIHBhdHRlcm4sXG4gICAgICAgIGFscGhhYmV0OiBjcmVhdGVQYXR0ZXJuQWxwaGFiZXQocGF0dGVybiksXG4gICAgICAgIHN0YXJ0SW5kZXhcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBsZW4gPSB0aGlzLnBhdHRlcm4ubGVuZ3RoO1xuXG4gICAgaWYgKGxlbiA+IE1BWF9CSVRTKSB7XG4gICAgICBsZXQgaSA9IDA7XG4gICAgICBjb25zdCByZW1haW5kZXIgPSBsZW4gJSBNQVhfQklUUztcbiAgICAgIGNvbnN0IGVuZCA9IGxlbiAtIHJlbWFpbmRlcjtcblxuICAgICAgd2hpbGUgKGkgPCBlbmQpIHtcbiAgICAgICAgYWRkQ2h1bmsodGhpcy5wYXR0ZXJuLnN1YnN0cihpLCBNQVhfQklUUyksIGkpO1xuICAgICAgICBpICs9IE1BWF9CSVRTO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVtYWluZGVyKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0SW5kZXggPSBsZW4gLSBNQVhfQklUUztcbiAgICAgICAgYWRkQ2h1bmsodGhpcy5wYXR0ZXJuLnN1YnN0cihzdGFydEluZGV4KSwgc3RhcnRJbmRleCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGFkZENodW5rKHRoaXMucGF0dGVybiwgMCk7XG4gICAgfVxuICB9XG5cbiAgc2VhcmNoSW4odGV4dCkge1xuICAgIGNvbnN0IHsgaXNDYXNlU2Vuc2l0aXZlLCBpbmNsdWRlTWF0Y2hlcyB9ID0gdGhpcy5vcHRpb25zO1xuXG4gICAgaWYgKCFpc0Nhc2VTZW5zaXRpdmUpIHtcbiAgICAgIHRleHQgPSB0ZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgLy8gRXhhY3QgbWF0Y2hcbiAgICBpZiAodGhpcy5wYXR0ZXJuID09PSB0ZXh0KSB7XG4gICAgICBsZXQgcmVzdWx0ID0ge1xuICAgICAgICBpc01hdGNoOiB0cnVlLFxuICAgICAgICBzY29yZTogMFxuICAgICAgfTtcblxuICAgICAgaWYgKGluY2x1ZGVNYXRjaGVzKSB7XG4gICAgICAgIHJlc3VsdC5pbmRpY2VzID0gW1swLCB0ZXh0Lmxlbmd0aCAtIDFdXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH1cblxuICAgIC8vIE90aGVyd2lzZSwgdXNlIEJpdGFwIGFsZ29yaXRobVxuICAgIGNvbnN0IHtcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgZGlzdGFuY2UsXG4gICAgICB0aHJlc2hvbGQsXG4gICAgICBmaW5kQWxsTWF0Y2hlcyxcbiAgICAgIG1pbk1hdGNoQ2hhckxlbmd0aCxcbiAgICAgIGlnbm9yZUxvY2F0aW9uXG4gICAgfSA9IHRoaXMub3B0aW9ucztcblxuICAgIGxldCBhbGxJbmRpY2VzID0gW107XG4gICAgbGV0IHRvdGFsU2NvcmUgPSAwO1xuICAgIGxldCBoYXNNYXRjaGVzID0gZmFsc2U7XG5cbiAgICB0aGlzLmNodW5rcy5mb3JFYWNoKCh7IHBhdHRlcm4sIGFscGhhYmV0LCBzdGFydEluZGV4IH0pID0+IHtcbiAgICAgIGNvbnN0IHsgaXNNYXRjaCwgc2NvcmUsIGluZGljZXMgfSA9IHNlYXJjaCh0ZXh0LCBwYXR0ZXJuLCBhbHBoYWJldCwge1xuICAgICAgICBsb2NhdGlvbjogbG9jYXRpb24gKyBzdGFydEluZGV4LFxuICAgICAgICBkaXN0YW5jZSxcbiAgICAgICAgdGhyZXNob2xkLFxuICAgICAgICBmaW5kQWxsTWF0Y2hlcyxcbiAgICAgICAgbWluTWF0Y2hDaGFyTGVuZ3RoLFxuICAgICAgICBpbmNsdWRlTWF0Y2hlcyxcbiAgICAgICAgaWdub3JlTG9jYXRpb25cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoaXNNYXRjaCkge1xuICAgICAgICBoYXNNYXRjaGVzID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgdG90YWxTY29yZSArPSBzY29yZTtcblxuICAgICAgaWYgKGlzTWF0Y2ggJiYgaW5kaWNlcykge1xuICAgICAgICBhbGxJbmRpY2VzID0gWy4uLmFsbEluZGljZXMsIC4uLmluZGljZXNdO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbGV0IHJlc3VsdCA9IHtcbiAgICAgIGlzTWF0Y2g6IGhhc01hdGNoZXMsXG4gICAgICBzY29yZTogaGFzTWF0Y2hlcyA/IHRvdGFsU2NvcmUgLyB0aGlzLmNodW5rcy5sZW5ndGggOiAxXG4gICAgfTtcblxuICAgIGlmIChoYXNNYXRjaGVzICYmIGluY2x1ZGVNYXRjaGVzKSB7XG4gICAgICByZXN1bHQuaW5kaWNlcyA9IGFsbEluZGljZXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG59XG5cbmNsYXNzIEJhc2VNYXRjaCB7XG4gIGNvbnN0cnVjdG9yKHBhdHRlcm4pIHtcbiAgICB0aGlzLnBhdHRlcm4gPSBwYXR0ZXJuO1xuICB9XG4gIHN0YXRpYyBpc011bHRpTWF0Y2gocGF0dGVybikge1xuICAgIHJldHVybiBnZXRNYXRjaChwYXR0ZXJuLCB0aGlzLm11bHRpUmVnZXgpXG4gIH1cbiAgc3RhdGljIGlzU2luZ2xlTWF0Y2gocGF0dGVybikge1xuICAgIHJldHVybiBnZXRNYXRjaChwYXR0ZXJuLCB0aGlzLnNpbmdsZVJlZ2V4KVxuICB9XG4gIHNlYXJjaCgvKnRleHQqLykge31cbn1cblxuZnVuY3Rpb24gZ2V0TWF0Y2gocGF0dGVybiwgZXhwKSB7XG4gIGNvbnN0IG1hdGNoZXMgPSBwYXR0ZXJuLm1hdGNoKGV4cCk7XG4gIHJldHVybiBtYXRjaGVzID8gbWF0Y2hlc1sxXSA6IG51bGxcbn1cblxuLy8gVG9rZW46ICdmaWxlXG5cbmNsYXNzIEV4YWN0TWF0Y2ggZXh0ZW5kcyBCYXNlTWF0Y2gge1xuICBjb25zdHJ1Y3RvcihwYXR0ZXJuKSB7XG4gICAgc3VwZXIocGF0dGVybik7XG4gIH1cbiAgc3RhdGljIGdldCB0eXBlKCkge1xuICAgIHJldHVybiAnZXhhY3QnXG4gIH1cbiAgc3RhdGljIGdldCBtdWx0aVJlZ2V4KCkge1xuICAgIHJldHVybiAvXj1cIiguKilcIiQvXG4gIH1cbiAgc3RhdGljIGdldCBzaW5nbGVSZWdleCgpIHtcbiAgICByZXR1cm4gL149KC4qKSQvXG4gIH1cbiAgc2VhcmNoKHRleHQpIHtcbiAgICBjb25zdCBpc01hdGNoID0gdGV4dCA9PT0gdGhpcy5wYXR0ZXJuO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlzTWF0Y2gsXG4gICAgICBzY29yZTogaXNNYXRjaCA/IDAgOiAxLFxuICAgICAgaW5kaWNlczogWzAsIHRoaXMucGF0dGVybi5sZW5ndGggLSAxXVxuICAgIH1cbiAgfVxufVxuXG4vLyBUb2tlbjogIWZpcmVcblxuY2xhc3MgSW52ZXJzZUV4YWN0TWF0Y2ggZXh0ZW5kcyBCYXNlTWF0Y2gge1xuICBjb25zdHJ1Y3RvcihwYXR0ZXJuKSB7XG4gICAgc3VwZXIocGF0dGVybik7XG4gIH1cbiAgc3RhdGljIGdldCB0eXBlKCkge1xuICAgIHJldHVybiAnaW52ZXJzZS1leGFjdCdcbiAgfVxuICBzdGF0aWMgZ2V0IG11bHRpUmVnZXgoKSB7XG4gICAgcmV0dXJuIC9eIVwiKC4qKVwiJC9cbiAgfVxuICBzdGF0aWMgZ2V0IHNpbmdsZVJlZ2V4KCkge1xuICAgIHJldHVybiAvXiEoLiopJC9cbiAgfVxuICBzZWFyY2godGV4dCkge1xuICAgIGNvbnN0IGluZGV4ID0gdGV4dC5pbmRleE9mKHRoaXMucGF0dGVybik7XG4gICAgY29uc3QgaXNNYXRjaCA9IGluZGV4ID09PSAtMTtcblxuICAgIHJldHVybiB7XG4gICAgICBpc01hdGNoLFxuICAgICAgc2NvcmU6IGlzTWF0Y2ggPyAwIDogMSxcbiAgICAgIGluZGljZXM6IFswLCB0ZXh0Lmxlbmd0aCAtIDFdXG4gICAgfVxuICB9XG59XG5cbi8vIFRva2VuOiBeZmlsZVxuXG5jbGFzcyBQcmVmaXhFeGFjdE1hdGNoIGV4dGVuZHMgQmFzZU1hdGNoIHtcbiAgY29uc3RydWN0b3IocGF0dGVybikge1xuICAgIHN1cGVyKHBhdHRlcm4pO1xuICB9XG4gIHN0YXRpYyBnZXQgdHlwZSgpIHtcbiAgICByZXR1cm4gJ3ByZWZpeC1leGFjdCdcbiAgfVxuICBzdGF0aWMgZ2V0IG11bHRpUmVnZXgoKSB7XG4gICAgcmV0dXJuIC9eXFxeXCIoLiopXCIkL1xuICB9XG4gIHN0YXRpYyBnZXQgc2luZ2xlUmVnZXgoKSB7XG4gICAgcmV0dXJuIC9eXFxeKC4qKSQvXG4gIH1cbiAgc2VhcmNoKHRleHQpIHtcbiAgICBjb25zdCBpc01hdGNoID0gdGV4dC5zdGFydHNXaXRoKHRoaXMucGF0dGVybik7XG5cbiAgICByZXR1cm4ge1xuICAgICAgaXNNYXRjaCxcbiAgICAgIHNjb3JlOiBpc01hdGNoID8gMCA6IDEsXG4gICAgICBpbmRpY2VzOiBbMCwgdGhpcy5wYXR0ZXJuLmxlbmd0aCAtIDFdXG4gICAgfVxuICB9XG59XG5cbi8vIFRva2VuOiAhXmZpcmVcblxuY2xhc3MgSW52ZXJzZVByZWZpeEV4YWN0TWF0Y2ggZXh0ZW5kcyBCYXNlTWF0Y2gge1xuICBjb25zdHJ1Y3RvcihwYXR0ZXJuKSB7XG4gICAgc3VwZXIocGF0dGVybik7XG4gIH1cbiAgc3RhdGljIGdldCB0eXBlKCkge1xuICAgIHJldHVybiAnaW52ZXJzZS1wcmVmaXgtZXhhY3QnXG4gIH1cbiAgc3RhdGljIGdldCBtdWx0aVJlZ2V4KCkge1xuICAgIHJldHVybiAvXiFcXF5cIiguKilcIiQvXG4gIH1cbiAgc3RhdGljIGdldCBzaW5nbGVSZWdleCgpIHtcbiAgICByZXR1cm4gL14hXFxeKC4qKSQvXG4gIH1cbiAgc2VhcmNoKHRleHQpIHtcbiAgICBjb25zdCBpc01hdGNoID0gIXRleHQuc3RhcnRzV2l0aCh0aGlzLnBhdHRlcm4pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlzTWF0Y2gsXG4gICAgICBzY29yZTogaXNNYXRjaCA/IDAgOiAxLFxuICAgICAgaW5kaWNlczogWzAsIHRleHQubGVuZ3RoIC0gMV1cbiAgICB9XG4gIH1cbn1cblxuLy8gVG9rZW46IC5maWxlJFxuXG5jbGFzcyBTdWZmaXhFeGFjdE1hdGNoIGV4dGVuZHMgQmFzZU1hdGNoIHtcbiAgY29uc3RydWN0b3IocGF0dGVybikge1xuICAgIHN1cGVyKHBhdHRlcm4pO1xuICB9XG4gIHN0YXRpYyBnZXQgdHlwZSgpIHtcbiAgICByZXR1cm4gJ3N1ZmZpeC1leGFjdCdcbiAgfVxuICBzdGF0aWMgZ2V0IG11bHRpUmVnZXgoKSB7XG4gICAgcmV0dXJuIC9eXCIoLiopXCJcXCQkL1xuICB9XG4gIHN0YXRpYyBnZXQgc2luZ2xlUmVnZXgoKSB7XG4gICAgcmV0dXJuIC9eKC4qKVxcJCQvXG4gIH1cbiAgc2VhcmNoKHRleHQpIHtcbiAgICBjb25zdCBpc01hdGNoID0gdGV4dC5lbmRzV2l0aCh0aGlzLnBhdHRlcm4pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlzTWF0Y2gsXG4gICAgICBzY29yZTogaXNNYXRjaCA/IDAgOiAxLFxuICAgICAgaW5kaWNlczogW3RleHQubGVuZ3RoIC0gdGhpcy5wYXR0ZXJuLmxlbmd0aCwgdGV4dC5sZW5ndGggLSAxXVxuICAgIH1cbiAgfVxufVxuXG4vLyBUb2tlbjogIS5maWxlJFxuXG5jbGFzcyBJbnZlcnNlU3VmZml4RXhhY3RNYXRjaCBleHRlbmRzIEJhc2VNYXRjaCB7XG4gIGNvbnN0cnVjdG9yKHBhdHRlcm4pIHtcbiAgICBzdXBlcihwYXR0ZXJuKTtcbiAgfVxuICBzdGF0aWMgZ2V0IHR5cGUoKSB7XG4gICAgcmV0dXJuICdpbnZlcnNlLXN1ZmZpeC1leGFjdCdcbiAgfVxuICBzdGF0aWMgZ2V0IG11bHRpUmVnZXgoKSB7XG4gICAgcmV0dXJuIC9eIVwiKC4qKVwiXFwkJC9cbiAgfVxuICBzdGF0aWMgZ2V0IHNpbmdsZVJlZ2V4KCkge1xuICAgIHJldHVybiAvXiEoLiopXFwkJC9cbiAgfVxuICBzZWFyY2godGV4dCkge1xuICAgIGNvbnN0IGlzTWF0Y2ggPSAhdGV4dC5lbmRzV2l0aCh0aGlzLnBhdHRlcm4pO1xuICAgIHJldHVybiB7XG4gICAgICBpc01hdGNoLFxuICAgICAgc2NvcmU6IGlzTWF0Y2ggPyAwIDogMSxcbiAgICAgIGluZGljZXM6IFswLCB0ZXh0Lmxlbmd0aCAtIDFdXG4gICAgfVxuICB9XG59XG5cbmNsYXNzIEZ1enp5TWF0Y2ggZXh0ZW5kcyBCYXNlTWF0Y2gge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwYXR0ZXJuLFxuICAgIHtcbiAgICAgIGxvY2F0aW9uID0gQ29uZmlnLmxvY2F0aW9uLFxuICAgICAgdGhyZXNob2xkID0gQ29uZmlnLnRocmVzaG9sZCxcbiAgICAgIGRpc3RhbmNlID0gQ29uZmlnLmRpc3RhbmNlLFxuICAgICAgaW5jbHVkZU1hdGNoZXMgPSBDb25maWcuaW5jbHVkZU1hdGNoZXMsXG4gICAgICBmaW5kQWxsTWF0Y2hlcyA9IENvbmZpZy5maW5kQWxsTWF0Y2hlcyxcbiAgICAgIG1pbk1hdGNoQ2hhckxlbmd0aCA9IENvbmZpZy5taW5NYXRjaENoYXJMZW5ndGgsXG4gICAgICBpc0Nhc2VTZW5zaXRpdmUgPSBDb25maWcuaXNDYXNlU2Vuc2l0aXZlLFxuICAgICAgaWdub3JlTG9jYXRpb24gPSBDb25maWcuaWdub3JlTG9jYXRpb25cbiAgICB9ID0ge31cbiAgKSB7XG4gICAgc3VwZXIocGF0dGVybik7XG4gICAgdGhpcy5fYml0YXBTZWFyY2ggPSBuZXcgQml0YXBTZWFyY2gocGF0dGVybiwge1xuICAgICAgbG9jYXRpb24sXG4gICAgICB0aHJlc2hvbGQsXG4gICAgICBkaXN0YW5jZSxcbiAgICAgIGluY2x1ZGVNYXRjaGVzLFxuICAgICAgZmluZEFsbE1hdGNoZXMsXG4gICAgICBtaW5NYXRjaENoYXJMZW5ndGgsXG4gICAgICBpc0Nhc2VTZW5zaXRpdmUsXG4gICAgICBpZ25vcmVMb2NhdGlvblxuICAgIH0pO1xuICB9XG4gIHN0YXRpYyBnZXQgdHlwZSgpIHtcbiAgICByZXR1cm4gJ2Z1enp5J1xuICB9XG4gIHN0YXRpYyBnZXQgbXVsdGlSZWdleCgpIHtcbiAgICByZXR1cm4gL15cIiguKilcIiQvXG4gIH1cbiAgc3RhdGljIGdldCBzaW5nbGVSZWdleCgpIHtcbiAgICByZXR1cm4gL14oLiopJC9cbiAgfVxuICBzZWFyY2godGV4dCkge1xuICAgIHJldHVybiB0aGlzLl9iaXRhcFNlYXJjaC5zZWFyY2hJbih0ZXh0KVxuICB9XG59XG5cbi8vIFRva2VuOiAnZmlsZVxuXG5jbGFzcyBJbmNsdWRlTWF0Y2ggZXh0ZW5kcyBCYXNlTWF0Y2gge1xuICBjb25zdHJ1Y3RvcihwYXR0ZXJuKSB7XG4gICAgc3VwZXIocGF0dGVybik7XG4gIH1cbiAgc3RhdGljIGdldCB0eXBlKCkge1xuICAgIHJldHVybiAnaW5jbHVkZSdcbiAgfVxuICBzdGF0aWMgZ2V0IG11bHRpUmVnZXgoKSB7XG4gICAgcmV0dXJuIC9eJ1wiKC4qKVwiJC9cbiAgfVxuICBzdGF0aWMgZ2V0IHNpbmdsZVJlZ2V4KCkge1xuICAgIHJldHVybiAvXicoLiopJC9cbiAgfVxuICBzZWFyY2godGV4dCkge1xuICAgIGxldCBsb2NhdGlvbiA9IDA7XG4gICAgbGV0IGluZGV4O1xuXG4gICAgY29uc3QgaW5kaWNlcyA9IFtdO1xuICAgIGNvbnN0IHBhdHRlcm5MZW4gPSB0aGlzLnBhdHRlcm4ubGVuZ3RoO1xuXG4gICAgLy8gR2V0IGFsbCBleGFjdCBtYXRjaGVzXG4gICAgd2hpbGUgKChpbmRleCA9IHRleHQuaW5kZXhPZih0aGlzLnBhdHRlcm4sIGxvY2F0aW9uKSkgPiAtMSkge1xuICAgICAgbG9jYXRpb24gPSBpbmRleCArIHBhdHRlcm5MZW47XG4gICAgICBpbmRpY2VzLnB1c2goW2luZGV4LCBsb2NhdGlvbiAtIDFdKTtcbiAgICB9XG5cbiAgICBjb25zdCBpc01hdGNoID0gISFpbmRpY2VzLmxlbmd0aDtcblxuICAgIHJldHVybiB7XG4gICAgICBpc01hdGNoLFxuICAgICAgc2NvcmU6IGlzTWF0Y2ggPyAwIDogMSxcbiAgICAgIGluZGljZXNcbiAgICB9XG4gIH1cbn1cblxuLy8g4p2XT3JkZXIgaXMgaW1wb3J0YW50LiBETyBOT1QgQ0hBTkdFLlxuY29uc3Qgc2VhcmNoZXJzID0gW1xuICBFeGFjdE1hdGNoLFxuICBJbmNsdWRlTWF0Y2gsXG4gIFByZWZpeEV4YWN0TWF0Y2gsXG4gIEludmVyc2VQcmVmaXhFeGFjdE1hdGNoLFxuICBJbnZlcnNlU3VmZml4RXhhY3RNYXRjaCxcbiAgU3VmZml4RXhhY3RNYXRjaCxcbiAgSW52ZXJzZUV4YWN0TWF0Y2gsXG4gIEZ1enp5TWF0Y2hcbl07XG5cbmNvbnN0IHNlYXJjaGVyc0xlbiA9IHNlYXJjaGVycy5sZW5ndGg7XG5cbi8vIFJlZ2V4IHRvIHNwbGl0IGJ5IHNwYWNlcywgYnV0IGtlZXAgYW55dGhpbmcgaW4gcXVvdGVzIHRvZ2V0aGVyXG5jb25zdCBTUEFDRV9SRSA9IC8gKyg/PSg/OlteXFxcIl0qXFxcIlteXFxcIl0qXFxcIikqW15cXFwiXSokKS87XG5jb25zdCBPUl9UT0tFTiA9ICd8JztcblxuLy8gUmV0dXJuIGEgMkQgYXJyYXkgcmVwcmVzZW50YXRpb24gb2YgdGhlIHF1ZXJ5LCBmb3Igc2ltcGxlciBwYXJzaW5nLlxuLy8gRXhhbXBsZTpcbi8vIFwiXmNvcmUgZ28kIHwgcmIkIHwgcHkkIHh5JFwiID0+IFtbXCJeY29yZVwiLCBcImdvJFwiXSwgW1wicmIkXCJdLCBbXCJweSRcIiwgXCJ4eSRcIl1dXG5mdW5jdGlvbiBwYXJzZVF1ZXJ5KHBhdHRlcm4sIG9wdGlvbnMgPSB7fSkge1xuICByZXR1cm4gcGF0dGVybi5zcGxpdChPUl9UT0tFTikubWFwKChpdGVtKSA9PiB7XG4gICAgbGV0IHF1ZXJ5ID0gaXRlbVxuICAgICAgLnRyaW0oKVxuICAgICAgLnNwbGl0KFNQQUNFX1JFKVxuICAgICAgLmZpbHRlcigoaXRlbSkgPT4gaXRlbSAmJiAhIWl0ZW0udHJpbSgpKTtcblxuICAgIGxldCByZXN1bHRzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHF1ZXJ5Lmxlbmd0aDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICBjb25zdCBxdWVyeUl0ZW0gPSBxdWVyeVtpXTtcblxuICAgICAgLy8gMS4gSGFuZGxlIG11bHRpcGxlIHF1ZXJ5IG1hdGNoIChpLmUsIG9uY2UgdGhhdCBhcmUgcXVvdGVkLCBsaWtlIGBcImhlbGxvIHdvcmxkXCJgKVxuICAgICAgbGV0IGZvdW5kID0gZmFsc2U7XG4gICAgICBsZXQgaWR4ID0gLTE7XG4gICAgICB3aGlsZSAoIWZvdW5kICYmICsraWR4IDwgc2VhcmNoZXJzTGVuKSB7XG4gICAgICAgIGNvbnN0IHNlYXJjaGVyID0gc2VhcmNoZXJzW2lkeF07XG4gICAgICAgIGxldCB0b2tlbiA9IHNlYXJjaGVyLmlzTXVsdGlNYXRjaChxdWVyeUl0ZW0pO1xuICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICByZXN1bHRzLnB1c2gobmV3IHNlYXJjaGVyKHRva2VuLCBvcHRpb25zKSk7XG4gICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChmb3VuZCkge1xuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyAyLiBIYW5kbGUgc2luZ2xlIHF1ZXJ5IG1hdGNoZXMgKGkuZSwgb25jZSB0aGF0IGFyZSAqbm90KiBxdW90ZWQpXG4gICAgICBpZHggPSAtMTtcbiAgICAgIHdoaWxlICgrK2lkeCA8IHNlYXJjaGVyc0xlbikge1xuICAgICAgICBjb25zdCBzZWFyY2hlciA9IHNlYXJjaGVyc1tpZHhdO1xuICAgICAgICBsZXQgdG9rZW4gPSBzZWFyY2hlci5pc1NpbmdsZU1hdGNoKHF1ZXJ5SXRlbSk7XG4gICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgIHJlc3VsdHMucHVzaChuZXcgc2VhcmNoZXIodG9rZW4sIG9wdGlvbnMpKTtcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdHNcbiAgfSlcbn1cblxuLy8gVGhlc2UgZXh0ZW5kZWQgbWF0Y2hlcnMgY2FuIHJldHVybiBhbiBhcnJheSBvZiBtYXRjaGVzLCBhcyBvcHBvc2VkXG4vLyB0byBhIHNpbmdsIG1hdGNoXG5jb25zdCBNdWx0aU1hdGNoU2V0ID0gbmV3IFNldChbRnV6enlNYXRjaC50eXBlLCBJbmNsdWRlTWF0Y2gudHlwZV0pO1xuXG4vKipcbiAqIENvbW1hbmQtbGlrZSBzZWFyY2hpbmdcbiAqID09PT09PT09PT09PT09PT09PT09PT1cbiAqXG4gKiBHaXZlbiBtdWx0aXBsZSBzZWFyY2ggdGVybXMgZGVsaW1pdGVkIGJ5IHNwYWNlcy5lLmcuIGBeanNjcmlwdCAucHl0aG9uJCBydWJ5ICFqYXZhYCxcbiAqIHNlYXJjaCBpbiBhIGdpdmVuIHRleHQuXG4gKlxuICogU2VhcmNoIHN5bnRheDpcbiAqXG4gKiB8IFRva2VuICAgICAgIHwgTWF0Y2ggdHlwZSAgICAgICAgICAgICAgICAgfCBEZXNjcmlwdGlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IC0tLS0tLS0tLS0tIHwgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gfCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSB8XG4gKiB8IGBqc2NyaXB0YCAgIHwgZnV6enktbWF0Y2ggICAgICAgICAgICAgICAgfCBJdGVtcyB0aGF0IGZ1enp5IG1hdGNoIGBqc2NyaXB0YCAgICAgICB8XG4gKiB8IGA9c2NoZW1lYCAgIHwgZXhhY3QtbWF0Y2ggICAgICAgICAgICAgICAgfCBJdGVtcyB0aGF0IGFyZSBgc2NoZW1lYCAgICAgICAgICAgICAgICB8XG4gKiB8IGAncHl0aG9uYCAgIHwgaW5jbHVkZS1tYXRjaCAgICAgICAgICAgICAgfCBJdGVtcyB0aGF0IGluY2x1ZGUgYHB5dGhvbmAgICAgICAgICAgICB8XG4gKiB8IGAhcnVieWAgICAgIHwgaW52ZXJzZS1leGFjdC1tYXRjaCAgICAgICAgfCBJdGVtcyB0aGF0IGRvIG5vdCBpbmNsdWRlIGBydWJ5YCAgICAgICB8XG4gKiB8IGBeamF2YWAgICAgIHwgcHJlZml4LWV4YWN0LW1hdGNoICAgICAgICAgfCBJdGVtcyB0aGF0IHN0YXJ0IHdpdGggYGphdmFgICAgICAgICAgICB8XG4gKiB8IGAhXmVhcmxhbmdgIHwgaW52ZXJzZS1wcmVmaXgtZXhhY3QtbWF0Y2ggfCBJdGVtcyB0aGF0IGRvIG5vdCBzdGFydCB3aXRoIGBlYXJsYW5nYCB8XG4gKiB8IGAuanMkYCAgICAgIHwgc3VmZml4LWV4YWN0LW1hdGNoICAgICAgICAgfCBJdGVtcyB0aGF0IGVuZCB3aXRoIGAuanNgICAgICAgICAgICAgICB8XG4gKiB8IGAhLmdvJGAgICAgIHwgaW52ZXJzZS1zdWZmaXgtZXhhY3QtbWF0Y2ggfCBJdGVtcyB0aGF0IGRvIG5vdCBlbmQgd2l0aCBgLmdvYCAgICAgICB8XG4gKlxuICogQSBzaW5nbGUgcGlwZSBjaGFyYWN0ZXIgYWN0cyBhcyBhbiBPUiBvcGVyYXRvci4gRm9yIGV4YW1wbGUsIHRoZSBmb2xsb3dpbmdcbiAqIHF1ZXJ5IG1hdGNoZXMgZW50cmllcyB0aGF0IHN0YXJ0IHdpdGggYGNvcmVgIGFuZCBlbmQgd2l0aCBlaXRoZXJgZ29gLCBgcmJgLFxuICogb3JgcHlgLlxuICpcbiAqIGBgYFxuICogXmNvcmUgZ28kIHwgcmIkIHwgcHkkXG4gKiBgYGBcbiAqL1xuY2xhc3MgRXh0ZW5kZWRTZWFyY2gge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwYXR0ZXJuLFxuICAgIHtcbiAgICAgIGlzQ2FzZVNlbnNpdGl2ZSA9IENvbmZpZy5pc0Nhc2VTZW5zaXRpdmUsXG4gICAgICBpbmNsdWRlTWF0Y2hlcyA9IENvbmZpZy5pbmNsdWRlTWF0Y2hlcyxcbiAgICAgIG1pbk1hdGNoQ2hhckxlbmd0aCA9IENvbmZpZy5taW5NYXRjaENoYXJMZW5ndGgsXG4gICAgICBpZ25vcmVMb2NhdGlvbiA9IENvbmZpZy5pZ25vcmVMb2NhdGlvbixcbiAgICAgIGZpbmRBbGxNYXRjaGVzID0gQ29uZmlnLmZpbmRBbGxNYXRjaGVzLFxuICAgICAgbG9jYXRpb24gPSBDb25maWcubG9jYXRpb24sXG4gICAgICB0aHJlc2hvbGQgPSBDb25maWcudGhyZXNob2xkLFxuICAgICAgZGlzdGFuY2UgPSBDb25maWcuZGlzdGFuY2VcbiAgICB9ID0ge31cbiAgKSB7XG4gICAgdGhpcy5xdWVyeSA9IG51bGw7XG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgaXNDYXNlU2Vuc2l0aXZlLFxuICAgICAgaW5jbHVkZU1hdGNoZXMsXG4gICAgICBtaW5NYXRjaENoYXJMZW5ndGgsXG4gICAgICBmaW5kQWxsTWF0Y2hlcyxcbiAgICAgIGlnbm9yZUxvY2F0aW9uLFxuICAgICAgbG9jYXRpb24sXG4gICAgICB0aHJlc2hvbGQsXG4gICAgICBkaXN0YW5jZVxuICAgIH07XG5cbiAgICB0aGlzLnBhdHRlcm4gPSBpc0Nhc2VTZW5zaXRpdmUgPyBwYXR0ZXJuIDogcGF0dGVybi50b0xvd2VyQ2FzZSgpO1xuICAgIHRoaXMucXVlcnkgPSBwYXJzZVF1ZXJ5KHRoaXMucGF0dGVybiwgdGhpcy5vcHRpb25zKTtcbiAgfVxuXG4gIHN0YXRpYyBjb25kaXRpb24oXywgb3B0aW9ucykge1xuICAgIHJldHVybiBvcHRpb25zLnVzZUV4dGVuZGVkU2VhcmNoXG4gIH1cblxuICBzZWFyY2hJbih0ZXh0KSB7XG4gICAgY29uc3QgcXVlcnkgPSB0aGlzLnF1ZXJ5O1xuXG4gICAgaWYgKCFxdWVyeSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXNNYXRjaDogZmFsc2UsXG4gICAgICAgIHNjb3JlOiAxXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgeyBpbmNsdWRlTWF0Y2hlcywgaXNDYXNlU2Vuc2l0aXZlIH0gPSB0aGlzLm9wdGlvbnM7XG5cbiAgICB0ZXh0ID0gaXNDYXNlU2Vuc2l0aXZlID8gdGV4dCA6IHRleHQudG9Mb3dlckNhc2UoKTtcblxuICAgIGxldCBudW1NYXRjaGVzID0gMDtcbiAgICBsZXQgYWxsSW5kaWNlcyA9IFtdO1xuICAgIGxldCB0b3RhbFNjb3JlID0gMDtcblxuICAgIC8vIE9Sc1xuICAgIGZvciAobGV0IGkgPSAwLCBxTGVuID0gcXVlcnkubGVuZ3RoOyBpIDwgcUxlbjsgaSArPSAxKSB7XG4gICAgICBjb25zdCBzZWFyY2hlcnMgPSBxdWVyeVtpXTtcblxuICAgICAgLy8gUmVzZXQgaW5kaWNlc1xuICAgICAgYWxsSW5kaWNlcy5sZW5ndGggPSAwO1xuICAgICAgbnVtTWF0Y2hlcyA9IDA7XG5cbiAgICAgIC8vIEFORHNcbiAgICAgIGZvciAobGV0IGogPSAwLCBwTGVuID0gc2VhcmNoZXJzLmxlbmd0aDsgaiA8IHBMZW47IGogKz0gMSkge1xuICAgICAgICBjb25zdCBzZWFyY2hlciA9IHNlYXJjaGVyc1tqXTtcbiAgICAgICAgY29uc3QgeyBpc01hdGNoLCBpbmRpY2VzLCBzY29yZSB9ID0gc2VhcmNoZXIuc2VhcmNoKHRleHQpO1xuXG4gICAgICAgIGlmIChpc01hdGNoKSB7XG4gICAgICAgICAgbnVtTWF0Y2hlcyArPSAxO1xuICAgICAgICAgIHRvdGFsU2NvcmUgKz0gc2NvcmU7XG4gICAgICAgICAgaWYgKGluY2x1ZGVNYXRjaGVzKSB7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gc2VhcmNoZXIuY29uc3RydWN0b3IudHlwZTtcbiAgICAgICAgICAgIGlmIChNdWx0aU1hdGNoU2V0Lmhhcyh0eXBlKSkge1xuICAgICAgICAgICAgICBhbGxJbmRpY2VzID0gWy4uLmFsbEluZGljZXMsIC4uLmluZGljZXNdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYWxsSW5kaWNlcy5wdXNoKGluZGljZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0b3RhbFNjb3JlID0gMDtcbiAgICAgICAgICBudW1NYXRjaGVzID0gMDtcbiAgICAgICAgICBhbGxJbmRpY2VzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBPUiBjb25kaXRpb24sIHNvIGlmIFRSVUUsIHJldHVyblxuICAgICAgaWYgKG51bU1hdGNoZXMpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHtcbiAgICAgICAgICBpc01hdGNoOiB0cnVlLFxuICAgICAgICAgIHNjb3JlOiB0b3RhbFNjb3JlIC8gbnVtTWF0Y2hlc1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChpbmNsdWRlTWF0Y2hlcykge1xuICAgICAgICAgIHJlc3VsdC5pbmRpY2VzID0gYWxsSW5kaWNlcztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBOb3RoaW5nIHdhcyBtYXRjaGVkXG4gICAgcmV0dXJuIHtcbiAgICAgIGlzTWF0Y2g6IGZhbHNlLFxuICAgICAgc2NvcmU6IDFcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgcmVnaXN0ZXJlZFNlYXJjaGVycyA9IFtdO1xuXG5mdW5jdGlvbiByZWdpc3RlciguLi5hcmdzKSB7XG4gIHJlZ2lzdGVyZWRTZWFyY2hlcnMucHVzaCguLi5hcmdzKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlU2VhcmNoZXIocGF0dGVybiwgb3B0aW9ucykge1xuICBmb3IgKGxldCBpID0gMCwgbGVuID0gcmVnaXN0ZXJlZFNlYXJjaGVycy5sZW5ndGg7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgIGxldCBzZWFyY2hlckNsYXNzID0gcmVnaXN0ZXJlZFNlYXJjaGVyc1tpXTtcbiAgICBpZiAoc2VhcmNoZXJDbGFzcy5jb25kaXRpb24ocGF0dGVybiwgb3B0aW9ucykpIHtcbiAgICAgIHJldHVybiBuZXcgc2VhcmNoZXJDbGFzcyhwYXR0ZXJuLCBvcHRpb25zKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgQml0YXBTZWFyY2gocGF0dGVybiwgb3B0aW9ucylcbn1cblxuY29uc3QgTG9naWNhbE9wZXJhdG9yID0ge1xuICBBTkQ6ICckYW5kJyxcbiAgT1I6ICckb3InXG59O1xuXG5jb25zdCBLZXlUeXBlID0ge1xuICBQQVRIOiAnJHBhdGgnLFxuICBQQVRURVJOOiAnJHZhbCdcbn07XG5cbmNvbnN0IGlzRXhwcmVzc2lvbiA9IChxdWVyeSkgPT5cbiAgISEocXVlcnlbTG9naWNhbE9wZXJhdG9yLkFORF0gfHwgcXVlcnlbTG9naWNhbE9wZXJhdG9yLk9SXSk7XG5cbmNvbnN0IGlzUGF0aCA9IChxdWVyeSkgPT4gISFxdWVyeVtLZXlUeXBlLlBBVEhdO1xuXG5jb25zdCBpc0xlYWYgPSAocXVlcnkpID0+XG4gICFpc0FycmF5KHF1ZXJ5KSAmJiBpc09iamVjdChxdWVyeSkgJiYgIWlzRXhwcmVzc2lvbihxdWVyeSk7XG5cbmNvbnN0IGNvbnZlcnRUb0V4cGxpY2l0ID0gKHF1ZXJ5KSA9PiAoe1xuICBbTG9naWNhbE9wZXJhdG9yLkFORF06IE9iamVjdC5rZXlzKHF1ZXJ5KS5tYXAoKGtleSkgPT4gKHtcbiAgICBba2V5XTogcXVlcnlba2V5XVxuICB9KSlcbn0pO1xuXG4vLyBXaGVuIGBhdXRvYCBpcyBgdHJ1ZWAsIHRoZSBwYXJzZSBmdW5jdGlvbiB3aWxsIGluZmVyIGFuZCBpbml0aWFsaXplIGFuZCBhZGRcbi8vIHRoZSBhcHByb3ByaWF0ZSBgU2VhcmNoZXJgIGluc3RhbmNlXG5mdW5jdGlvbiBwYXJzZShxdWVyeSwgb3B0aW9ucywgeyBhdXRvID0gdHJ1ZSB9ID0ge30pIHtcbiAgY29uc3QgbmV4dCA9IChxdWVyeSkgPT4ge1xuICAgIGxldCBrZXlzID0gT2JqZWN0LmtleXMocXVlcnkpO1xuXG4gICAgY29uc3QgaXNRdWVyeVBhdGggPSBpc1BhdGgocXVlcnkpO1xuXG4gICAgaWYgKCFpc1F1ZXJ5UGF0aCAmJiBrZXlzLmxlbmd0aCA+IDEgJiYgIWlzRXhwcmVzc2lvbihxdWVyeSkpIHtcbiAgICAgIHJldHVybiBuZXh0KGNvbnZlcnRUb0V4cGxpY2l0KHF1ZXJ5KSlcbiAgICB9XG5cbiAgICBpZiAoaXNMZWFmKHF1ZXJ5KSkge1xuICAgICAgY29uc3Qga2V5ID0gaXNRdWVyeVBhdGggPyBxdWVyeVtLZXlUeXBlLlBBVEhdIDoga2V5c1swXTtcblxuICAgICAgY29uc3QgcGF0dGVybiA9IGlzUXVlcnlQYXRoID8gcXVlcnlbS2V5VHlwZS5QQVRURVJOXSA6IHF1ZXJ5W2tleV07XG5cbiAgICAgIGlmICghaXNTdHJpbmcocGF0dGVybikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKExPR0lDQUxfU0VBUkNIX0lOVkFMSURfUVVFUllfRk9SX0tFWShrZXkpKVxuICAgICAgfVxuXG4gICAgICBjb25zdCBvYmogPSB7XG4gICAgICAgIGtleUlkOiBjcmVhdGVLZXlJZChrZXkpLFxuICAgICAgICBwYXR0ZXJuXG4gICAgICB9O1xuXG4gICAgICBpZiAoYXV0bykge1xuICAgICAgICBvYmouc2VhcmNoZXIgPSBjcmVhdGVTZWFyY2hlcihwYXR0ZXJuLCBvcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9ialxuICAgIH1cblxuICAgIGxldCBub2RlID0ge1xuICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgb3BlcmF0b3I6IGtleXNbMF1cbiAgICB9O1xuXG4gICAga2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gcXVlcnlba2V5XTtcblxuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgICBub2RlLmNoaWxkcmVuLnB1c2gobmV4dChpdGVtKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIG5vZGVcbiAgfTtcblxuICBpZiAoIWlzRXhwcmVzc2lvbihxdWVyeSkpIHtcbiAgICBxdWVyeSA9IGNvbnZlcnRUb0V4cGxpY2l0KHF1ZXJ5KTtcbiAgfVxuXG4gIHJldHVybiBuZXh0KHF1ZXJ5KVxufVxuXG4vLyBQcmFjdGljYWwgc2NvcmluZyBmdW5jdGlvblxuZnVuY3Rpb24gY29tcHV0ZVNjb3JlKFxuICByZXN1bHRzLFxuICB7IGlnbm9yZUZpZWxkTm9ybSA9IENvbmZpZy5pZ25vcmVGaWVsZE5vcm0gfVxuKSB7XG4gIHJlc3VsdHMuZm9yRWFjaCgocmVzdWx0KSA9PiB7XG4gICAgbGV0IHRvdGFsU2NvcmUgPSAxO1xuXG4gICAgcmVzdWx0Lm1hdGNoZXMuZm9yRWFjaCgoeyBrZXksIG5vcm0sIHNjb3JlIH0pID0+IHtcbiAgICAgIGNvbnN0IHdlaWdodCA9IGtleSA/IGtleS53ZWlnaHQgOiBudWxsO1xuXG4gICAgICB0b3RhbFNjb3JlICo9IE1hdGgucG93KFxuICAgICAgICBzY29yZSA9PT0gMCAmJiB3ZWlnaHQgPyBOdW1iZXIuRVBTSUxPTiA6IHNjb3JlLFxuICAgICAgICAod2VpZ2h0IHx8IDEpICogKGlnbm9yZUZpZWxkTm9ybSA/IDEgOiBub3JtKVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIHJlc3VsdC5zY29yZSA9IHRvdGFsU2NvcmU7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB0cmFuc2Zvcm1NYXRjaGVzKHJlc3VsdCwgZGF0YSkge1xuICBjb25zdCBtYXRjaGVzID0gcmVzdWx0Lm1hdGNoZXM7XG4gIGRhdGEubWF0Y2hlcyA9IFtdO1xuXG4gIGlmICghaXNEZWZpbmVkKG1hdGNoZXMpKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBtYXRjaGVzLmZvckVhY2goKG1hdGNoKSA9PiB7XG4gICAgaWYgKCFpc0RlZmluZWQobWF0Y2guaW5kaWNlcykgfHwgIW1hdGNoLmluZGljZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCB7IGluZGljZXMsIHZhbHVlIH0gPSBtYXRjaDtcblxuICAgIGxldCBvYmogPSB7XG4gICAgICBpbmRpY2VzLFxuICAgICAgdmFsdWVcbiAgICB9O1xuXG4gICAgaWYgKG1hdGNoLmtleSkge1xuICAgICAgb2JqLmtleSA9IG1hdGNoLmtleS5zcmM7XG4gICAgfVxuXG4gICAgaWYgKG1hdGNoLmlkeCA+IC0xKSB7XG4gICAgICBvYmoucmVmSW5kZXggPSBtYXRjaC5pZHg7XG4gICAgfVxuXG4gICAgZGF0YS5tYXRjaGVzLnB1c2gob2JqKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHRyYW5zZm9ybVNjb3JlKHJlc3VsdCwgZGF0YSkge1xuICBkYXRhLnNjb3JlID0gcmVzdWx0LnNjb3JlO1xufVxuXG5mdW5jdGlvbiBmb3JtYXQoXG4gIHJlc3VsdHMsXG4gIGRvY3MsXG4gIHtcbiAgICBpbmNsdWRlTWF0Y2hlcyA9IENvbmZpZy5pbmNsdWRlTWF0Y2hlcyxcbiAgICBpbmNsdWRlU2NvcmUgPSBDb25maWcuaW5jbHVkZVNjb3JlXG4gIH0gPSB7fVxuKSB7XG4gIGNvbnN0IHRyYW5zZm9ybWVycyA9IFtdO1xuXG4gIGlmIChpbmNsdWRlTWF0Y2hlcykgdHJhbnNmb3JtZXJzLnB1c2godHJhbnNmb3JtTWF0Y2hlcyk7XG4gIGlmIChpbmNsdWRlU2NvcmUpIHRyYW5zZm9ybWVycy5wdXNoKHRyYW5zZm9ybVNjb3JlKTtcblxuICByZXR1cm4gcmVzdWx0cy5tYXAoKHJlc3VsdCkgPT4ge1xuICAgIGNvbnN0IHsgaWR4IH0gPSByZXN1bHQ7XG5cbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgaXRlbTogZG9jc1tpZHhdLFxuICAgICAgcmVmSW5kZXg6IGlkeFxuICAgIH07XG5cbiAgICBpZiAodHJhbnNmb3JtZXJzLmxlbmd0aCkge1xuICAgICAgdHJhbnNmb3JtZXJzLmZvckVhY2goKHRyYW5zZm9ybWVyKSA9PiB7XG4gICAgICAgIHRyYW5zZm9ybWVyKHJlc3VsdCwgZGF0YSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YVxuICB9KVxufVxuXG5jbGFzcyBGdXNlIHtcbiAgY29uc3RydWN0b3IoZG9jcywgb3B0aW9ucyA9IHt9LCBpbmRleCkge1xuICAgIHRoaXMub3B0aW9ucyA9IHsgLi4uQ29uZmlnLCAuLi5vcHRpb25zIH07XG5cbiAgICBpZiAoXG4gICAgICB0aGlzLm9wdGlvbnMudXNlRXh0ZW5kZWRTZWFyY2ggJiZcbiAgICAgICF0cnVlXG4gICAgKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoRVhURU5ERURfU0VBUkNIX1VOQVZBSUxBQkxFKVxuICAgIH1cblxuICAgIHRoaXMuX2tleVN0b3JlID0gbmV3IEtleVN0b3JlKHRoaXMub3B0aW9ucy5rZXlzKTtcblxuICAgIHRoaXMuc2V0Q29sbGVjdGlvbihkb2NzLCBpbmRleCk7XG4gIH1cblxuICBzZXRDb2xsZWN0aW9uKGRvY3MsIGluZGV4KSB7XG4gICAgdGhpcy5fZG9jcyA9IGRvY3M7XG5cbiAgICBpZiAoaW5kZXggJiYgIShpbmRleCBpbnN0YW5jZW9mIEZ1c2VJbmRleCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihJTkNPUlJFQ1RfSU5ERVhfVFlQRSlcbiAgICB9XG5cbiAgICB0aGlzLl9teUluZGV4ID1cbiAgICAgIGluZGV4IHx8XG4gICAgICBjcmVhdGVJbmRleCh0aGlzLm9wdGlvbnMua2V5cywgdGhpcy5fZG9jcywge1xuICAgICAgICBnZXRGbjogdGhpcy5vcHRpb25zLmdldEZuLFxuICAgICAgICBmaWVsZE5vcm1XZWlnaHQ6IHRoaXMub3B0aW9ucy5maWVsZE5vcm1XZWlnaHRcbiAgICAgIH0pO1xuICB9XG5cbiAgYWRkKGRvYykge1xuICAgIGlmICghaXNEZWZpbmVkKGRvYykpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMuX2RvY3MucHVzaChkb2MpO1xuICAgIHRoaXMuX215SW5kZXguYWRkKGRvYyk7XG4gIH1cblxuICByZW1vdmUocHJlZGljYXRlID0gKC8qIGRvYywgaWR4ICovKSA9PiBmYWxzZSkge1xuICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSB0aGlzLl9kb2NzLmxlbmd0aDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICBjb25zdCBkb2MgPSB0aGlzLl9kb2NzW2ldO1xuICAgICAgaWYgKHByZWRpY2F0ZShkb2MsIGkpKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQXQoaSk7XG4gICAgICAgIGkgLT0gMTtcbiAgICAgICAgbGVuIC09IDE7XG5cbiAgICAgICAgcmVzdWx0cy5wdXNoKGRvYyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdHNcbiAgfVxuXG4gIHJlbW92ZUF0KGlkeCkge1xuICAgIHRoaXMuX2RvY3Muc3BsaWNlKGlkeCwgMSk7XG4gICAgdGhpcy5fbXlJbmRleC5yZW1vdmVBdChpZHgpO1xuICB9XG5cbiAgZ2V0SW5kZXgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX215SW5kZXhcbiAgfVxuXG4gIHNlYXJjaChxdWVyeSwgeyBsaW1pdCA9IC0xIH0gPSB7fSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGluY2x1ZGVNYXRjaGVzLFxuICAgICAgaW5jbHVkZVNjb3JlLFxuICAgICAgc2hvdWxkU29ydCxcbiAgICAgIHNvcnRGbixcbiAgICAgIGlnbm9yZUZpZWxkTm9ybVxuICAgIH0gPSB0aGlzLm9wdGlvbnM7XG5cbiAgICBsZXQgcmVzdWx0cyA9IGlzU3RyaW5nKHF1ZXJ5KVxuICAgICAgPyBpc1N0cmluZyh0aGlzLl9kb2NzWzBdKVxuICAgICAgICA/IHRoaXMuX3NlYXJjaFN0cmluZ0xpc3QocXVlcnkpXG4gICAgICAgIDogdGhpcy5fc2VhcmNoT2JqZWN0TGlzdChxdWVyeSlcbiAgICAgIDogdGhpcy5fc2VhcmNoTG9naWNhbChxdWVyeSk7XG5cbiAgICBjb21wdXRlU2NvcmUocmVzdWx0cywgeyBpZ25vcmVGaWVsZE5vcm0gfSk7XG5cbiAgICBpZiAoc2hvdWxkU29ydCkge1xuICAgICAgcmVzdWx0cy5zb3J0KHNvcnRGbik7XG4gICAgfVxuXG4gICAgaWYgKGlzTnVtYmVyKGxpbWl0KSAmJiBsaW1pdCA+IC0xKSB7XG4gICAgICByZXN1bHRzID0gcmVzdWx0cy5zbGljZSgwLCBsaW1pdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZvcm1hdChyZXN1bHRzLCB0aGlzLl9kb2NzLCB7XG4gICAgICBpbmNsdWRlTWF0Y2hlcyxcbiAgICAgIGluY2x1ZGVTY29yZVxuICAgIH0pXG4gIH1cblxuICBfc2VhcmNoU3RyaW5nTGlzdChxdWVyeSkge1xuICAgIGNvbnN0IHNlYXJjaGVyID0gY3JlYXRlU2VhcmNoZXIocXVlcnksIHRoaXMub3B0aW9ucyk7XG4gICAgY29uc3QgeyByZWNvcmRzIH0gPSB0aGlzLl9teUluZGV4O1xuICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcblxuICAgIC8vIEl0ZXJhdGUgb3ZlciBldmVyeSBzdHJpbmcgaW4gdGhlIGluZGV4XG4gICAgcmVjb3Jkcy5mb3JFYWNoKCh7IHY6IHRleHQsIGk6IGlkeCwgbjogbm9ybSB9KSA9PiB7XG4gICAgICBpZiAoIWlzRGVmaW5lZCh0ZXh0KSkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3QgeyBpc01hdGNoLCBzY29yZSwgaW5kaWNlcyB9ID0gc2VhcmNoZXIuc2VhcmNoSW4odGV4dCk7XG5cbiAgICAgIGlmIChpc01hdGNoKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgaXRlbTogdGV4dCxcbiAgICAgICAgICBpZHgsXG4gICAgICAgICAgbWF0Y2hlczogW3sgc2NvcmUsIHZhbHVlOiB0ZXh0LCBub3JtLCBpbmRpY2VzIH1dXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3VsdHNcbiAgfVxuXG4gIF9zZWFyY2hMb2dpY2FsKHF1ZXJ5KSB7XG5cbiAgICBjb25zdCBleHByZXNzaW9uID0gcGFyc2UocXVlcnksIHRoaXMub3B0aW9ucyk7XG5cbiAgICBjb25zdCBldmFsdWF0ZSA9IChub2RlLCBpdGVtLCBpZHgpID0+IHtcbiAgICAgIGlmICghbm9kZS5jaGlsZHJlbikge1xuICAgICAgICBjb25zdCB7IGtleUlkLCBzZWFyY2hlciB9ID0gbm9kZTtcblxuICAgICAgICBjb25zdCBtYXRjaGVzID0gdGhpcy5fZmluZE1hdGNoZXMoe1xuICAgICAgICAgIGtleTogdGhpcy5fa2V5U3RvcmUuZ2V0KGtleUlkKSxcbiAgICAgICAgICB2YWx1ZTogdGhpcy5fbXlJbmRleC5nZXRWYWx1ZUZvckl0ZW1BdEtleUlkKGl0ZW0sIGtleUlkKSxcbiAgICAgICAgICBzZWFyY2hlclxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAobWF0Y2hlcyAmJiBtYXRjaGVzLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkeCxcbiAgICAgICAgICAgICAgaXRlbSxcbiAgICAgICAgICAgICAgbWF0Y2hlc1xuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbXVxuICAgICAgfVxuXG4gICAgICBjb25zdCByZXMgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBub2RlLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gbm9kZS5jaGlsZHJlbltpXTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZXZhbHVhdGUoY2hpbGQsIGl0ZW0sIGlkeCk7XG4gICAgICAgIGlmIChyZXN1bHQubGVuZ3RoKSB7XG4gICAgICAgICAgcmVzLnB1c2goLi4ucmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIGlmIChub2RlLm9wZXJhdG9yID09PSBMb2dpY2FsT3BlcmF0b3IuQU5EKSB7XG4gICAgICAgICAgcmV0dXJuIFtdXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNcbiAgICB9O1xuXG4gICAgY29uc3QgcmVjb3JkcyA9IHRoaXMuX215SW5kZXgucmVjb3JkcztcbiAgICBjb25zdCByZXN1bHRNYXAgPSB7fTtcbiAgICBjb25zdCByZXN1bHRzID0gW107XG5cbiAgICByZWNvcmRzLmZvckVhY2goKHsgJDogaXRlbSwgaTogaWR4IH0pID0+IHtcbiAgICAgIGlmIChpc0RlZmluZWQoaXRlbSkpIHtcbiAgICAgICAgbGV0IGV4cFJlc3VsdHMgPSBldmFsdWF0ZShleHByZXNzaW9uLCBpdGVtLCBpZHgpO1xuXG4gICAgICAgIGlmIChleHBSZXN1bHRzLmxlbmd0aCkge1xuICAgICAgICAgIC8vIERlZHVwZSB3aGVuIGFkZGluZ1xuICAgICAgICAgIGlmICghcmVzdWx0TWFwW2lkeF0pIHtcbiAgICAgICAgICAgIHJlc3VsdE1hcFtpZHhdID0geyBpZHgsIGl0ZW0sIG1hdGNoZXM6IFtdIH07XG4gICAgICAgICAgICByZXN1bHRzLnB1c2gocmVzdWx0TWFwW2lkeF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBleHBSZXN1bHRzLmZvckVhY2goKHsgbWF0Y2hlcyB9KSA9PiB7XG4gICAgICAgICAgICByZXN1bHRNYXBbaWR4XS5tYXRjaGVzLnB1c2goLi4ubWF0Y2hlcyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiByZXN1bHRzXG4gIH1cblxuICBfc2VhcmNoT2JqZWN0TGlzdChxdWVyeSkge1xuICAgIGNvbnN0IHNlYXJjaGVyID0gY3JlYXRlU2VhcmNoZXIocXVlcnksIHRoaXMub3B0aW9ucyk7XG4gICAgY29uc3QgeyBrZXlzLCByZWNvcmRzIH0gPSB0aGlzLl9teUluZGV4O1xuICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcblxuICAgIC8vIExpc3QgaXMgQXJyYXk8T2JqZWN0PlxuICAgIHJlY29yZHMuZm9yRWFjaCgoeyAkOiBpdGVtLCBpOiBpZHggfSkgPT4ge1xuICAgICAgaWYgKCFpc0RlZmluZWQoaXRlbSkpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGxldCBtYXRjaGVzID0gW107XG5cbiAgICAgIC8vIEl0ZXJhdGUgb3ZlciBldmVyeSBrZXkgKGkuZSwgcGF0aCksIGFuZCBmZXRjaCB0aGUgdmFsdWUgYXQgdGhhdCBrZXlcbiAgICAgIGtleXMuZm9yRWFjaCgoa2V5LCBrZXlJbmRleCkgPT4ge1xuICAgICAgICBtYXRjaGVzLnB1c2goXG4gICAgICAgICAgLi4udGhpcy5fZmluZE1hdGNoZXMoe1xuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgdmFsdWU6IGl0ZW1ba2V5SW5kZXhdLFxuICAgICAgICAgICAgc2VhcmNoZXJcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChtYXRjaGVzLmxlbmd0aCkge1xuICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgIGlkeCxcbiAgICAgICAgICBpdGVtLFxuICAgICAgICAgIG1hdGNoZXNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzdWx0c1xuICB9XG4gIF9maW5kTWF0Y2hlcyh7IGtleSwgdmFsdWUsIHNlYXJjaGVyIH0pIHtcbiAgICBpZiAoIWlzRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBbXVxuICAgIH1cblxuICAgIGxldCBtYXRjaGVzID0gW107XG5cbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIHZhbHVlLmZvckVhY2goKHsgdjogdGV4dCwgaTogaWR4LCBuOiBub3JtIH0pID0+IHtcbiAgICAgICAgaWYgKCFpc0RlZmluZWQodGV4dCkpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgaXNNYXRjaCwgc2NvcmUsIGluZGljZXMgfSA9IHNlYXJjaGVyLnNlYXJjaEluKHRleHQpO1xuXG4gICAgICAgIGlmIChpc01hdGNoKSB7XG4gICAgICAgICAgbWF0Y2hlcy5wdXNoKHtcbiAgICAgICAgICAgIHNjb3JlLFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgdmFsdWU6IHRleHQsXG4gICAgICAgICAgICBpZHgsXG4gICAgICAgICAgICBub3JtLFxuICAgICAgICAgICAgaW5kaWNlc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgeyB2OiB0ZXh0LCBuOiBub3JtIH0gPSB2YWx1ZTtcblxuICAgICAgY29uc3QgeyBpc01hdGNoLCBzY29yZSwgaW5kaWNlcyB9ID0gc2VhcmNoZXIuc2VhcmNoSW4odGV4dCk7XG5cbiAgICAgIGlmIChpc01hdGNoKSB7XG4gICAgICAgIG1hdGNoZXMucHVzaCh7IHNjb3JlLCBrZXksIHZhbHVlOiB0ZXh0LCBub3JtLCBpbmRpY2VzIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtYXRjaGVzXG4gIH1cbn1cblxuRnVzZS52ZXJzaW9uID0gJzcuMC4wJztcbkZ1c2UuY3JlYXRlSW5kZXggPSBjcmVhdGVJbmRleDtcbkZ1c2UucGFyc2VJbmRleCA9IHBhcnNlSW5kZXg7XG5GdXNlLmNvbmZpZyA9IENvbmZpZztcblxue1xuICBGdXNlLnBhcnNlUXVlcnkgPSBwYXJzZTtcbn1cblxue1xuICByZWdpc3RlcihFeHRlbmRlZFNlYXJjaCk7XG59XG5cbmV4cG9ydCB7IEZ1c2UgYXMgZGVmYXVsdCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/fuse.js/dist/fuse.mjs\n");

/***/ }),

/***/ "./node_modules/scroll-into-view-if-needed/dist/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/scroll-into-view-if-needed/dist/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ e)\n/* harmony export */ });\n/* harmony import */ var compute_scroll_into_view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! compute-scroll-into-view */ \"./node_modules/compute-scroll-into-view/dist/index.js\");\nconst o=t=>!1===t?{block:\"end\",inline:\"nearest\"}:(t=>t===Object(t)&&0!==Object.keys(t).length)(t)?t:{block:\"start\",inline:\"nearest\"};function e(e,r){if(!e.isConnected||!(t=>{let o=t;for(;o&&o.parentNode;){if(o.parentNode===document)return!0;o=o.parentNode instanceof ShadowRoot?o.parentNode.host:o.parentNode}return!1})(e))return;const n=(t=>{const o=window.getComputedStyle(t);return{top:parseFloat(o.scrollMarginTop)||0,right:parseFloat(o.scrollMarginRight)||0,bottom:parseFloat(o.scrollMarginBottom)||0,left:parseFloat(o.scrollMarginLeft)||0}})(e);if((t=>\"object\"==typeof t&&\"function\"==typeof t.behavior)(r))return r.behavior((0,compute_scroll_into_view__WEBPACK_IMPORTED_MODULE_0__.compute)(e,r));const l=\"boolean\"==typeof r||null==r?void 0:r.behavior;for(const{el:a,top:i,left:s}of (0,compute_scroll_into_view__WEBPACK_IMPORTED_MODULE_0__.compute)(e,o(r))){const t=i-n.top+n.bottom,o=s-n.left+n.right;a.scroll({top:t,left:o,behavior:l})}}//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2Nyb2xsLWludG8tdmlldy1pZi1uZWVkZWQvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9zY3JvbGwtaW50by12aWV3LWlmLW5lZWRlZC9kaXN0L2luZGV4LmpzPzYyMzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e2NvbXB1dGUgYXMgdH1mcm9tXCJjb21wdXRlLXNjcm9sbC1pbnRvLXZpZXdcIjtjb25zdCBvPXQ9PiExPT09dD97YmxvY2s6XCJlbmRcIixpbmxpbmU6XCJuZWFyZXN0XCJ9Oih0PT50PT09T2JqZWN0KHQpJiYwIT09T2JqZWN0LmtleXModCkubGVuZ3RoKSh0KT90OntibG9jazpcInN0YXJ0XCIsaW5saW5lOlwibmVhcmVzdFwifTtmdW5jdGlvbiBlKGUscil7aWYoIWUuaXNDb25uZWN0ZWR8fCEodD0+e2xldCBvPXQ7Zm9yKDtvJiZvLnBhcmVudE5vZGU7KXtpZihvLnBhcmVudE5vZGU9PT1kb2N1bWVudClyZXR1cm4hMDtvPW8ucGFyZW50Tm9kZSBpbnN0YW5jZW9mIFNoYWRvd1Jvb3Q/by5wYXJlbnROb2RlLmhvc3Q6by5wYXJlbnROb2RlfXJldHVybiExfSkoZSkpcmV0dXJuO2NvbnN0IG49KHQ9Pntjb25zdCBvPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHQpO3JldHVybnt0b3A6cGFyc2VGbG9hdChvLnNjcm9sbE1hcmdpblRvcCl8fDAscmlnaHQ6cGFyc2VGbG9hdChvLnNjcm9sbE1hcmdpblJpZ2h0KXx8MCxib3R0b206cGFyc2VGbG9hdChvLnNjcm9sbE1hcmdpbkJvdHRvbSl8fDAsbGVmdDpwYXJzZUZsb2F0KG8uc2Nyb2xsTWFyZ2luTGVmdCl8fDB9fSkoZSk7aWYoKHQ9Plwib2JqZWN0XCI9PXR5cGVvZiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmJlaGF2aW9yKShyKSlyZXR1cm4gci5iZWhhdmlvcih0KGUscikpO2NvbnN0IGw9XCJib29sZWFuXCI9PXR5cGVvZiByfHxudWxsPT1yP3ZvaWQgMDpyLmJlaGF2aW9yO2Zvcihjb25zdHtlbDphLHRvcDppLGxlZnQ6c31vZiB0KGUsbyhyKSkpe2NvbnN0IHQ9aS1uLnRvcCtuLmJvdHRvbSxvPXMtbi5sZWZ0K24ucmlnaHQ7YS5zY3JvbGwoe3RvcDp0LGxlZnQ6byxiZWhhdmlvcjpsfSl9fWV4cG9ydHtlIGFzIGRlZmF1bHR9Oy8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/scroll-into-view-if-needed/dist/index.js\n");

/***/ })

}]);